(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function Gv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var od={exports:{}},no={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function wE(){if(g0)return no;g0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return no.Fragment=t,no.jsx=a,no.jsxs=a,no}var p0;function NE(){return p0||(p0=1,od.exports=wE()),od.exports}var p=NE(),ud={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function RE(){if(y0)return Ce;y0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function ne(M,Z,oe){this.props=M,this.context=Z,this.refs=G,this.updater=oe||Q}ne.prototype.isReactComponent={},ne.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},ne.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function le(){}le.prototype=ne.prototype;function ae(M,Z,oe){this.props=M,this.context=Z,this.refs=G,this.updater=oe||Q}var ve=ae.prototype=new le;ve.constructor=ae,q(ve,ne.prototype),ve.isPureReactComponent=!0;var we=Array.isArray;function Se(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(M,Z,oe){var ue=oe.ref;return{$$typeof:s,type:M,key:Z,ref:ue!==void 0?ue:null,props:oe}}function j(M,Z){return N(M.type,Z,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function z(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return Z[oe]})}var R=/\/+/g;function Je(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):Z.toString(36)}function dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Se,Se):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,Z,oe,ue,Te){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Ne){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case s:case t:ke=!0;break;case E:return ke=M._init,X(ke(M._payload),Z,oe,ue,Te)}}if(ke)return Te=Te(M),ke=ue===""?"."+Je(M,0):ue,we(Te)?(oe="",ke!=null&&(oe=ke.replace(R,"$&/")+"/"),X(Te,Z,oe,"",function(jn){return jn})):Te!=null&&(I(Te)&&(Te=j(Te,oe+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+ke)),Z.push(Te)),1;ke=0;var Et=ue===""?".":ue+":";if(we(M))for(var rt=0;rt<M.length;rt++)ue=M[rt],Ne=Et+Je(ue,rt),ke+=X(ue,Z,oe,Ne,Te);else if(rt=V(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(ue=M.next()).done;)ue=ue.value,Ne=Et+Je(ue,rt++),ke+=X(ue,Z,oe,Ne,Te);else if(Ne==="object"){if(typeof M.then=="function")return X(dt(M),Z,oe,ue,Te);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ie(M,Z,oe){if(M==null)return M;var ue=[],Te=0;return X(M,ue,"","",function(Ne){return Z.call(oe,Ne,Te++)}),ue}function _e(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var Oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Fe={map:ie,forEach:function(M,Z,oe){ie(M,function(){Z.apply(this,arguments)},oe)},count:function(M){var Z=0;return ie(M,function(){Z++}),Z},toArray:function(M){return ie(M,function(Z){return Z})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=T,Ce.Children=Fe,Ce.Component=ne,Ce.Fragment=a,Ce.Profiler=o,Ce.PureComponent=ae,Ce.StrictMode=r,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,Z,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=q({},M.props),Te=M.key;if(Z!=null)for(Ne in Z.key!==void 0&&(Te=""+Z.key),Z)!w.call(Z,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Z.ref===void 0||(ue[Ne]=Z[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=oe;else if(1<Ne){for(var ke=Array(Ne),Et=0;Et<Ne;Et++)ke[Et]=arguments[Et+2];ue.children=ke}return N(M.type,Te,ue)},Ce.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ce.createElement=function(M,Z,oe){var ue,Te={},Ne=null;if(Z!=null)for(ue in Z.key!==void 0&&(Ne=""+Z.key),Z)w.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=Z[ue]);var ke=arguments.length-2;if(ke===1)Te.children=oe;else if(1<ke){for(var Et=Array(ke),rt=0;rt<ke;rt++)Et[rt]=arguments[rt+2];Te.children=Et}if(M&&M.defaultProps)for(ue in ke=M.defaultProps,ke)Te[ue]===void 0&&(Te[ue]=ke[ue]);return N(M,Ne,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:m,render:M}},Ce.isValidElement=I,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:_e}},Ce.memo=function(M,Z){return{$$typeof:v,type:M,compare:Z===void 0?null:Z}},Ce.startTransition=function(M){var Z=C.T,oe={};C.T=oe;try{var ue=M(),Te=C.S;Te!==null&&Te(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Se,Oe)}catch(Ne){Oe(Ne)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),C.T=Z}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(M){return C.H.use(M)},Ce.useActionState=function(M,Z,oe){return C.H.useActionState(M,Z,oe)},Ce.useCallback=function(M,Z){return C.H.useCallback(M,Z)},Ce.useContext=function(M){return C.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,Z){return C.H.useDeferredValue(M,Z)},Ce.useEffect=function(M,Z){return C.H.useEffect(M,Z)},Ce.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(M,Z,oe){return C.H.useImperativeHandle(M,Z,oe)},Ce.useInsertionEffect=function(M,Z){return C.H.useInsertionEffect(M,Z)},Ce.useLayoutEffect=function(M,Z){return C.H.useLayoutEffect(M,Z)},Ce.useMemo=function(M,Z){return C.H.useMemo(M,Z)},Ce.useOptimistic=function(M,Z){return C.H.useOptimistic(M,Z)},Ce.useReducer=function(M,Z,oe){return C.H.useReducer(M,Z,oe)},Ce.useRef=function(M){return C.H.useRef(M)},Ce.useState=function(M){return C.H.useState(M)},Ce.useSyncExternalStore=function(M,Z,oe){return C.H.useSyncExternalStore(M,Z,oe)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.1",Ce}var v0;function nm(){return v0||(v0=1,ud.exports=RE()),ud.exports}var k=nm();const CE=Gv(k);var cd={exports:{}},ao={},hd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function DE(){return _0||(_0=1,(function(s){function t(X,ie){var _e=X.length;X.push(ie);e:for(;0<_e;){var Oe=_e-1>>>1,Fe=X[Oe];if(0<o(Fe,ie))X[Oe]=ie,X[_e]=Fe,_e=Oe;else break e}}function a(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ie=X[0],_e=X.pop();if(_e!==ie){X[0]=_e;e:for(var Oe=0,Fe=X.length,M=Fe>>>1;Oe<M;){var Z=2*(Oe+1)-1,oe=X[Z],ue=Z+1,Te=X[ue];if(0>o(oe,_e))ue<Fe&&0>o(Te,oe)?(X[Oe]=Te,X[ue]=_e,Oe=ue):(X[Oe]=oe,X[Z]=_e,Oe=Z);else if(ue<Fe&&0>o(Te,_e))X[Oe]=Te,X[ue]=_e,Oe=ue;else break e}}return ie}function o(X,ie){var _e=X.sortIndex-ie.sortIndex;return _e!==0?_e:X.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var y=[],v=[],E=1,T=null,A=3,V=!1,Q=!1,q=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ve(X){for(var ie=a(v);ie!==null;){if(ie.callback===null)r(v);else if(ie.startTime<=X)r(v),ie.sortIndex=ie.expirationTime,t(y,ie);else break;ie=a(v)}}function we(X){if(q=!1,ve(X),!Q)if(a(y)!==null)Q=!0,Se||(Se=!0,z());else{var ie=a(v);ie!==null&&dt(we,ie.startTime-X)}}var Se=!1,C=-1,w=5,N=-1;function j(){return G?!0:!(s.unstable_now()-N<w)}function I(){if(G=!1,Se){var X=s.unstable_now();N=X;var ie=!0;try{e:{Q=!1,q&&(q=!1,le(C),C=-1),V=!0;var _e=A;try{t:{for(ve(X),T=a(y);T!==null&&!(T.expirationTime>X&&j());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,A=T.priorityLevel;var Fe=Oe(T.expirationTime<=X);if(X=s.unstable_now(),typeof Fe=="function"){T.callback=Fe,ve(X),ie=!0;break t}T===a(y)&&r(y),ve(X)}else r(y);T=a(y)}if(T!==null)ie=!0;else{var M=a(v);M!==null&&dt(we,M.startTime-X),ie=!1}}break e}finally{T=null,A=_e,V=!1}ie=void 0}}finally{ie?z():Se=!1}}}var z;if(typeof ae=="function")z=function(){ae(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Je=R.port2;R.port1.onmessage=I,z=function(){Je.postMessage(null)}}else z=function(){ne(I,0)};function dt(X,ie){C=ne(function(){X(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return A},s.unstable_next=function(X){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var _e=A;A=ie;try{return X()}finally{A=_e}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(X,ie){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=A;A=X;try{return ie()}finally{A=_e}},s.unstable_scheduleCallback=function(X,ie,_e){var Oe=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Oe+_e:Oe):_e=Oe,X){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=_e+Fe,X={id:E++,callback:ie,priorityLevel:X,startTime:_e,expirationTime:Fe,sortIndex:-1},_e>Oe?(X.sortIndex=_e,t(v,X),a(y)===null&&X===a(v)&&(q?(le(C),C=-1):q=!0,dt(we,_e-Oe))):(X.sortIndex=Fe,t(y,X),Q||V||(Q=!0,Se||(Se=!0,z()))),X},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(X){var ie=A;return function(){var _e=A;A=ie;try{return X.apply(this,arguments)}finally{A=_e}}}})(fd)),fd}var b0;function IE(){return b0||(b0=1,hd.exports=DE()),hd.exports}var dd={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function jE(){if(E0)return sn;E0=1;var s=nm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:y,containerInfo:v,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(y,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,E)},sn.flushSync=function(y){var v=d.T,E=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=E,r.d.f()}},sn.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},sn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},sn.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var E=v.as,T=m(E,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,V=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:V}):E==="script"&&r.d.X(y,{crossOrigin:T,integrity:A,fetchPriority:V,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},sn.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=m(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},sn.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,T=m(E,v.crossOrigin);r.d.L(y,E,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},sn.preloadModule=function(y,v){if(typeof y=="string")if(v){var E=m(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},sn.requestFormReset=function(y){r.d.r(y)},sn.unstable_batchedUpdates=function(y,v){return y(v)},sn.useFormState=function(y,v,E){return d.H.useFormState(y,v,E)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.1",sn}var x0;function ME(){if(x0)return dd.exports;x0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),dd.exports=jE(),dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function VE(){if(T0)return ao;T0=1;var s=IE(),t=nm(),a=ME();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,l=n;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(r(188))}if(i.return!==l.return)i=h,l=f;else{for(var _=!1,x=h.child;x;){if(x===i){_=!0,i=h,l=f;break}if(x===l){_=!0,l=h,i=f;break}x=x.sibling}if(!_){for(x=f.child;x;){if(x===i){_=!0,i=f,l=h;break}if(x===l){_=!0,l=f,i=h;break}x=x.sibling}if(!_)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case ne:return"Profiler";case G:return"StrictMode";case we:return"Suspense";case Se:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case ae:return e.displayName||"Context";case le:return(e._context.displayName||"Context")+".Consumer";case ve:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Je(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Je(e(n))}catch{}}return null}var dt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Oe=[],Fe=-1;function M(e){return{current:e}}function Z(e){0>Fe||(e.current=Oe[Fe],Oe[Fe]=null,Fe--)}function oe(e,n){Fe++,Oe[Fe]=e.current,e.current=n}var ue=M(null),Te=M(null),Ne=M(null),ke=M(null);function Et(e,n){switch(oe(Ne,n),oe(Te,e),oe(ue,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=Uy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(ue),oe(ue,e)}function rt(){Z(ue),Z(Te),Z(Ne)}function jn(e){e.memoizedState!==null&&oe(ke,e);var n=ue.current,i=Uy(n,e.type);n!==i&&(oe(Te,e),oe(ue,i))}function se(e){Te.current===e&&(Z(ue),Z(Te)),ke.current===e&&(Z(ke),Jl._currentValue=_e)}var ce,We;function K(e){if(ce===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);ce=n&&n[1]||"",We=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+e+We}var me=!1;function ye(e,n){if(!e||me)return"";me=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var H=Y}Reflect.construct(e,[],W)}else{try{W.call()}catch(Y){H=Y}e.call(W.prototype)}}else{try{throw Error()}catch(Y){H=Y}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],x=f[1];if(_&&x){var D=_.split(`
`),B=x.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var $=`
`+D[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{me=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?K(i):""}function He(e,n){switch(e.tag){case 26:case 27:case 5:return K(e.type);case 16:return K("Lazy");case 13:return e.child!==n&&n!==null?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return ye(e.type,!1);case 11:return ye(e.type.render,!1);case 1:return ye(e.type,!0);case 31:return K("Activity");default:return""}}function gt(e){try{var n="",i=null;do n+=He(e,i),i=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,ht=s.unstable_scheduleCallback,ua=s.unstable_cancelCallback,Gi=s.unstable_shouldYield,Fi=s.unstable_requestPaint,Qe=s.unstable_now,hn=s.unstable_getCurrentPriorityLevel,tl=s.unstable_ImmediatePriority,nl=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,ch=s.unstable_LowPriority,Oo=s.unstable_IdlePriority,ko=s.log,zo=s.unstable_setDisableYieldValue,Kn=null,Xt=null;function Mn(e){if(typeof ko=="function"&&zo(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Kn,e)}catch{}}var wt=Math.clz32?Math.clz32:Uo,Lo=Math.log,Qi=Math.LN2;function Uo(e){return e>>>=0,e===0?32:31-(Lo(e)/Qi|0)|0}var ca=256,ri=262144,It=4194304;function ha(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fa(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?h=ha(l):(_&=x,_!==0?h=ha(_):i||(i=x&~e,i!==0&&(h=ha(i))))):(x=l&~f,x!==0?h=ha(x):_!==0?h=ha(_):i||(i=l&~e,i!==0&&(h=ha(i)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function hh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var e=It;return It<<=1,(It&62914560)===0&&(It=4194304),e}function da(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function li(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fh(e,n,i,l,h,f){var _=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var x=e.entanglements,D=e.expirationTimes,B=e.hiddenUpdates;for(i=_&~i;0<i;){var $=31-wt(i),W=1<<$;x[$]=0,D[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var Y=H[$];Y!==null&&(Y.lane&=-536870913)}i&=~W}l!==0&&oi(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function oi(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-wt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&261930}function al(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-wt(i),h=1<<l;h&n|e[l]&n&&(e[l]|=n),i&=~h}}function sl(e,n){var i=n&-n;return i=(i&42)!==0?1:ui(i),(i&(e.suspendedLanes|n))!==0?0:i}function ui(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function La(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bo(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:o0(e.type))}function $n(e,n){var i=ie.p;try{return ie.p=e,n()}finally{ie.p=i}}var Zn=Math.random().toString(36).slice(2),jt="__reactFiber$"+Zn,Ft="__reactProps$"+Zn,ma="__reactContainer$"+Zn,Yi="__reactEvents$"+Zn,dh="__reactListeners$"+Zn,qo="__reactHandles$"+Zn,Ho="__reactResources$"+Zn,ga="__reactMarker$"+Zn;function Ki(e){delete e[jt],delete e[Ft],delete e[Yi],delete e[dh],delete e[qo]}function pa(e){var n=e[jt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[ma]||i[jt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Qy(e);e!==null;){if(i=e[jt])return i;e=Qy(e)}return n}e=i,i=e.parentNode}return null}function Vn(e){if(e=e[jt]||e[ma]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ya(e){var n=e[Ho];return n||(n=e[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(e){e[ga]=!0}var il=new Set,rl={};function va(e,n){_a(e,n),_a(e+"Capture",n)}function _a(e,n){for(rl[e]=n,e=0;e<n.length;e++)il.add(n[e])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ul={};function Go(e){return ge.call(ul,e)?!0:ge.call(ol,e)?!1:ll.test(e)?ul[e]=!0:(ol[e]=!0,!1)}function Xi(e,n,i){if(Go(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Tn(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Vt(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cl(e,n,i){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){i=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(_){i=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function at(e){if(!e._valueTracker){var n=ds(e)?"checked":"value";e._valueTracker=cl(e,n,""+e[n])}}function ci(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=ds(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hi=/[\n"\\]/g;function fn(e){return e.replace(hi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $i(e,n,i,l,h,f,_,x){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qt(n)):e.value!==""+Qt(n)&&(e.value=""+Qt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?hl(e,_,Qt(n)):i!=null?hl(e,_,Qt(i)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Qt(x):e.removeAttribute("name")}function Fo(e,n,i,l,h,f,_,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){at(e);return}i=i!=null?""+Qt(i):"",n=n!=null?""+Qt(n):i,x||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),at(e)}function hl(e,n,i){n==="number"&&ba(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ms(e,n,i,l){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Qt(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qo(e,n,i){if(n!=null&&(n=""+Qt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Qt(i):""}function gs(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(r(92));if(dt(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=Qt(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l),at(e)}function dn(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||Yo.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function dl(e,n,i){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&i[h]!==l&&fl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&fl(e,f,n[f])}function Zi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ji(e){return ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var ml=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,Ea=null;function fi(e){var n=Vn(e);if(n&&(e=n.stateNode)){var i=e[Ft]||null;e:switch(e=n.stateNode,n.type){case"input":if($i(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var h=l[Ft]||null;if(!h)throw Error(r(90));$i(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&ci(l)}break e;case"textarea":Qo(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ms(e,!!i.multiple,n,!1)}}}var Wi=!1;function vs(e,n,i){if(Wi)return e(n,i);Wi=!0;try{var l=e(n);return l}finally{if(Wi=!1,(ys!==null||Ea!==null)&&(Bu(),ys&&(n=ys,e=Ea,Ea=ys=null,fi(n),e)))for(n=0;n<e.length;n++)fi(e[n])}}function Wn(e,n){var i=e.stateNode;if(i===null)return null;var l=i[Ft]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=!1;if(kn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){di=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{di=!1}var xa=null,gl=null,mi=null;function pl(){if(mi)return mi;var e,n=gl,i=n.length,l,h="value"in xa?xa.value:xa.textContent,f=h.length;for(e=0;e<i&&n[e]===h[e];e++);var _=i-e;for(l=1;l<=_&&n[i-l]===h[f-l];l++);return mi=h.slice(e,1<l?1-l:void 0)}function gi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function ea(){return!1}function $t(e){function n(i,l,h,f,_){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ua:ea,this.isPropagationStopped=ea,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),n}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=$t(Pa),_s=T({},Pa,{view:0,detail:0}),yl=$t(_s),bs,er,Sa,tr=T({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(bs=e.screenX-Sa.screenX,er=e.screenY-Sa.screenY):er=bs=0,Sa=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:er}}),vl=$t(tr),pi=T({},tr,{dataTransfer:0}),Xo=$t(pi),$o=T({},_s,{relatedTarget:0}),yi=$t($o),_l=T({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Zo=$t(_l),nr=T({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jo=$t(nr),Wo=T({},Pa,{data:0}),Aa=$t(Wo),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=nu[e])?!!n[e]:!1}function Es(){return au}var un=T({},_s,{key:function(e){if(e.key){var n=eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),su=$t(un),iu=T({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=$t(iu),u=T({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),g=$t(u),b=T({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$t(b),U=T({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=$t(U),re=T({},Pa,{newState:0,oldState:0}),Ie=$t(re),Nt=[9,13,27,32],et=kn&&"CompositionEvent"in window,_t=null;kn&&"documentMode"in document&&(_t=document.documentMode);var zn=kn&&"TextEvent"in window&&!_t,wa=kn&&(!et||_t&&8<_t&&11>=_t),ta=" ",na=!1;function vi(e,n){switch(e){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ar(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function $1(e,n){switch(e){case"compositionend":return ar(n);case"keypress":return n.which!==32?null:(na=!0,ta);case"textInput":return e=n.data,e===ta&&na?null:e;default:return null}}function Z1(e,n){if(sr)return e==="compositionend"||!et&&vi(e,n)?(e=pl(),mi=gl=xa=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wa&&n.locale!=="ko"?null:n.data;default:return null}}var J1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!J1[e.type]:n==="textarea"}function $m(e,n,i,l){ys?Ea?Ea.push(l):Ea=[l]:ys=l,n=Ku(n,"onChange"),0<n.length&&(i=new Ta("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var bl=null,El=null;function W1(e){jy(e,0)}function ru(e){var n=xn(e);if(ci(n))return e}function Zm(e,n){if(e==="change")return n}var Jm=!1;if(kn){var mh;if(kn){var gh="oninput"in document;if(!gh){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),gh=typeof Wm.oninput=="function"}mh=gh}else mh=!1;Jm=mh&&(!document.documentMode||9<document.documentMode)}function eg(){bl&&(bl.detachEvent("onpropertychange",tg),El=bl=null)}function tg(e){if(e.propertyName==="value"&&ru(El)){var n=[];$m(n,El,e,On(e)),vs(W1,n)}}function eb(e,n,i){e==="focusin"?(eg(),bl=n,El=i,bl.attachEvent("onpropertychange",tg)):e==="focusout"&&eg()}function tb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ru(El)}function nb(e,n){if(e==="click")return ru(n)}function ab(e,n){if(e==="input"||e==="change")return ru(n)}function sb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:sb;function xl(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!ge.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,n){var i=ng(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ng(i)}}function sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ba(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ba(e.document)}return n}function ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ib=kn&&"documentMode"in document&&11>=document.documentMode,ir=null,yh=null,Tl=null,vh=!1;function rg(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;vh||ir==null||ir!==ba(l)||(l=ir,"selectionStart"in l&&ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&xl(Tl,l)||(Tl=l,l=Ku(yh,"onSelect"),0<l.length&&(n=new Ta("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=ir)))}function _i(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var rr={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},_h={},lg={};kn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function bi(e){if(_h[e])return _h[e];if(!rr[e])return e;var n=rr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in lg)return _h[e]=n[i];return e}var og=bi("animationend"),ug=bi("animationiteration"),cg=bi("animationstart"),rb=bi("transitionrun"),lb=bi("transitionstart"),ob=bi("transitioncancel"),hg=bi("transitionend"),fg=new Map,bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bh.push("scrollEnd");function aa(e,n){fg.set(e,n),va(n,[e])}var lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],lr=0,Eh=0;function ou(){for(var e=lr,n=Eh=lr=0;n<e;){var i=Ln[n];Ln[n++]=null;var l=Ln[n];Ln[n++]=null;var h=Ln[n];Ln[n++]=null;var f=Ln[n];if(Ln[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&dg(i,h,f)}}function uu(e,n,i,l){Ln[lr++]=e,Ln[lr++]=n,Ln[lr++]=i,Ln[lr++]=l,Eh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function xh(e,n,i,l){return uu(e,n,i,l),cu(e)}function Ei(e,n){return uu(e,null,null,n),cu(e)}function dg(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var h=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-wt(i),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=i|536870912),f):null}function cu(e){if(50<Fl)throw Fl=0,jf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var or={};function ub(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,i,l){return new ub(e,n,i,l)}function Th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qa(e,n){var i=e.alternate;return i===null?(i=An(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function mg(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hu(e,n,i,l,h,f){var _=0;if(l=e,typeof e=="function")Th(e)&&(_=1);else if(typeof e=="string")_=mE(e,i,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=An(31,i,n,h),e.elementType=N,e.lanes=f,e;case q:return xi(i.children,h,f,n);case G:_=8,h|=24;break;case ne:return e=An(12,i,n,h|2),e.elementType=ne,e.lanes=f,e;case we:return e=An(13,i,n,h),e.elementType=we,e.lanes=f,e;case Se:return e=An(19,i,n,h),e.elementType=Se,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:_=10;break e;case le:_=9;break e;case ve:_=11;break e;case C:_=14;break e;case w:_=16,l=null;break e}_=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=An(_,i,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function xi(e,n,i,l){return e=An(7,e,l,n),e.lanes=i,e}function Sh(e,n,i){return e=An(6,e,null,n),e.lanes=i,e}function gg(e){var n=An(18,null,null,0);return n.stateNode=e,n}function Ah(e,n,i){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var pg=new WeakMap;function Un(e,n){if(typeof e=="object"&&e!==null){var i=pg.get(e);return i!==void 0?i:(n={value:e,source:n,stack:gt(n)},pg.set(e,n),n)}return{value:e,source:n,stack:gt(n)}}var ur=[],cr=0,fu=null,Sl=0,Pn=[],Bn=0,xs=null,Na=1,Ra="";function Ha(e,n){ur[cr++]=Sl,ur[cr++]=fu,fu=e,Sl=n}function yg(e,n,i){Pn[Bn++]=Na,Pn[Bn++]=Ra,Pn[Bn++]=xs,xs=e;var l=Na;e=Ra;var h=32-wt(l)-1;l&=~(1<<h),i+=1;var f=32-wt(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Na=1<<32-wt(n)+h|i<<h|l,Ra=f+e}else Na=1<<f|i<<h|l,Ra=e}function wh(e){e.return!==null&&(Ha(e,1),yg(e,1,0))}function Nh(e){for(;e===fu;)fu=ur[--cr],ur[cr]=null,Sl=ur[--cr],ur[cr]=null;for(;e===xs;)xs=Pn[--Bn],Pn[Bn]=null,Ra=Pn[--Bn],Pn[Bn]=null,Na=Pn[--Bn],Pn[Bn]=null}function vg(e,n){Pn[Bn++]=Na,Pn[Bn++]=Ra,Pn[Bn++]=xs,Na=n.id,Ra=n.overflow,xs=e}var Zt=null,pt=null,Ge=!1,Ts=null,qn=!1,Rh=Error(r(519));function Ss(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Un(n,e)),Rh}function _g(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[jt]=e,n[Ft]=l,i){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(i=0;i<Yl.length;i++)Le(Yl[i],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Fo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),gs(n,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||ky(n.textContent,i)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Ss(e,!0)}function bg(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Zt=Zt.return}}function hr(e){if(e!==Zt)return!1;if(!Ge)return bg(e),Ge=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Yf(e.type,e.memoizedProps)),i=!i),i&&pt&&Ss(e),bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));pt=Fy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));pt=Fy(e)}else n===27?(n=pt,Ls(e.type)?(e=Jf,Jf=null,pt=e):pt=n):pt=Zt?Gn(e.stateNode.nextSibling):null;return!0}function Ti(){pt=Zt=null,Ge=!1}function Ch(){var e=Ts;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Ts=null),e}function Al(e){Ts===null?Ts=[e]:Ts.push(e)}var Dh=M(null),Si=null,Ga=null;function As(e,n,i){oe(Dh,n._currentValue),n._currentValue=i}function Fa(e){e._currentValue=Dh.current,Z(Dh)}function Ih(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function jh(e,n,i,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=h;for(var D=0;D<n.length;D++)if(x.context===n[D]){f.lanes|=i,x=f.alternate,x!==null&&(x.lanes|=i),Ih(f.return,i,e),l||(_=null);break e}f=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=i,f=_.alternate,f!==null&&(f.lanes|=i),Ih(_,i,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function fr(e,n,i,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var x=h.type;Sn(h.pendingProps.value,_.value)||(e!==null?e.push(x):e=[x])}}else if(h===ke.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jl):e=[Jl])}h=h.return}e!==null&&jh(n,e,i,l),n.flags|=262144}function du(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){Si=e,Ga=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jt(e){return Eg(Si,e)}function mu(e,n){return Si===null&&Ai(e),Eg(e,n)}function Eg(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Ga===null){if(e===null)throw Error(r(308));Ga=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ga=Ga.next=n;return i}var cb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},hb=s.unstable_scheduleCallback,fb=s.unstable_NormalPriority,Ot={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new cb,data:new Map,refCount:0}}function wl(e){e.refCount--,e.refCount===0&&hb(fb,function(){e.controller.abort()})}var Nl=null,Vh=0,dr=0,mr=null;function db(e,n){if(Nl===null){var i=Nl=[];Vh=0,dr=Lf(),mr={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Vh++,n.then(xg,xg),n}function xg(){if(--Vh===0&&Nl!==null){mr!==null&&(mr.status="fulfilled");var e=Nl;Nl=null,dr=0,mr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function mb(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),l}var Tg=X.S;X.S=function(e,n){ry=Qe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&db(e,n),Tg!==null&&Tg(e,n)};var wi=M(null);function Oh(){var e=wi.current;return e!==null?e:ft.pooledCache}function gu(e,n){n===null?oe(wi,wi.current):oe(wi,n.pool)}function Sg(){var e=Oh();return e===null?null:{parent:Ot._currentValue,pool:e}}var gr=Error(r(460)),kh=Error(r(474)),pu=Error(r(542)),yu={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wg(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Jn,Jn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rg(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rg(e),e}throw Ri=n,gr}}function Ni(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ri=i,gr):i}}var Ri=null;function Ng(){if(Ri===null)throw Error(r(459));var e=Ri;return Ri=null,e}function Rg(e){if(e===gr||e===pu)throw Error(r(483))}var pr=null,Rl=0;function vu(e){var n=Rl;return Rl+=1,pr===null&&(pr=[]),wg(pr,e,n)}function Cl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function _u(e,n){throw n.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cg(e){function n(L,O){if(e){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function i(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=qa(L,O),L.index=0,L.sibling=null,L}function f(L,O,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function x(L,O,P,J){return O===null||O.tag!==6?(O=Sh(P,L.mode,J),O.return=L,O):(O=h(O,P),O.return=L,O)}function D(L,O,P,J){var be=P.type;return be===q?$(L,O,P.props.children,J,P.key):O!==null&&(O.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===w&&Ni(be)===O.type)?(O=h(O,P.props),Cl(O,P),O.return=L,O):(O=hu(P.type,P.key,P.props,null,L.mode,J),Cl(O,P),O.return=L,O)}function B(L,O,P,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Ah(P,L.mode,J),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function $(L,O,P,J,be){return O===null||O.tag!==7?(O=xi(P,L.mode,J,be),O.return=L,O):(O=h(O,P),O.return=L,O)}function W(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Sh(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return P=hu(O.type,O.key,O.props,null,L.mode,P),Cl(P,O),P.return=L,P;case Q:return O=Ah(O,L.mode,P),O.return=L,O;case w:return O=Ni(O),W(L,O,P)}if(dt(O)||z(O))return O=xi(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return W(L,vu(O),P);if(O.$$typeof===ae)return W(L,mu(L,O),P);_u(L,O)}return null}function H(L,O,P,J){var be=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return be!==null?null:x(L,O,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V:return P.key===be?D(L,O,P,J):null;case Q:return P.key===be?B(L,O,P,J):null;case w:return P=Ni(P),H(L,O,P,J)}if(dt(P)||z(P))return be!==null?null:$(L,O,P,J,null);if(typeof P.then=="function")return H(L,O,vu(P),J);if(P.$$typeof===ae)return H(L,O,mu(L,P),J);_u(L,P)}return null}function Y(L,O,P,J,be){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(P)||null,x(O,L,""+J,be);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return L=L.get(J.key===null?P:J.key)||null,D(O,L,J,be);case Q:return L=L.get(J.key===null?P:J.key)||null,B(O,L,J,be);case w:return J=Ni(J),Y(L,O,P,J,be)}if(dt(J)||z(J))return L=L.get(P)||null,$(O,L,J,be,null);if(typeof J.then=="function")return Y(L,O,P,vu(J),be);if(J.$$typeof===ae)return Y(L,O,P,mu(O,J),be);_u(O,J)}return null}function de(L,O,P,J){for(var be=null,Xe=null,pe=O,Me=O=0,Pe=null;pe!==null&&Me<P.length;Me++){pe.index>Me?(Pe=pe,pe=null):Pe=pe.sibling;var $e=H(L,pe,P[Me],J);if($e===null){pe===null&&(pe=Pe);break}e&&pe&&$e.alternate===null&&n(L,pe),O=f($e,O,Me),Xe===null?be=$e:Xe.sibling=$e,Xe=$e,pe=Pe}if(Me===P.length)return i(L,pe),Ge&&Ha(L,Me),be;if(pe===null){for(;Me<P.length;Me++)pe=W(L,P[Me],J),pe!==null&&(O=f(pe,O,Me),Xe===null?be=pe:Xe.sibling=pe,Xe=pe);return Ge&&Ha(L,Me),be}for(pe=l(pe);Me<P.length;Me++)Pe=Y(pe,L,Me,P[Me],J),Pe!==null&&(e&&Pe.alternate!==null&&pe.delete(Pe.key===null?Me:Pe.key),O=f(Pe,O,Me),Xe===null?be=Pe:Xe.sibling=Pe,Xe=Pe);return e&&pe.forEach(function(Hs){return n(L,Hs)}),Ge&&Ha(L,Me),be}function xe(L,O,P,J){if(P==null)throw Error(r(151));for(var be=null,Xe=null,pe=O,Me=O=0,Pe=null,$e=P.next();pe!==null&&!$e.done;Me++,$e=P.next()){pe.index>Me?(Pe=pe,pe=null):Pe=pe.sibling;var Hs=H(L,pe,$e.value,J);if(Hs===null){pe===null&&(pe=Pe);break}e&&pe&&Hs.alternate===null&&n(L,pe),O=f(Hs,O,Me),Xe===null?be=Hs:Xe.sibling=Hs,Xe=Hs,pe=Pe}if($e.done)return i(L,pe),Ge&&Ha(L,Me),be;if(pe===null){for(;!$e.done;Me++,$e=P.next())$e=W(L,$e.value,J),$e!==null&&(O=f($e,O,Me),Xe===null?be=$e:Xe.sibling=$e,Xe=$e);return Ge&&Ha(L,Me),be}for(pe=l(pe);!$e.done;Me++,$e=P.next())$e=Y(pe,L,Me,$e.value,J),$e!==null&&(e&&$e.alternate!==null&&pe.delete($e.key===null?Me:$e.key),O=f($e,O,Me),Xe===null?be=$e:Xe.sibling=$e,Xe=$e);return e&&pe.forEach(function(AE){return n(L,AE)}),Ge&&Ha(L,Me),be}function ct(L,O,P,J){if(typeof P=="object"&&P!==null&&P.type===q&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case V:e:{for(var be=P.key;O!==null;){if(O.key===be){if(be=P.type,be===q){if(O.tag===7){i(L,O.sibling),J=h(O,P.props.children),J.return=L,L=J;break e}}else if(O.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===w&&Ni(be)===O.type){i(L,O.sibling),J=h(O,P.props),Cl(J,P),J.return=L,L=J;break e}i(L,O);break}else n(L,O);O=O.sibling}P.type===q?(J=xi(P.props.children,L.mode,J,P.key),J.return=L,L=J):(J=hu(P.type,P.key,P.props,null,L.mode,J),Cl(J,P),J.return=L,L=J)}return _(L);case Q:e:{for(be=P.key;O!==null;){if(O.key===be)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){i(L,O.sibling),J=h(O,P.children||[]),J.return=L,L=J;break e}else{i(L,O);break}else n(L,O);O=O.sibling}J=Ah(P,L.mode,J),J.return=L,L=J}return _(L);case w:return P=Ni(P),ct(L,O,P,J)}if(dt(P))return de(L,O,P,J);if(z(P)){if(be=z(P),typeof be!="function")throw Error(r(150));return P=be.call(P),xe(L,O,P,J)}if(typeof P.then=="function")return ct(L,O,vu(P),J);if(P.$$typeof===ae)return ct(L,O,mu(L,P),J);_u(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(i(L,O.sibling),J=h(O,P),J.return=L,L=J):(i(L,O),J=Sh(P,L.mode,J),J.return=L,L=J),_(L)):i(L,O)}return function(L,O,P,J){try{Rl=0;var be=ct(L,O,P,J);return pr=null,be}catch(pe){if(pe===gr||pe===pu)throw pe;var Xe=An(29,pe,null,L.mode);return Xe.lanes=J,Xe.return=L,Xe}finally{}}}var Ci=Cg(!0),Dg=Cg(!1),ws=!1;function zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=cu(e),dg(e,null,i),n}return uu(e,l,n,i),cu(e)}function Dl(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,al(e,i)}}function Uh(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,i=i.next}while(i!==null);f===null?h=f=n:f=f.next=n}else h=f=n;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Ph=!1;function Il(){if(Ph){var e=mr;if(e!==null)throw e}}function jl(e,n,i,l){Ph=!1;var h=e.updateQueue;ws=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var D=x,B=D.next;D.next=null,_===null?f=B:_.next=B,_=D;var $=e.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==_&&(x===null?$.firstBaseUpdate=B:x.next=B,$.lastBaseUpdate=D))}if(f!==null){var W=h.baseState;_=0,$=B=D=null,x=f;do{var H=x.lane&-536870913,Y=H!==x.lane;if(Y?(Ue&H)===H:(l&H)===H){H!==0&&H===dr&&(Ph=!0),$!==null&&($=$.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var de=e,xe=x;H=n;var ct=i;switch(xe.tag){case 1:if(de=xe.payload,typeof de=="function"){W=de.call(ct,W,H);break e}W=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=xe.payload,H=typeof de=="function"?de.call(ct,W,H):de,H==null)break e;W=T({},W,H);break e;case 2:ws=!0}}H=x.callback,H!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(B=$=Y,D=W):$=$.next=Y,_|=H;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(D=W),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),Ms|=_,e.lanes=_,e.memoizedState=W}}function Ig(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function jg(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Ig(i[e],n)}var yr=M(null),bu=M(0);function Mg(e,n){e=es,oe(bu,e),oe(yr,n),es=e|n.baseLanes}function Bh(){oe(bu,es),oe(yr,yr.current)}function qh(){es=bu.current,Z(yr),Z(bu)}var wn=M(null),Hn=null;function Cs(e){var n=e.alternate;oe(Rt,Rt.current&1),oe(wn,e),Hn===null&&(n===null||yr.current!==null||n.memoizedState!==null)&&(Hn=e)}function Hh(e){oe(Rt,Rt.current),oe(wn,e),Hn===null&&(Hn=e)}function Vg(e){e.tag===22?(oe(Rt,Rt.current),oe(wn,e),Hn===null&&(Hn=e)):Ds()}function Ds(){oe(Rt,Rt.current),oe(wn,wn.current)}function Nn(e){Z(wn),Hn===e&&(Hn=null),Z(Rt)}var Rt=M(0);function Eu(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||$f(i)||Zf(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qa=0,je=null,ot=null,kt=null,xu=!1,vr=!1,Di=!1,Tu=0,Ml=0,_r=null,gb=0;function St(){throw Error(r(321))}function Gh(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Sn(e[i],n[i]))return!1;return!0}function Fh(e,n,i,l,h,f){return Qa=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?yp:lf,Di=!1,f=i(l,h),Di=!1,vr&&(f=kg(n,i,l,h)),Og(e),f}function Og(e){X.H=kl;var n=ot!==null&&ot.next!==null;if(Qa=0,kt=ot=je=null,xu=!1,Ml=0,_r=null,n)throw Error(r(300));e===null||zt||(e=e.dependencies,e!==null&&du(e)&&(zt=!0))}function kg(e,n,i,l){je=e;var h=0;do{if(vr&&(_r=null),Ml=0,vr=!1,25<=h)throw Error(r(301));if(h+=1,kt=ot=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=vp,f=n(i,l)}while(vr);return f}function pb(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?Vl(n):n,e=e.useState()[0],(ot!==null?ot.memoizedState:null)!==e&&(je.flags|=1024),n}function Qh(){var e=Tu!==0;return Tu=0,e}function Yh(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Kh(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}Qa=0,kt=ot=je=null,vr=!1,Ml=Tu=0,_r=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?je.memoizedState=kt=e:kt=kt.next=e,kt}function Ct(){if(ot===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var n=kt===null?je.memoizedState:kt.next;if(n!==null)kt=n,ot=e;else{if(e===null)throw je.alternate===null?Error(r(467)):Error(r(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},kt===null?je.memoizedState=kt=e:kt=kt.next=e}return kt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(e){var n=Ml;return Ml+=1,_r===null&&(_r=[]),e=wg(_r,e,n),n=je,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?yp:lf),e}function Au(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vl(e);if(e.$$typeof===ae)return Jt(e)}throw Error(r(438,String(e)))}function Xh(e){var n=null,i=je.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Su(),je.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=j;return n.index++,i}function Ya(e,n){return typeof n=="function"?n(e):n}function wu(e){var n=Ct();return $h(n,ot,e)}function $h(e,n,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var x=_=null,D=null,B=n,$=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Ue&W)===W:(Qa&W)===W){var H=B.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===dr&&($=!0);else if((Qa&H)===H){B=B.next,H===dr&&($=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(x=D=W,_=f):D=D.next=W,je.lanes|=H,Ms|=H;W=B.action,Di&&i(f,W),f=B.hasEagerState?B.eagerState:i(f,W)}else H={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(x=D=H,_=f):D=D.next=H,je.lanes|=W,Ms|=W;B=B.next}while(B!==null&&B!==n);if(D===null?_=f:D.next=x,!Sn(f,e.memoizedState)&&(zt=!0,$&&(i=mr,i!==null)))throw i;e.memoizedState=f,e.baseState=_,e.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zh(e){var n=Ct(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,h=i.pending,f=n.memoizedState;if(h!==null){i.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);Sn(f,n.memoizedState)||(zt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function zg(e,n,i){var l=je,h=Ct(),f=Ge;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=n();var _=!Sn((ot||h).memoizedState,i);if(_&&(h.memoizedState=i,zt=!0),h=h.queue,ef(Pg.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,br(9,{destroy:void 0},Ug.bind(null,l,h,i,n),null),ft===null)throw Error(r(349));f||(Qa&127)!==0||Lg(l,n,i)}return i}function Lg(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=je.updateQueue,n===null?(n=Su(),je.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Ug(e,n,i,l){n.value=i,n.getSnapshot=l,Bg(n)&&qg(e)}function Pg(e,n,i){return i(function(){Bg(n)&&qg(e)})}function Bg(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Sn(e,i)}catch{return!0}}function qg(e){var n=Ei(e,2);n!==null&&vn(n,e,2)}function Jh(e){var n=cn();if(typeof e=="function"){var i=e;if(e=i(),Di){Mn(!0);try{i()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},n}function Hg(e,n,i,l){return e.baseState=i,$h(e,ot,typeof l=="function"?l:Ya)}function yb(e,n,i,l,h){if(Cu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};X.T!==null?i(!0):f.isTransition=!1,l(f),i=n.pending,i===null?(f.next=n.pending=f,Gg(n,f)):(f.next=i.next,n.pending=i.next=f)}}function Gg(e,n){var i=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=X.T,_={};X.T=_;try{var x=i(h,l),D=X.S;D!==null&&D(_,x),Fg(e,n,x)}catch(B){Wh(e,n,B)}finally{f!==null&&_.types!==null&&(f.types=_.types),X.T=f}}else try{f=i(h,l),Fg(e,n,f)}catch(B){Wh(e,n,B)}}function Fg(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Qg(e,n,l)},function(l){return Wh(e,n,l)}):Qg(e,n,i)}function Qg(e,n,i){n.status="fulfilled",n.value=i,Yg(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Gg(e,i)))}function Wh(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,Yg(n),n=n.next;while(n!==l)}e.action=null}function Yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kg(e,n){return n}function Xg(e,n){if(Ge){var i=ft.formState;if(i!==null){e:{var l=je;if(Ge){if(pt){t:{for(var h=pt,f=qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){pt=Gn(h.nextSibling),l=h.data==="F!";break e}}Ss(l)}l=!1}l&&(n=i[0])}}return i=cn(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:n},i.queue=l,i=mp.bind(null,je,l),l.dispatch=i,l=Jh(!1),f=rf.bind(null,je,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,i=yb.bind(null,je,h,f,i),h.dispatch=i,l.memoizedState=e,[n,i,!1]}function $g(e){var n=Ct();return Zg(n,ot,e)}function Zg(e,n,i){if(n=$h(e,n,Kg)[0],e=wu(Ya)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Vl(n)}catch(_){throw _===gr?pu:_}else l=n;n=Ct();var h=n.queue,f=h.dispatch;return i!==n.memoizedState&&(je.flags|=2048,br(9,{destroy:void 0},vb.bind(null,h,i),null)),[l,f,e]}function vb(e,n){e.action=n}function Jg(e){var n=Ct(),i=ot;if(i!==null)return Zg(n,i,e);Ct(),n=n.memoizedState,i=Ct();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function br(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=Su(),je.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function Wg(){return Ct().memoizedState}function Nu(e,n,i,l){var h=cn();je.flags|=e,h.memoizedState=br(1|n,{destroy:void 0},i,l===void 0?null:l)}function Ru(e,n,i,l){var h=Ct();l=l===void 0?null:l;var f=h.memoizedState.inst;ot!==null&&l!==null&&Gh(l,ot.memoizedState.deps)?h.memoizedState=br(n,f,i,l):(je.flags|=e,h.memoizedState=br(1|n,f,i,l))}function ep(e,n){Nu(8390656,8,e,n)}function ef(e,n){Ru(2048,8,e,n)}function _b(e){je.flags|=4;var n=je.updateQueue;if(n===null)n=Su(),je.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function tp(e){var n=Ct().memoizedState;return _b({ref:n,nextImpl:e}),function(){if((tt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function np(e,n){return Ru(4,2,e,n)}function ap(e,n){return Ru(4,4,e,n)}function sp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ip(e,n,i){i=i!=null?i.concat([e]):null,Ru(4,4,sp.bind(null,n,e),i)}function tf(){}function rp(e,n){var i=Ct();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&Gh(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function lp(e,n){var i=Ct();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&Gh(n,l[1]))return l[0];if(l=e(),Di){Mn(!0);try{e()}finally{Mn(!1)}}return i.memoizedState=[l,n],l}function nf(e,n,i){return i===void 0||(Qa&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=oy(),je.lanes|=e,Ms|=e,i)}function op(e,n,i,l){return Sn(i,n)?i:yr.current!==null?(e=nf(e,i,l),Sn(e,n)||(zt=!0),e):(Qa&42)===0||(Qa&1073741824)!==0&&(Ue&261930)===0?(zt=!0,e.memoizedState=i):(e=oy(),je.lanes|=e,Ms|=e,n)}function up(e,n,i,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=X.T,x={};X.T=x,rf(e,!1,n,i);try{var D=h(),B=X.S;if(B!==null&&B(x,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=mb(D,l);Ol(e,n,$,Dn(e))}else Ol(e,n,l,Dn(e))}catch(W){Ol(e,n,{then:function(){},status:"rejected",reason:W},Dn())}finally{ie.p=f,_!==null&&x.types!==null&&(_.types=x.types),X.T=_}}function bb(){}function af(e,n,i,l){if(e.tag!==5)throw Error(r(476));var h=cp(e).queue;up(e,h,n,_e,i===null?bb:function(){return hp(e),i(l)})}function cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:_e},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hp(e){var n=cp(e);n.next===null&&(n=e.alternate.memoizedState),Ol(e,n.next.queue,{},Dn())}function sf(){return Jt(Jl)}function fp(){return Ct().memoizedState}function dp(){return Ct().memoizedState}function Eb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Dn();e=Ns(i);var l=Rs(n,e,i);l!==null&&(vn(l,n,i),Dl(l,n,i)),n={cache:Mh()},e.payload=n;return}n=n.return}}function xb(e,n,i){var l=Dn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Cu(e)?gp(n,i):(i=xh(e,n,i,l),i!==null&&(vn(i,e,l),pp(i,n,l)))}function mp(e,n,i){var l=Dn();Ol(e,n,i,l)}function Ol(e,n,i,l){var h={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))gp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,x=f(_,i);if(h.hasEagerState=!0,h.eagerState=x,Sn(x,_))return uu(e,n,h,0),ft===null&&ou(),!1}catch{}finally{}if(i=xh(e,n,h,l),i!==null)return vn(i,e,l),pp(i,n,l),!0}return!1}function rf(e,n,i,l){if(l={lane:2,revertLane:Lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(n)throw Error(r(479))}else n=xh(e,i,l,2),n!==null&&vn(n,e,2)}function Cu(e){var n=e.alternate;return e===je||n!==null&&n===je}function gp(e,n){vr=xu=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function pp(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,al(e,i)}}var kl={readContext:Jt,use:Au,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};kl.useEffectEvent=St;var yp={readContext:Jt,use:Au,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Jt,useEffect:ep,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Nu(4194308,4,sp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Nu(4194308,4,e,n)},useInsertionEffect:function(e,n){Nu(4,2,e,n)},useMemo:function(e,n){var i=cn();n=n===void 0?null:n;var l=e();if(Di){Mn(!0);try{e()}finally{Mn(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=cn();if(i!==void 0){var h=i(n);if(Di){Mn(!0);try{i(n)}finally{Mn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=xb.bind(null,je,e),[l.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Jh(e);var n=e.queue,i=mp.bind(null,je,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:tf,useDeferredValue:function(e,n){var i=cn();return nf(i,e,n)},useTransition:function(){var e=Jh(!1);return e=up.bind(null,je,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=je,h=cn();if(Ge){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),ft===null)throw Error(r(349));(Ue&127)!==0||Lg(l,n,i)}h.memoizedState=i;var f={value:i,getSnapshot:n};return h.queue=f,ep(Pg.bind(null,l,f,e),[e]),l.flags|=2048,br(9,{destroy:void 0},Ug.bind(null,l,f,i,n),null),i},useId:function(){var e=cn(),n=ft.identifierPrefix;if(Ge){var i=Ra,l=Na;i=(l&~(1<<32-wt(l)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Tu++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=gb++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:sf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=rf.bind(null,je,!0,i),i.dispatch=n,[e,n]},useMemoCache:Xh,useCacheRefresh:function(){return cn().memoizedState=Eb.bind(null,je)},useEffectEvent:function(e){var n=cn(),i={impl:e};return n.memoizedState=i,function(){if((tt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},lf={readContext:Jt,use:Au,useCallback:rp,useContext:Jt,useEffect:ef,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:ap,useMemo:lp,useReducer:wu,useRef:Wg,useState:function(){return wu(Ya)},useDebugValue:tf,useDeferredValue:function(e,n){var i=Ct();return op(i,ot.memoizedState,e,n)},useTransition:function(){var e=wu(Ya)[0],n=Ct().memoizedState;return[typeof e=="boolean"?e:Vl(e),n]},useSyncExternalStore:zg,useId:fp,useHostTransitionStatus:sf,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var i=Ct();return Hg(i,ot,e,n)},useMemoCache:Xh,useCacheRefresh:dp};lf.useEffectEvent=tp;var vp={readContext:Jt,use:Au,useCallback:rp,useContext:Jt,useEffect:ef,useImperativeHandle:ip,useInsertionEffect:np,useLayoutEffect:ap,useMemo:lp,useReducer:Zh,useRef:Wg,useState:function(){return Zh(Ya)},useDebugValue:tf,useDeferredValue:function(e,n){var i=Ct();return ot===null?nf(i,e,n):op(i,ot.memoizedState,e,n)},useTransition:function(){var e=Zh(Ya)[0],n=Ct().memoizedState;return[typeof e=="boolean"?e:Vl(e),n]},useSyncExternalStore:zg,useId:fp,useHostTransitionStatus:sf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var i=Ct();return ot!==null?Hg(i,ot,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:dp};vp.useEffectEvent=tp;function of(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:T({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var uf={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=Dn(),h=Ns(l);h.payload=n,i!=null&&(h.callback=i),n=Rs(e,h,l),n!==null&&(vn(n,e,l),Dl(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=Dn(),h=Ns(l);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=Rs(e,h,l),n!==null&&(vn(n,e,l),Dl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Dn(),l=Ns(i);l.tag=2,n!=null&&(l.callback=n),n=Rs(e,l,i),n!==null&&(vn(n,e,i),Dl(n,e,i))}};function _p(e,n,i,l,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!xl(i,l)||!xl(h,f):!0}function bp(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&uf.enqueueReplaceState(n,n.state,null)}function Ii(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=T({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}function Ep(e){lu(e)}function xp(e){console.error(e)}function Tp(e){lu(e)}function Du(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Sp(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cf(e,n,i){return i=Ns(i),i.tag=3,i.payload={element:null},i.callback=function(){Du(e,n)},i}function Ap(e){return e=Ns(e),e.tag=3,e}function wp(e,n,i,l){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Sp(n,i,l)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Sp(n,i,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Tb(e,n,i,l,h){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&fr(n,i,h,!0),i=wn.current,i!==null){switch(i.tag){case 31:case 13:return Hn===null?qu():i.alternate===null&&At===0&&(At=3),i.flags&=-257,i.flags|=65536,i.lanes=h,l===yu?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Of(e,l,h)),!1;case 22:return i.flags|=65536,l===yu?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Of(e,l,h)),!1}throw Error(r(435,i.tag))}return Of(e,l,h),qu(),!1}if(Ge)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Rh&&(e=Error(r(422),{cause:l}),Al(Un(e,i)))):(l!==Rh&&(n=Error(r(423),{cause:l}),Al(Un(n,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Un(l,i),h=cf(e.stateNode,l,h),Uh(e,h),At!==4&&(At=2)),!1;var f=Error(r(520),{cause:l});if(f=Un(f,i),Gl===null?Gl=[f]:Gl.push(f),At!==4&&(At=2),n===null)return!0;l=Un(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=cf(i.stateNode,l,e),Uh(i,e),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Ap(h),wp(h,e,i,l),Uh(i,h),!1}i=i.return}while(i!==null);return!1}var hf=Error(r(461)),zt=!1;function Wt(e,n,i,l){n.child=e===null?Dg(n,null,i,l):Ci(n,e.child,i,l)}function Np(e,n,i,l,h){i=i.render;var f=n.ref;if("ref"in l){var _={};for(var x in l)x!=="ref"&&(_[x]=l[x])}else _=l;return Ai(n),l=Fh(e,n,i,_,f,h),x=Qh(),e!==null&&!zt?(Yh(e,n,h),Ka(e,n,h)):(Ge&&x&&wh(n),n.flags|=1,Wt(e,n,l,h),n.child)}function Rp(e,n,i,l,h){if(e===null){var f=i.type;return typeof f=="function"&&!Th(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,Cp(e,n,f,l,h)):(e=hu(i.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!_f(e,h)){var _=f.memoizedProps;if(i=i.compare,i=i!==null?i:xl,i(_,l)&&e.ref===n.ref)return Ka(e,n,h)}return n.flags|=1,e=qa(f,l),e.ref=n.ref,e.return=n,n.child=e}function Cp(e,n,i,l,h){if(e!==null){var f=e.memoizedProps;if(xl(f,l)&&e.ref===n.ref)if(zt=!1,n.pendingProps=l=f,_f(e,h))(e.flags&131072)!==0&&(zt=!0);else return n.lanes=e.lanes,Ka(e,n,h)}return ff(e,n,i,l,h)}function Dp(e,n,i,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Ip(e,n,f,i,l)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(n,f!==null?f.cachePool:null),f!==null?Mg(n,f):Bh(),Vg(n);else return l=n.lanes=536870912,Ip(e,n,f!==null?f.baseLanes|i:i,i,l)}else f!==null?(gu(n,f.cachePool),Mg(n,f),Ds(),n.memoizedState=null):(e!==null&&gu(n,null),Bh(),Ds());return Wt(e,n,h,i),n.child}function zl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ip(e,n,i,l,h){var f=Oh();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:i,cachePool:f},e!==null&&gu(n,null),Bh(),Vg(n),e!==null&&fr(e,n,l,!0),n.childLanes=h,null}function Iu(e,n){return n=Mu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function jp(e,n,i){return Ci(n,e.child,null,i),e=Iu(n,n.pendingProps),e.flags|=2,Nn(n),n.memoizedState=null,e}function Sb(e,n,i){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ge){if(l.mode==="hidden")return e=Iu(n,l),n.lanes=536870912,zl(null,e);if(Hh(n),(e=pt)?(e=Gy(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xs!==null?{id:Na,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},i=gg(e),i.return=n,n.child=i,Zt=n,pt=null)):e=null,e===null)throw Ss(n);return n.lanes=536870912,null}return Iu(n,l)}var f=e.memoizedState;if(f!==null){var _=f.dehydrated;if(Hh(n),h)if(n.flags&256)n.flags&=-257,n=jp(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(zt||fr(e,n,i,!1),h=(i&e.childLanes)!==0,zt||h){if(l=ft,l!==null&&(_=sl(l,i),_!==0&&_!==f.retryLane))throw f.retryLane=_,Ei(e,_),vn(l,e,_),hf;qu(),n=jp(e,n,i)}else e=f.treeContext,pt=Gn(_.nextSibling),Zt=n,Ge=!0,Ts=null,qn=!1,e!==null&&vg(n,e),n=Iu(n,l),n.flags|=4096;return n}return e=qa(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ju(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function ff(e,n,i,l,h){return Ai(n),i=Fh(e,n,i,l,void 0,h),l=Qh(),e!==null&&!zt?(Yh(e,n,h),Ka(e,n,h)):(Ge&&l&&wh(n),n.flags|=1,Wt(e,n,i,h),n.child)}function Mp(e,n,i,l,h,f){return Ai(n),n.updateQueue=null,i=kg(n,l,i,h),Og(e),l=Qh(),e!==null&&!zt?(Yh(e,n,f),Ka(e,n,f)):(Ge&&l&&wh(n),n.flags|=1,Wt(e,n,i,f),n.child)}function Vp(e,n,i,l,h){if(Ai(n),n.stateNode===null){var f=or,_=i.contextType;typeof _=="object"&&_!==null&&(f=Jt(_)),f=new i(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},zh(n),_=i.contextType,f.context=typeof _=="object"&&_!==null?Jt(_):or,f.state=n.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(of(n,i,_,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&uf.enqueueReplaceState(f,f.state,null),jl(n,l,f,h),Il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var x=n.memoizedProps,D=Ii(i,x);f.props=D;var B=f.context,$=i.contextType;_=or,typeof $=="object"&&$!==null&&(_=Jt($));var W=i.getDerivedStateFromProps;$=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||B!==_)&&bp(n,f,l,_),ws=!1;var H=n.memoizedState;f.state=H,jl(n,l,f,h),Il(),B=n.memoizedState,x||H!==B||ws?(typeof W=="function"&&(of(n,i,W,l),B=n.memoizedState),(D=ws||_p(n,i,D,l,H,B,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=_,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Lh(e,n),_=n.memoizedProps,$=Ii(i,_),f.props=$,W=n.pendingProps,H=f.context,B=i.contextType,D=or,typeof B=="object"&&B!==null&&(D=Jt(B)),x=i.getDerivedStateFromProps,(B=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||H!==D)&&bp(n,f,l,D),ws=!1,H=n.memoizedState,f.state=H,jl(n,l,f,h),Il();var Y=n.memoizedState;_!==W||H!==Y||ws||e!==null&&e.dependencies!==null&&du(e.dependencies)?(typeof x=="function"&&(of(n,i,x,l),Y=n.memoizedState),($=ws||_p(n,i,$,l,H,Y,D)||e!==null&&e.dependencies!==null&&du(e.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),f.props=l,f.state=Y,f.context=D,l=$):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,ju(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ci(n,e.child,null,h),n.child=Ci(n,null,i,h)):Wt(e,n,i,h),n.memoizedState=f.state,e=n.child):e=Ka(e,n,h),e}function Op(e,n,i,l){return Ti(),n.flags|=256,Wt(e,n,i,l),n.child}var df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(e){return{baseLanes:e,cachePool:Sg()}}function gf(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Cn),e}function kp(e,n,i){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ge){if(h?Cs(n):Ds(),(e=pt)?(e=Gy(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xs!==null?{id:Na,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},i=gg(e),i.return=n,n.child=i,Zt=n,pt=null)):e=null,e===null)throw Ss(n);return Zf(e)?n.lanes=32:n.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(Ds(),h=n.mode,x=Mu({mode:"hidden",children:x},h),l=xi(l,h,i,null),x.return=n,l.return=n,x.sibling=l,n.child=x,l=n.child,l.memoizedState=mf(i),l.childLanes=gf(e,_,i),n.memoizedState=df,zl(null,l)):(Cs(n),pf(n,x))}var D=e.memoizedState;if(D!==null&&(x=D.dehydrated,x!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=yf(e,n,i)):n.memoizedState!==null?(Ds(),n.child=e.child,n.flags|=128,n=null):(Ds(),x=l.fallback,h=n.mode,l=Mu({mode:"visible",children:l.children},h),x=xi(x,h,i,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,Ci(n,e.child,null,i),l=n.child,l.memoizedState=mf(i),l.childLanes=gf(e,_,i),n.memoizedState=df,n=zl(null,l));else if(Cs(n),Zf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(r(419)),l.stack="",l.digest=_,Al({value:l,source:null,stack:null}),n=yf(e,n,i)}else if(zt||fr(e,n,i,!1),_=(i&e.childLanes)!==0,zt||_){if(_=ft,_!==null&&(l=sl(_,i),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ei(e,l),vn(_,e,l),hf;$f(x)||qu(),n=yf(e,n,i)}else $f(x)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,pt=Gn(x.nextSibling),Zt=n,Ge=!0,Ts=null,qn=!1,e!==null&&vg(n,e),n=pf(n,l.children),n.flags|=4096);return n}return h?(Ds(),x=l.fallback,h=n.mode,D=e.child,B=D.sibling,l=qa(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?x=qa(B,x):(x=xi(x,h,i,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,zl(null,l),l=n.child,x=e.child.memoizedState,x===null?x=mf(i):(h=x.cachePool,h!==null?(D=Ot._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Sg(),x={baseLanes:x.baseLanes|i,cachePool:h}),l.memoizedState=x,l.childLanes=gf(e,_,i),n.memoizedState=df,zl(e.child,l)):(Cs(n),i=e.child,e=i.sibling,i=qa(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=i,n.memoizedState=null,i)}function pf(e,n){return n=Mu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Mu(e,n){return e=An(22,e,null,n),e.lanes=0,e}function yf(e,n,i){return Ci(n,e.child,null,i),e=pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zp(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ih(e.return,n,i)}function vf(e,n,i,l,h,f){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=i,_.tailMode=h,_.treeForkCount=f)}function Lp(e,n,i){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=Rt.current,x=(_&2)!==0;if(x?(_=_&1|2,n.flags|=128):_&=1,oe(Rt,_),Wt(e,n,l,i),l=Ge?Sl:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,i,n);else if(e.tag===19)zp(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Eu(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),vf(n,!1,h,i,f,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Eu(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}vf(n,!0,i,null,f,l);break;case"together":vf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ka(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Ms|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(fr(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=qa(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=qa(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function _f(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&du(e)))}function Ab(e,n,i){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),As(n,Ot,e.memoizedState.cache),Ti();break;case 27:case 5:jn(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Hh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(n),n.flags|=128,null):(i&n.child.childLanes)!==0?kp(e,n,i):(Cs(n),e=Ka(e,n,i),e!==null?e.sibling:null);Cs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(fr(e,n,i,!1),l=(i&n.childLanes)!==0),h){if(l)return Lp(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Rt,Rt.current),l)break;return null;case 22:return n.lanes=0,Dp(e,n,i,n.pendingProps);case 24:As(n,Ot,e.memoizedState.cache)}return Ka(e,n,i)}function Up(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)zt=!0;else{if(!_f(e,i)&&(n.flags&128)===0)return zt=!1,Ab(e,n,i);zt=(e.flags&131072)!==0}else zt=!1,Ge&&(n.flags&1048576)!==0&&yg(n,Sl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Ni(n.elementType),n.type=e,typeof e=="function")Th(e)?(l=Ii(e,l),n.tag=1,n=Vp(null,n,e,l,i)):(n.tag=0,n=ff(null,n,e,l,i));else{if(e!=null){var h=e.$$typeof;if(h===ve){n.tag=11,n=Np(null,n,e,l,i);break e}else if(h===C){n.tag=14,n=Rp(null,n,e,l,i);break e}}throw n=Je(e)||e,Error(r(306,n,""))}}return n;case 0:return ff(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,h=Ii(l,n.pendingProps),Vp(e,n,l,h,i);case 3:e:{if(Et(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Lh(e,n),jl(n,l,null,i);var _=n.memoizedState;if(l=_.cache,As(n,Ot,l),l!==f.cache&&jh(n,[Ot],i,!0),Il(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Op(e,n,l,i);break e}else if(l!==h){h=Un(Error(r(424)),n),Al(h),n=Op(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pt=Gn(e.firstChild),Zt=n,Ge=!0,Ts=null,qn=!0,i=Dg(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ti(),l===h){n=Ka(e,n,i);break e}Wt(e,n,l,i)}n=n.child}return n;case 26:return ju(e,n),e===null?(i=$y(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ge||(i=n.type,e=n.pendingProps,l=Xu(Ne.current).createElement(i),l[jt]=n,l[Ft]=e,en(l,i,e),Mt(l),n.stateNode=l):n.memoizedState=$y(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return jn(n),e===null&&Ge&&(l=n.stateNode=Yy(n.type,n.pendingProps,Ne.current),Zt=n,qn=!0,h=pt,Ls(n.type)?(Jf=h,pt=Gn(l.firstChild)):pt=h),Wt(e,n,n.pendingProps.children,i),ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ge&&((h=l=pt)&&(l=tE(l,n.type,n.pendingProps,qn),l!==null?(n.stateNode=l,Zt=n,pt=Gn(l.firstChild),qn=!1,h=!0):h=!1),h||Ss(n)),jn(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,l=f.children,Yf(h,f)?l=null:_!==null&&Yf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Fh(e,n,pb,null,null,i),Jl._currentValue=h),ju(e,n),Wt(e,n,l,i),n.child;case 6:return e===null&&Ge&&((e=i=pt)&&(i=nE(i,n.pendingProps,qn),i!==null?(n.stateNode=i,Zt=n,pt=null,e=!0):e=!1),e||Ss(n)),null;case 13:return kp(e,n,i);case 4:return Et(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ci(n,null,l,i):Wt(e,n,l,i),n.child;case 11:return Np(e,n,n.type,n.pendingProps,i);case 7:return Wt(e,n,n.pendingProps,i),n.child;case 8:return Wt(e,n,n.pendingProps.children,i),n.child;case 12:return Wt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,As(n,n.type,l.value),Wt(e,n,l.children,i),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ai(n),h=Jt(h),l=l(h),n.flags|=1,Wt(e,n,l,i),n.child;case 14:return Rp(e,n,n.type,n.pendingProps,i);case 15:return Cp(e,n,n.type,n.pendingProps,i);case 19:return Lp(e,n,i);case 31:return Sb(e,n,i);case 22:return Dp(e,n,i,n.pendingProps);case 24:return Ai(n),l=Jt(Ot),e===null?(h=Oh(),h===null&&(h=ft,f=Mh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=i),h=f),n.memoizedState={parent:l,cache:h},zh(n),As(n,Ot,h)):((e.lanes&i)!==0&&(Lh(e,n),jl(n,null,null,i),Il()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,Ot,l)):(l=f.cache,As(n,Ot,l),l!==h.cache&&jh(n,[Ot],i,!0))),Wt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Xa(e){e.flags|=4}function bf(e,n,i,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(fy())e.flags|=8192;else throw Ri=yu,kh}else e.flags&=-16777217}function Pp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t0(n))if(fy())e.flags|=8192;else throw Ri=yu,kh}function Vu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Po():536870912,e.lanes|=n,Sr|=n)}function Ll(e,n){if(!Ge)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function wb(e,n,i){var l=n.pendingProps;switch(Nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fa(Ot),rt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(hr(n)?Xa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ch())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xa(n),f!==null?(yt(n),Pp(n,f)):(yt(n),bf(n,h,null,l,i))):f?f!==e.memoizedState?(Xa(n),yt(n),Pp(n,f)):(yt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Xa(n),yt(n),bf(n,h,e,l,i)),null;case 27:if(se(n),i=Ne.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return yt(n),null}e=ue.current,hr(n)?_g(n):(e=Yy(h,l,i),n.stateNode=e,Xa(n))}return yt(n),null;case 5:if(se(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return yt(n),null}if(f=ue.current,hr(n))_g(n);else{var _=Xu(Ne.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[jt]=n,f[Ft]=l;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(en(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xa(n)}}return yt(n),bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Xa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=Ne.current,hr(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[jt]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||ky(e.nodeValue,i)),e||Ss(n,!0)}else e=Xu(e).createTextNode(l),e[jt]=n,n.stateNode=e}return yt(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(l=hr(n),i!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[jt]=n}else Ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),e=!1}else i=Ch(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Nn(n),n):(Nn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return yt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=hr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=n}else Ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=Ch(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Nn(n),n):(Nn(n),null)}return Nn(n),(n.flags&128)!==0?(n.lanes=i,n):(i=l!==null,e=e!==null&&e.memoizedState!==null,i&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Vu(n,n.updateQueue),yt(n),null);case 4:return rt(),e===null&&qf(n.stateNode.containerInfo),yt(n),null;case 10:return Fa(n.type),yt(n),null;case 19:if(Z(Rt),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ll(l,!1);else{if(At!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Eu(e),f!==null){for(n.flags|=128,Ll(l,!1),e=f.updateQueue,n.updateQueue=e,Vu(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)mg(i,e),i=i.sibling;return oe(Rt,Rt.current&1|2),Ge&&Ha(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Qe()>Uu&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304)}else{if(!h)if(e=Eu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Vu(n,e),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return yt(n),null}else 2*Qe()-l.renderingStartTime>Uu&&i!==536870912&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,i=Rt.current,oe(Rt,h?i&1|2:i&1),Ge&&Ha(n,l.treeForkCount),e):(yt(n),null);case 22:case 23:return Nn(n),qh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),i=n.updateQueue,i!==null&&Vu(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&Z(wi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Fa(Ot),yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Nb(e,n){switch(Nh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fa(Ot),rt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return se(n),null;case 31:if(n.memoizedState!==null){if(Nn(n),n.alternate===null)throw Error(r(340));Ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Z(Rt),null;case 4:return rt(),null;case 10:return Fa(n.type),null;case 22:case 23:return Nn(n),qh(),e!==null&&Z(wi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fa(Ot),null;case 25:return null;default:return null}}function Bp(e,n){switch(Nh(n),n.tag){case 3:Fa(Ot),rt();break;case 26:case 27:case 5:se(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&Nn(n);break;case 13:Nn(n);break;case 19:Z(Rt);break;case 10:Fa(n.type);break;case 22:case 23:Nn(n),qh(),e!==null&&Z(wi);break;case 24:Fa(Ot)}}function Ul(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var h=l.next;i=h;do{if((i.tag&e)===e){l=void 0;var f=i.create,_=i.inst;l=f(),_.destroy=l}i=i.next}while(i!==h)}}catch(x){it(n,n.return,x)}}function Is(e,n,i){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var _=l.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=n;var D=i,B=x;try{B()}catch($){it(h,D,$)}}}l=l.next}while(l!==f)}}catch($){it(n,n.return,$)}}function qp(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{jg(n,i)}catch(l){it(e,e.return,l)}}}function Hp(e,n,i){i.props=Ii(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){it(e,n,l)}}function Pl(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(h){it(e,n,h)}}function Ca(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(h){it(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){it(e,n,h)}else i.current=null}function Gp(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(h){it(e,e.return,h)}}function Ef(e,n,i){try{var l=e.stateNode;Xb(l,e.type,i,n),l[Ft]=n}catch(h){it(e,e.return,h)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function xf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tf(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Jn));else if(l!==4&&(l===27&&Ls(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Tf(e,n,i),e=e.sibling;e!==null;)Tf(e,n,i),e=e.sibling}function Ou(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&Ls(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ou(e,n,i),e=e.sibling;e!==null;)Ou(e,n,i),e=e.sibling}function Qp(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,l,i),n[jt]=e,n[Ft]=i}catch(f){it(e,e.return,f)}}var $a=!1,Lt=!1,Sf=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function Rb(e,n){if(e=e.containerInfo,Ff=nc,e=ig(e),ph(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var _=0,x=-1,D=-1,B=0,$=0,W=e,H=null;t:for(;;){for(var Y;W!==i||h!==0&&W.nodeType!==3||(x=_+h),W!==f||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)H=W,W=Y;for(;;){if(W===e)break t;if(H===i&&++B===h&&(x=_),H===f&&++$===l&&(D=_),(Y=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=Y}i=x===-1||D===-1?null:{start:x,end:D}}else i=null}i=i||{start:0,end:0}}else i=null;for(Qf={focusedElem:e,selectionRange:i},nc=!1,Yt=n;Yt!==null;)if(n=Yt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Yt=e;else for(;Yt!==null;){switch(n=Yt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)h=e[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=n,h=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var de=Ii(i.type,h);e=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(xe){it(i,i.return,xe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Xf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Yt=e;break}Yt=n.return}}function Kp(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Ja(e,i),l&4&&Ul(5,i);break;case 1:if(Ja(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(_){it(i,i.return,_)}else{var h=Ii(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){it(i,i.return,_)}}l&64&&qp(i),l&512&&Pl(i,i.return);break;case 3:if(Ja(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{jg(e,n)}catch(_){it(i,i.return,_)}}break;case 27:n===null&&l&4&&Qp(i);case 26:case 5:Ja(e,i),n===null&&l&4&&Gp(i),l&512&&Pl(i,i.return);break;case 12:Ja(e,i);break;case 31:Ja(e,i),l&4&&Zp(e,i);break;case 13:Ja(e,i),l&4&&Jp(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=zb.bind(null,i),aE(e,i))));break;case 22:if(l=i.memoizedState!==null||$a,!l){n=n!==null&&n.memoizedState!==null||Lt,h=$a;var f=Lt;$a=l,(Lt=n)&&!f?Wa(e,i,(i.subtreeFlags&8772)!==0):Ja(e,i),$a=h,Lt=f}break;case 30:break;default:Ja(e,i)}}function Xp(e){var n=e.alternate;n!==null&&(e.alternate=null,Xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ki(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,mn=!1;function Za(e,n,i){for(i=i.child;i!==null;)$p(e,n,i),i=i.sibling}function $p(e,n,i){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Kn,i)}catch{}switch(i.tag){case 26:Lt||Ca(i,n),Za(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Lt||Ca(i,n);var l=bt,h=mn;Ls(i.type)&&(bt=i.stateNode,mn=!1),Za(e,n,i),Xl(i.stateNode),bt=l,mn=h;break;case 5:Lt||Ca(i,n);case 6:if(l=bt,h=mn,bt=null,Za(e,n,i),bt=l,mn=h,bt!==null)if(mn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(i.stateNode)}catch(f){it(i,n,f)}else try{bt.removeChild(i.stateNode)}catch(f){it(i,n,f)}break;case 18:bt!==null&&(mn?(e=bt,qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),jr(e)):qy(bt,i.stateNode));break;case 4:l=bt,h=mn,bt=i.stateNode.containerInfo,mn=!0,Za(e,n,i),bt=l,mn=h;break;case 0:case 11:case 14:case 15:Is(2,i,n),Lt||Is(4,i,n),Za(e,n,i);break;case 1:Lt||(Ca(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Hp(i,n,l)),Za(e,n,i);break;case 21:Za(e,n,i);break;case 22:Lt=(l=Lt)||i.memoizedState!==null,Za(e,n,i),Lt=l;break;default:Za(e,n,i)}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{jr(e)}catch(i){it(n,n.return,i)}}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jr(e)}catch(i){it(n,n.return,i)}}function Cb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yp),n;default:throw Error(r(435,e.tag))}}function ku(e,n){var i=Cb(e);n.forEach(function(l){if(!i.has(l)){i.add(l);var h=Lb.bind(null,e,l);l.then(h,h)}})}function gn(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l],f=e,_=n,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Ls(x.type)){bt=x.stateNode,mn=!1;break e}break;case 5:bt=x.stateNode,mn=!1;break e;case 3:case 4:bt=x.stateNode.containerInfo,mn=!0;break e}x=x.return}if(bt===null)throw Error(r(160));$p(f,_,h),bt=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wp(n,e),n=n.sibling}var sa=null;function Wp(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),l&4&&(Is(3,e,e.return),Ul(3,e),Is(5,e,e.return));break;case 1:gn(n,e),pn(e),l&512&&(Lt||i===null||Ca(i,i.return)),l&64&&$a&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var h=sa;if(gn(n,e),pn(e),l&512&&(Lt||i===null||Ca(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ga]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,l,i),f[jt]=e,Mt(f),l=f;break e;case"link":var _=Wy("link","href",h).get(l+(i.href||""));if(_){for(var x=0;x<_.length;x++)if(f=_[x],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(x,1);break t}}f=h.createElement(l),en(f,l,i),h.head.appendChild(f);break;case"meta":if(_=Wy("meta","content",h).get(l+(i.content||""))){for(x=0;x<_.length;x++)if(f=_[x],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(x,1);break t}}f=h.createElement(l),en(f,l,i),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[jt]=e,Mt(f),l=f}e.stateNode=l}else e0(h,e.type,e.stateNode);else e.stateNode=Jy(h,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?e0(h,e.type,e.stateNode):Jy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,i.memoizedProps)}break;case 27:gn(n,e),pn(e),l&512&&(Lt||i===null||Ca(i,i.return)),i!==null&&l&4&&Ef(e,e.memoizedProps,i.memoizedProps);break;case 5:if(gn(n,e),pn(e),l&512&&(Lt||i===null||Ca(i,i.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(de){it(e,e.return,de)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ef(e,h,i!==null?i.memoizedProps:h)),l&1024&&(Sf=!0);break;case 6:if(gn(n,e),pn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(de){it(e,e.return,de)}}break;case 3:if(Ju=null,h=sa,sa=$u(n.containerInfo),gn(n,e),sa=h,pn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{jr(n.containerInfo)}catch(de){it(e,e.return,de)}Sf&&(Sf=!1,ey(e));break;case 4:l=sa,sa=$u(e.stateNode.containerInfo),gn(n,e),pn(e),sa=l;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ku(e,l)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Lu=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ku(e,l)));break;case 22:h=e.memoizedState!==null;var D=i!==null&&i.memoizedState!==null,B=$a,$=Lt;if($a=B||h,Lt=$||D,gn(n,e),Lt=$,$a=B,pn(e),l&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||D||$a||Lt||ji(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){D=i=n;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=D.stateNode;var W=D.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;x.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){it(D,D.return,de)}}}else if(n.tag===6){if(i===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(de){it(D,D.return,de)}}}else if(n.tag===18){if(i===null){D=n;try{var Y=D.stateNode;h?Hy(Y,!0):Hy(D.stateNode,!1)}catch(de){it(D,D.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,ku(e,i))));break;case 19:gn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ku(e,l)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(Fp(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var h=i.stateNode,f=xf(e);Ou(e,f,h);break;case 5:var _=i.stateNode;i.flags&32&&(dn(_,""),i.flags&=-33);var x=xf(e);Ou(e,x,_);break;case 3:case 4:var D=i.stateNode.containerInfo,B=xf(e);Tf(e,B,D);break;default:throw Error(r(161))}}catch($){it(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ja(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kp(e,n.alternate,n),n=n.sibling}function ji(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),ji(n);break;case 1:Ca(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Hp(n,n.return,i),ji(n);break;case 27:Xl(n.stateNode);case 26:case 5:Ca(n,n.return),ji(n);break;case 22:n.memoizedState===null&&ji(n);break;case 30:ji(n);break;default:ji(n)}e=e.sibling}}function Wa(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Wa(h,f,i),Ul(4,f);break;case 1:if(Wa(h,f,i),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){it(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var x=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Ig(D[h],x)}catch(B){it(l,l.return,B)}}i&&_&64&&qp(f),Pl(f,f.return);break;case 27:Qp(f);case 26:case 5:Wa(h,f,i),i&&l===null&&_&4&&Gp(f),Pl(f,f.return);break;case 12:Wa(h,f,i);break;case 31:Wa(h,f,i),i&&_&4&&Zp(h,f);break;case 13:Wa(h,f,i),i&&_&4&&Jp(h,f);break;case 22:f.memoizedState===null&&Wa(h,f,i),Pl(f,f.return);break;case 30:break;default:Wa(h,f,i)}n=n.sibling}}function Af(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&wl(i))}function wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wl(e))}function ia(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,i,l),n=n.sibling}function ty(e,n,i,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ia(e,n,i,l),h&2048&&Ul(9,n);break;case 1:ia(e,n,i,l);break;case 3:ia(e,n,i,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wl(e)));break;case 12:if(h&2048){ia(e,n,i,l),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,x=f.onPostCommit;typeof x=="function"&&x(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){it(n,n.return,D)}}else ia(e,n,i,l);break;case 31:ia(e,n,i,l);break;case 13:ia(e,n,i,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ia(e,n,i,l):Bl(e,n):f._visibility&2?ia(e,n,i,l):(f._visibility|=2,Er(e,n,i,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Af(_,n);break;case 24:ia(e,n,i,l),h&2048&&wf(n.alternate,n);break;default:ia(e,n,i,l)}}function Er(e,n,i,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,_=n,x=i,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Er(f,_,x,D,h),Ul(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Er(f,_,x,D,h):Bl(f,_):($._visibility|=2,Er(f,_,x,D,h)),h&&B&2048&&Af(_.alternate,_);break;case 24:Er(f,_,x,D,h),h&&B&2048&&wf(_.alternate,_);break;default:Er(f,_,x,D,h)}n=n.sibling}}function Bl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,h=l.flags;switch(l.tag){case 22:Bl(i,l),h&2048&&Af(l.alternate,l);break;case 24:Bl(i,l),h&2048&&wf(l.alternate,l);break;default:Bl(i,l)}n=n.sibling}}var ql=8192;function xr(e,n,i){if(e.subtreeFlags&ql)for(e=e.child;e!==null;)ny(e,n,i),e=e.sibling}function ny(e,n,i){switch(e.tag){case 26:xr(e,n,i),e.flags&ql&&e.memoizedState!==null&&gE(i,sa,e.memoizedState,e.memoizedProps);break;case 5:xr(e,n,i);break;case 3:case 4:var l=sa;sa=$u(e.stateNode.containerInfo),xr(e,n,i),sa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ql,ql=16777216,xr(e,n,i),ql=l):xr(e,n,i));break;default:xr(e,n,i)}}function ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];Yt=l,iy(l,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 0:case 11:case 15:Hl(e),e.flags&2048&&Is(9,e,e.return);break;case 3:Hl(e);break;case 12:Hl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,zu(e)):Hl(e);break;default:Hl(e)}}function zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];Yt=l,iy(l,e)}ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Is(8,n,n.return),zu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,zu(n));break;default:zu(n)}e=e.sibling}}function iy(e,n){for(;Yt!==null;){var i=Yt;switch(i.tag){case 0:case 11:case 15:Is(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Yt=l;else e:for(i=e;Yt!==null;){l=Yt;var h=l.sibling,f=l.return;if(Xp(l),l===i){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var Db={getCacheForType:function(e){var n=Jt(Ot),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Jt(Ot).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,ze=null,Ue=0,st=0,Rn=null,js=!1,Tr=!1,Nf=!1,es=0,At=0,Ms=0,Mi=0,Rf=0,Cn=0,Sr=0,Gl=null,yn=null,Cf=!1,Lu=0,ry=0,Uu=1/0,Pu=null,Vs=null,qt=0,Os=null,Ar=null,ts=0,Df=0,If=null,ly=null,Fl=0,jf=null;function Dn(){return(tt&2)!==0&&Ue!==0?Ue&-Ue:X.T!==null?Lf():Bo()}function oy(){if(Cn===0)if((Ue&536870912)===0||Ge){var e=ri;ri<<=1,(ri&3932160)===0&&(ri=262144),Cn=e}else Cn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Cn}function vn(e,n,i){(e===ft&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(wr(e,0),ks(e,Ue,Cn,!1)),li(e,i),((tt&2)===0||e!==ft)&&(e===ft&&((tt&2)===0&&(Mi|=i),At===4&&ks(e,Ue,Cn,!1)),Da(e))}function uy(e,n,i){if((tt&6)!==0)throw Error(r(327));var l=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=l?Vb(e,n):Vf(e,n,!0),f=l;do{if(h===0){Tr&&!l&&ks(e,n,0,!1);break}else{if(i=e.current.alternate,f&&!jb(i)){h=Vf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var x=e;h=Gl;var D=x.current.memoizedState.isDehydrated;if(D&&(wr(x,_).flags|=256),_=Vf(x,_,!1),_!==2){if(Nf&&!D){x.errorRecoveryDisabledLanes|=f,Mi|=f,h=4;break e}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){wr(e,0),ks(e,n,0,!0);break}e:{switch(l=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ks(l,n,Cn,!js);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Lu+300-Qe(),10<h)){if(ks(l,n,Cn,!js),fa(l,0,!0)!==0)break e;ts=n,l.timeoutHandle=Py(cy.bind(null,l,i,yn,Pu,Cf,n,Cn,Mi,Sr,js,f,"Throttled",-0,0),h);break e}cy(l,i,yn,Pu,Cf,n,Cn,Mi,Sr,js,f,null,-0,0)}}break}while(!0);Da(e)}function cy(e,n,i,l,h,f,_,x,D,B,$,W,H,Y){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},ny(n,f,W);var de=(f&62914560)===f?Lu-Qe():(f&4194048)===f?ry-Qe():0;if(de=pE(W,de),de!==null){ts=f,e.cancelPendingCommit=de(vy.bind(null,e,n,f,i,l,h,_,x,D,$,W,null,H,Y)),ks(e,f,_,!B);return}}vy(e,n,f,i,l,h,_,x,D)}function jb(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var h=i[l],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n,i,l){n&=~Rf,n&=~Mi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-wt(h),_=1<<f;l[f]=-1,h&=~_}i!==0&&oi(e,i,n)}function Bu(){return(tt&6)===0?(Ql(0),!1):!0}function Mf(){if(ze!==null){if(st===0)var e=ze.return;else e=ze,Ga=Si=null,Kh(e),pr=null,Rl=0,e=ze;for(;e!==null;)Bp(e.alternate,e),e=e.return;ze=null}}function wr(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Jb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ts=0,Mf(),ft=e,ze=i=qa(e.current,null),Ue=n,st=0,Rn=null,js=!1,Tr=Xn(e,n),Nf=!1,Sr=Cn=Rf=Mi=Ms=At=0,yn=Gl=null,Cf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-wt(l),f=1<<h;n|=e[h],l&=~f}return es=n,ou(),i}function hy(e,n){je=null,X.H=kl,n===gr||n===pu?(n=Ng(),st=3):n===kh?(n=Ng(),st=4):st=n===hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,ze===null&&(At=1,Du(e,Un(n,e.current)))}function fy(){var e=wn.current;return e===null?!0:(Ue&4194048)===Ue?Hn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===Hn:!1}function dy(){var e=X.H;return X.H=kl,e===null?kl:e}function my(){var e=X.A;return X.A=Db,e}function qu(){At=4,js||(Ue&4194048)!==Ue&&wn.current!==null||(Tr=!0),(Ms&134217727)===0&&(Mi&134217727)===0||ft===null||ks(ft,Ue,Cn,!1)}function Vf(e,n,i){var l=tt;tt|=2;var h=dy(),f=my();(ft!==e||Ue!==n)&&(Pu=null,wr(e,n)),n=!1;var _=At;e:do try{if(st!==0&&ze!==null){var x=ze,D=Rn;switch(st){case 8:Mf(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var B=st;if(st=0,Rn=null,Nr(e,x,D,B),i&&Tr){_=0;break e}break;default:B=st,st=0,Rn=null,Nr(e,x,D,B)}}Mb(),_=At;break}catch($){hy(e,$)}while(!0);return n&&e.shellSuspendCounter++,Ga=Si=null,tt=l,X.H=h,X.A=f,ze===null&&(ft=null,Ue=0,ou()),_}function Mb(){for(;ze!==null;)gy(ze)}function Vb(e,n){var i=tt;tt|=2;var l=dy(),h=my();ft!==e||Ue!==n?(Pu=null,Uu=Qe()+500,wr(e,n)):Tr=Xn(e,n);e:do try{if(st!==0&&ze!==null){n=ze;var f=Rn;t:switch(st){case 1:st=0,Rn=null,Nr(e,n,f,1);break;case 2:case 9:if(Ag(f)){st=0,Rn=null,py(n);break}n=function(){st!==2&&st!==9||ft!==e||(st=7),Da(e)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Ag(f)?(st=0,Rn=null,py(n)):(st=0,Rn=null,Nr(e,n,f,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var x=ze;if(_?t0(_):x.stateNode.complete){st=0,Rn=null;var D=x.sibling;if(D!==null)ze=D;else{var B=x.return;B!==null?(ze=B,Hu(B)):ze=null}break t}}st=0,Rn=null,Nr(e,n,f,5);break;case 6:st=0,Rn=null,Nr(e,n,f,6);break;case 8:Mf(),At=6;break e;default:throw Error(r(462))}}Ob();break}catch($){hy(e,$)}while(!0);return Ga=Si=null,X.H=l,X.A=h,tt=i,ze!==null?0:(ft=null,Ue=0,ou(),At)}function Ob(){for(;ze!==null&&!Gi();)gy(ze)}function gy(e){var n=Up(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?Hu(e):ze=n}function py(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Mp(i,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Mp(i,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Kh(n);default:Bp(i,n),n=ze=mg(n,es),n=Up(i,n,es)}e.memoizedProps=e.pendingProps,n===null?Hu(e):ze=n}function Nr(e,n,i,l){Ga=Si=null,Kh(n),pr=null,Rl=0;var h=n.return;try{if(Tb(e,h,n,i,Ue)){At=1,Du(e,Un(i,e.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;At=1,Du(e,Un(i,e.current)),ze=null;return}n.flags&32768?(Ge||l===1?e=!0:Tr||(Ue&536870912)!==0?e=!1:(js=e=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yy(n,e)):Hu(n)}function Hu(e){var n=e;do{if((n.flags&32768)!==0){yy(n,js);return}e=n.return;var i=wb(n.alternate,n,es);if(i!==null){ze=i;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=e}while(n!==null);At===0&&(At=5)}function yy(e,n){do{var i=Nb(e.alternate,e);if(i!==null){i.flags&=32767,ze=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){ze=e;return}ze=e=i}while(e!==null);At=6,ze=null}function vy(e,n,i,l,h,f,_,x,D){e.cancelPendingCommit=null;do Gu();while(qt!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Eh,fh(e,i,f,_,x,D),e===ft&&(ze=ft=null,Ue=0),Ar=n,Os=e,ts=i,Df=f,If=h,ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ub(fs,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ie.p,ie.p=2,_=tt,tt|=4;try{Rb(e,n,i)}finally{tt=_,ie.p=h,X.T=l}}qt=1,_y(),by(),Ey()}}function _y(){if(qt===1){qt=0;var e=Os,n=Ar,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=X.T,X.T=null;var l=ie.p;ie.p=2;var h=tt;tt|=4;try{Wp(n,e);var f=Qf,_=ig(e.containerInfo),x=f.focusedElem,D=f.selectionRange;if(_!==x&&x&&x.ownerDocument&&sg(x.ownerDocument.documentElement,x)){if(D!==null&&ph(x)){var B=D.start,$=D.end;if($===void 0&&($=B),"selectionStart"in x)x.selectionStart=B,x.selectionEnd=Math.min($,x.value.length);else{var W=x.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var Y=H.getSelection(),de=x.textContent.length,xe=Math.min(D.start,de),ct=D.end===void 0?xe:Math.min(D.end,de);!Y.extend&&xe>ct&&(_=ct,ct=xe,xe=_);var L=ag(x,xe),O=ag(x,ct);if(L&&O&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var P=W.createRange();P.setStart(L.node,L.offset),Y.removeAllRanges(),xe>ct?(Y.addRange(P),Y.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),Y.addRange(P))}}}}for(W=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<W.length;x++){var J=W[x];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}nc=!!Ff,Qf=Ff=null}finally{tt=h,ie.p=l,X.T=i}}e.current=n,qt=2}}function by(){if(qt===2){qt=0;var e=Os,n=Ar,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=X.T,X.T=null;var l=ie.p;ie.p=2;var h=tt;tt|=4;try{Kp(e,n.alternate,n)}finally{tt=h,ie.p=l,X.T=i}}qt=3}}function Ey(){if(qt===4||qt===3){qt=0,Fi();var e=Os,n=Ar,i=ts,l=ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,Ar=Os=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),La(i),n=n.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Kn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=ie.p,ie.p=2,X.T=null;try{for(var f=e.onRecoverableError,_=0;_<l.length;_++){var x=l[_];f(x.value,{componentStack:x.stack})}}finally{X.T=n,ie.p=h}}(ts&3)!==0&&Gu(),Da(e),h=e.pendingLanes,(i&261930)!==0&&(h&42)!==0?e===jf?Fl++:(Fl=0,jf=e):Fl=0,Ql(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,wl(n)))}function Gu(){return _y(),by(),Ey(),Ty()}function Ty(){if(qt!==5)return!1;var e=Os,n=Df;Df=0;var i=La(ts),l=X.T,h=ie.p;try{ie.p=32>i?32:i,X.T=null,i=If,If=null;var f=Os,_=ts;if(qt=0,Ar=Os=null,ts=0,(tt&6)!==0)throw Error(r(331));var x=tt;if(tt|=4,sy(f.current),ty(f,f.current,_,i),tt=x,Ql(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{ie.p=h,X.T=l,xy(e,n)}}function Sy(e,n,i){n=Un(i,n),n=cf(e.stateNode,n,2),e=Rs(e,n,2),e!==null&&(li(e,2),Da(e))}function it(e,n,i){if(e.tag===3)Sy(e,e,i);else for(;n!==null;){if(n.tag===3){Sy(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){e=Un(i,e),i=Ap(2),l=Rs(n,i,2),l!==null&&(wp(i,l,n,e),li(l,2),Da(l));break}}n=n.return}}function Of(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Ib;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(i)||(Nf=!0,h.add(i),e=kb.bind(null,e,n,i),n.then(e,e))}function kb(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ft===e&&(Ue&i)===i&&(At===4||At===3&&(Ue&62914560)===Ue&&300>Qe()-Lu?(tt&2)===0&&wr(e,0):Rf|=i,Sr===Ue&&(Sr=0)),Da(e)}function Ay(e,n){n===0&&(n=Po()),e=Ei(e,n),e!==null&&(li(e,n),Da(e))}function zb(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Ay(e,i)}function Lb(e,n){var i=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ay(e,i)}function Ub(e,n){return ht(e,n)}var Fu=null,Rr=null,kf=!1,Qu=!1,zf=!1,zs=0;function Da(e){e!==Rr&&e.next===null&&(Rr===null?Fu=Rr=e:Rr=Rr.next=e),Qu=!0,kf||(kf=!0,Bb())}function Ql(e,n){if(!zf&&Qu){zf=!0;do for(var i=!1,l=Fu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-wt(42|e)+1)-1,f&=h&~(_&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Cy(l,f))}else f=Ue,f=fa(l,l===ft?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Xn(l,f)||(i=!0,Cy(l,f));l=l.next}while(i);zf=!1}}function Pb(){wy()}function wy(){Qu=kf=!1;var e=0;zs!==0&&Zb()&&(e=zs);for(var n=Qe(),i=null,l=Fu;l!==null;){var h=l.next,f=Ny(l,n);f===0?(l.next=null,i===null?Fu=h:i.next=h,h===null&&(Rr=i)):(i=l,(e!==0||(f&3)!==0)&&(Qu=!0)),l=h}qt!==0&&qt!==5||Ql(e),zs!==0&&(zs=0)}function Ny(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-wt(f),x=1<<_,D=h[_];D===-1?((x&i)===0||(x&l)!==0)&&(h[_]=hh(x,n)):D<=n&&(e.expiredLanes|=x),f&=~x}if(n=ft,i=Ue,i=fa(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(st===2||st===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ua(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Xn(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&ua(l),La(i)){case 2:case 8:i=nl;break;case 32:i=fs;break;case 268435456:i=Oo;break;default:i=fs}return l=Ry.bind(null,e),i=ht(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&ua(l),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,n){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Gu()&&e.callbackNode!==i)return null;var l=Ue;return l=fa(e,e===ft?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(uy(e,l,n),Ny(e,Qe()),e.callbackNode!=null&&e.callbackNode===i?Ry.bind(null,e):null)}function Cy(e,n){if(Gu())return null;uy(e,n,!0)}function Bb(){Wb(function(){(tt&6)!==0?ht(tl,Pb):wy()})}function Lf(){if(zs===0){var e=dr;e===0&&(e=ca,ca<<=1,(ca&261888)===0&&(ca=256)),zs=e}return zs}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ji(""+e)}function Iy(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function qb(e,n,i,l,h){if(n==="submit"&&i&&i.stateNode===h){var f=Dy((h[Ft]||null).action),_=l.submitter;_&&(n=(n=_[Ft]||null)?Dy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var x=new Ta("action","action",null,l,h);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var D=_?Iy(h,_):new FormData(h);af(i,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(x.preventDefault(),D=_?Iy(h,_):new FormData(h),af(i,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Uf=0;Uf<bh.length;Uf++){var Pf=bh[Uf],Hb=Pf.toLowerCase(),Gb=Pf[0].toUpperCase()+Pf.slice(1);aa(Hb,"on"+Gb)}aa(og,"onAnimationEnd"),aa(ug,"onAnimationIteration"),aa(cg,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(rb,"onTransitionRun"),aa(lb,"onTransitionStart"),aa(ob,"onTransitionCancel"),aa(hg,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function jy(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var x=l[_],D=x.instance,B=x.currentTarget;if(x=x.listener,D!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=B;try{f(h)}catch($){lu($)}h.currentTarget=null,f=D}else for(_=0;_<l.length;_++){if(x=l[_],D=x.instance,B=x.currentTarget,x=x.listener,D!==f&&h.isPropagationStopped())break e;f=x,h.currentTarget=B;try{f(h)}catch($){lu($)}h.currentTarget=null,f=D}}}}function Le(e,n){var i=n[Yi];i===void 0&&(i=n[Yi]=new Set);var l=e+"__bubble";i.has(l)||(My(n,e,2,!1),i.add(l))}function Bf(e,n,i){var l=0;n&&(l|=4),My(i,e,l,n)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function qf(e){if(!e[Yu]){e[Yu]=!0,il.forEach(function(i){i!=="selectionchange"&&(Fb.has(i)||Bf(i,!1,e),Bf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yu]||(n[Yu]=!0,Bf("selectionchange",!1,n))}}function My(e,n,i,l){switch(o0(n)){case 2:var h=_E;break;case 8:h=bE;break;default:h=ad}i=h.bind(null,n,i,e),h=void 0,!di||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Hf(e,n,i,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var x=l.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=pa(x),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=f=_;continue e}x=x.parentNode}}l=l.return}vs(function(){var B=f,$=On(i),W=[];e:{var H=fg.get(e);if(H!==void 0){var Y=Ta,de=e;switch(e){case"keypress":if(gi(i)===0)break e;case"keydown":case"keyup":Y=su;break;case"focusin":de="focus",Y=yi;break;case"focusout":de="blur",Y=yi;break;case"beforeblur":case"afterblur":Y=yi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=g;break;case og:case ug:case cg:Y=Zo;break;case hg:Y=S;break;case"scroll":case"scrollend":Y=yl;break;case"wheel":Y=F;break;case"copy":case"cut":case"paste":Y=Jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ba;break;case"toggle":case"beforetoggle":Y=Ie}var xe=(n&4)!==0,ct=!xe&&(e==="scroll"||e==="scrollend"),L=xe?H!==null?H+"Capture":null:H;xe=[];for(var O=B,P;O!==null;){var J=O;if(P=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||P===null||L===null||(J=Wn(O,L),J!=null&&xe.push(Kl(O,J,P))),ct)break;O=O.return}0<xe.length&&(H=new Y(H,de,null,i,$),W.push({event:H,listeners:xe}))}}if((n&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",H&&i!==ml&&(de=i.relatedTarget||i.fromElement)&&(pa(de)||de[ma]))break e;if((Y||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(de=i.relatedTarget||i.toElement,Y=B,de=de?pa(de):null,de!==null&&(ct=c(de),xe=de.tag,de!==ct||xe!==5&&xe!==27&&xe!==6)&&(de=null)):(Y=null,de=B),Y!==de)){if(xe=vl,J="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Ba,J="onPointerLeave",L="onPointerEnter",O="pointer"),ct=Y==null?H:xn(Y),P=de==null?H:xn(de),H=new xe(J,O+"leave",Y,i,$),H.target=ct,H.relatedTarget=P,J=null,pa($)===B&&(xe=new xe(L,O+"enter",de,i,$),xe.target=P,xe.relatedTarget=ct,J=xe),ct=J,Y&&de)t:{for(xe=Qb,L=Y,O=de,P=0,J=L;J;J=xe(J))P++;J=0;for(var be=O;be;be=xe(be))J++;for(;0<P-J;)L=xe(L),P--;for(;0<J-P;)O=xe(O),J--;for(;P--;){if(L===O||O!==null&&L===O.alternate){xe=L;break t}L=xe(L),O=xe(O)}xe=null}else xe=null;Y!==null&&Vy(W,H,Y,xe,!1),de!==null&&ct!==null&&Vy(W,ct,de,xe,!0)}}e:{if(H=B?xn(B):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Xe=Zm;else if(Xm(H))if(Jm)Xe=ab;else{Xe=tb;var pe=eb}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Zi(B.elementType)&&(Xe=Zm):Xe=nb;if(Xe&&(Xe=Xe(e,B))){$m(W,Xe,i,$);break e}pe&&pe(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&hl(H,"number",H.value)}switch(pe=B?xn(B):window,e){case"focusin":(Xm(pe)||pe.contentEditable==="true")&&(ir=pe,yh=B,Tl=null);break;case"focusout":Tl=yh=ir=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,rg(W,i,$);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":rg(W,i,$)}var Me;if(et)e:{switch(e){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else sr?vi(e,i)&&(Pe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Pe="onCompositionStart");Pe&&(wa&&i.locale!=="ko"&&(sr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&sr&&(Me=pl()):(xa=$,gl="value"in xa?xa.value:xa.textContent,sr=!0)),pe=Ku(B,Pe),0<pe.length&&(Pe=new Aa(Pe,e,null,i,$),W.push({event:Pe,listeners:pe}),Me?Pe.data=Me:(Me=ar(i),Me!==null&&(Pe.data=Me)))),(Me=zn?$1(e,i):Z1(e,i))&&(Pe=Ku(B,"onBeforeInput"),0<Pe.length&&(pe=new Aa("onBeforeInput","beforeinput",null,i,$),W.push({event:pe,listeners:Pe}),pe.data=Me)),qb(W,e,B,i,$)}jy(W,n)})}function Kl(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Ku(e,n){for(var i=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,i),h!=null&&l.unshift(Kl(e,h,f)),h=Wn(e,n),h!=null&&l.push(Kl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function Qb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,i,l,h){for(var f=n._reactName,_=[];i!==null&&i!==l;){var x=i,D=x.alternate,B=x.stateNode;if(x=x.tag,D!==null&&D===l)break;x!==5&&x!==26&&x!==27||B===null||(D=B,h?(B=Wn(i,f),B!=null&&_.unshift(Kl(i,B,D))):h||(B=Wn(i,f),B!=null&&_.push(Kl(i,B,D)))),i=i.return}_.length!==0&&e.push({event:n,listeners:_})}var Yb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(Yb,`
`).replace(Kb,"")}function ky(e,n){return n=Oy(n),Oy(e)===n}function ut(e,n,i,l,h,f){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(e,""+l);break;case"className":Tn(e,"class",l);break;case"tabIndex":Tn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,i,l);break;case"style":dl(e,l,f);break;case"data":if(n!=="object"){Tn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ji(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&ut(e,n,"name",h.name,h,null),ut(e,n,"formEncType",h.formEncType,h,null),ut(e,n,"formMethod",h.formMethod,h,null),ut(e,n,"formTarget",h.formTarget,h,null)):(ut(e,n,"encType",h.encType,h,null),ut(e,n,"method",h.method,h,null),ut(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Ji(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"onScroll":l!=null&&Le("scroll",e);break;case"onScrollEnd":l!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Ji(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Le("beforetoggle",e),Le("toggle",e),Xi(e,"popover",l);break;case"xlinkActuate":Vt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ko.get(i)||i,Xi(e,i,l))}}function Gf(e,n,i,l,h,f){switch(i){case"style":dl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?dn(e,l):(typeof l=="number"||typeof l=="bigint")&&dn(e,""+l);break;case"onScroll":l!=null&&Le("scroll",e);break;case"onScrollEnd":l!=null&&Le("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),f=e[Ft]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,h);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Xi(e,i,l)}}}function en(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var l=!1,h=!1,f;for(f in i)if(i.hasOwnProperty(f)){var _=i[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(e,n,f,_,i,null)}}h&&ut(e,n,"srcSet",i.srcSet,i,null),l&&ut(e,n,"src",i.src,i,null);return;case"input":Le("invalid",e);var x=f=_=h=null,D=null,B=null;for(l in i)if(i.hasOwnProperty(l)){var $=i[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":B=$;break;case"value":f=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,n));break;default:ut(e,n,l,$,i,null)}}Fo(e,f,x,D,B,_,h,!1);return;case"select":Le("invalid",e),l=_=f=null;for(h in i)if(i.hasOwnProperty(h)&&(x=i[h],x!=null))switch(h){case"value":f=x;break;case"defaultValue":_=x;break;case"multiple":l=x;default:ut(e,n,h,x,i,null)}n=f,i=_,e.multiple=!!l,n!=null?ms(e,!!l,n,!1):i!=null&&ms(e,!!l,i,!0);return;case"textarea":Le("invalid",e),f=h=l=null;for(_ in i)if(i.hasOwnProperty(_)&&(x=i[_],x!=null))switch(_){case"value":l=x;break;case"defaultValue":h=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:ut(e,n,_,x,i,null)}gs(e,l,h,f);return;case"option":for(D in i)if(i.hasOwnProperty(D)&&(l=i[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(e,n,D,l,i,null)}return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Le(Yl[l],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(l=i[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(e,n,B,l,i,null)}return;default:if(Zi(n)){for($ in i)i.hasOwnProperty($)&&(l=i[$],l!==void 0&&Gf(e,n,$,l,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(l=i[x],l!=null&&ut(e,n,x,l,i,null))}function Xb(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,x=null,D=null,B=null,$=null;for(Y in i){var W=i[Y];if(i.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(Y)||ut(e,n,Y,null,l,W)}}for(var H in l){var Y=l[H];if(W=i[H],l.hasOwnProperty(H)&&(Y!=null||W!=null))switch(H){case"type":f=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Y!==W&&ut(e,n,H,Y,l,W)}}$i(e,_,x,D,B,$,f,h);return;case"select":Y=_=x=H=null;for(f in i)if(D=i[f],i.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(f)||ut(e,n,f,null,l,D)}for(h in l)if(f=l[h],D=i[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":H=f;break;case"defaultValue":x=f;break;case"multiple":_=f;default:f!==D&&ut(e,n,h,f,l,D)}n=x,i=_,l=Y,H!=null?ms(e,!!i,H,!1):!!l!=!!i&&(n!=null?ms(e,!!i,n,!0):ms(e,!!i,i?[]:"",!1));return;case"textarea":Y=H=null;for(x in i)if(h=i[x],i.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ut(e,n,x,null,l,h)}for(_ in l)if(h=l[_],f=i[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ut(e,n,_,h,l,f)}Qo(e,H,Y);return;case"option":for(var de in i)if(H=i[de],i.hasOwnProperty(de)&&H!=null&&!l.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:ut(e,n,de,null,l,H)}for(D in l)if(H=l[D],Y=i[D],l.hasOwnProperty(D)&&H!==Y&&(H!=null||Y!=null))switch(D){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ut(e,n,D,H,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in i)H=i[xe],i.hasOwnProperty(xe)&&H!=null&&!l.hasOwnProperty(xe)&&ut(e,n,xe,null,l,H);for(B in l)if(H=l[B],Y=i[B],l.hasOwnProperty(B)&&H!==Y&&(H!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:ut(e,n,B,H,l,Y)}return;default:if(Zi(n)){for(var ct in i)H=i[ct],i.hasOwnProperty(ct)&&H!==void 0&&!l.hasOwnProperty(ct)&&Gf(e,n,ct,void 0,l,H);for($ in l)H=l[$],Y=i[$],!l.hasOwnProperty($)||H===Y||H===void 0&&Y===void 0||Gf(e,n,$,H,l,Y);return}}for(var L in i)H=i[L],i.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&ut(e,n,L,null,l,H);for(W in l)H=l[W],Y=i[W],!l.hasOwnProperty(W)||H===Y||H==null&&Y==null||ut(e,n,W,H,l,Y)}function zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $b(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var h=i[l],f=h.transferSize,_=h.initiatorType,x=h.duration;if(f&&x&&zy(_)){for(_=0,x=h.responseEnd,l+=1;l<i.length;l++){var D=i[l],B=D.startTime;if(B>x)break;var $=D.transferSize,W=D.initiatorType;$&&zy(W)&&(D=D.responseEnd,_+=$*(D<x?1:(x-B)/(D-B)))}if(--l,n+=8*(f+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ff=null,Qf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Yf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kf=null;function Zb(){var e=window.event;return e&&e.type==="popstate"?e===Kf?!1:(Kf=e,!0):(Kf=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,Jb=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,Wb=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(eE)}:Py;function eE(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function qy(e,n){var i=n,l=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(l===0){e.removeChild(h),jr(n);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Xl(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Xl(i);for(var f=i.firstChild;f;){var _=f.nextSibling,x=f.nodeName;f[ga]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=_}}else i==="body"&&Xl(e.ownerDocument.body);i=h}while(i);jr(n)}function Hy(e,n){var i=e;e=0;do{var l=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=l}while(i)}function Xf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Xf(i),Ki(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function tE(e,n,i,l){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ga])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function nE(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Gn(e.nextSibling),e===null))return null;return e}function Gy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function $f(e){return e.data==="$?"||e.data==="$~"}function Zf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function aE(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Jf=null;function Fy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Gn(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Qy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Yy(e,n,i){switch(n=Xu(i),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Xl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ki(e)}var Fn=new Map,Ky=new Set;function $u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=ie.d;ie.d={f:sE,r:iE,D:rE,C:lE,L:oE,m:uE,X:hE,S:cE,M:fE};function sE(){var e=ns.f(),n=Bu();return e||n}function iE(e){var n=Vn(e);n!==null&&n.tag===5&&n.type==="form"?hp(n):ns.r(e)}var Cr=typeof document>"u"?null:document;function Xy(e,n,i){var l=Cr;if(l&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Ky.has(h)||(Ky.add(h),e={rel:e,crossOrigin:i,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),en(n,"link",e),Mt(n),l.head.appendChild(n)))}}function rE(e){ns.D(e),Xy("dns-prefetch",e,null)}function lE(e,n){ns.C(e,n),Xy("preconnect",e,n)}function oE(e,n,i){ns.L(e,n,i);var l=Cr;if(l&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+fn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+fn(i.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Dr(e);break;case"script":f=Ir(e)}Fn.has(f)||(e=T({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Fn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector($l(f))||n==="script"&&l.querySelector(Zl(f))||(n=l.createElement("link"),en(n,"link",e),Mt(n),l.head.appendChild(n)))}}function uE(e,n){ns.m(e,n);var i=Cr;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ir(e)}if(!Fn.has(f)&&(e=T({rel:"modulepreload",href:e},n),Fn.set(f,e),i.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Zl(f)))return}l=i.createElement("link"),en(l,"link",e),Mt(l),i.head.appendChild(l)}}}function cE(e,n,i){ns.S(e,n,i);var l=Cr;if(l&&e){var h=ya(l).hoistableStyles,f=Dr(e);n=n||"default";var _=h.get(f);if(!_){var x={loading:0,preload:null};if(_=l.querySelector($l(f)))x.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Fn.get(f))&&Wf(e,i);var D=_=l.createElement("link");Mt(D),en(D,"link",e),D._p=new Promise(function(B,$){D.onload=B,D.onerror=$}),D.addEventListener("load",function(){x.loading|=1}),D.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Zu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(f,_)}}}function hE(e,n){ns.X(e,n);var i=Cr;if(i&&e){var l=ya(i).hoistableScripts,h=Ir(e),f=l.get(h);f||(f=i.querySelector(Zl(h)),f||(e=T({src:e,async:!0},n),(n=Fn.get(h))&&ed(e,n),f=i.createElement("script"),Mt(f),en(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function fE(e,n){ns.M(e,n);var i=Cr;if(i&&e){var l=ya(i).hoistableScripts,h=Ir(e),f=l.get(h);f||(f=i.querySelector(Zl(h)),f||(e=T({src:e,async:!0,type:"module"},n),(n=Fn.get(h))&&ed(e,n),f=i.createElement("script"),Mt(f),en(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function $y(e,n,i,l){var h=(h=Ne.current)?$u(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Dr(i.href),i=ya(h).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Dr(i.href);var f=ya(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector($l(e)))&&!f._p&&(_.instance=f,_.state.loading=5),Fn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Fn.set(e,i),f||dE(h,e,i,_.state))),n&&l===null)throw Error(r(528,""));return _}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ir(i),i=ya(h).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Dr(e){return'href="'+fn(e)+'"'}function $l(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function dE(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",i),Mt(n),e.head.appendChild(n))}function Ir(e){return'[src="'+fn(e)+'"]'}function Zl(e){return"script[async]"+e}function Jy(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+fn(i.href)+'"]');if(l)return n.instance=l,Mt(l),l;var h=T({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Mt(l),en(l,"style",h),Zu(l,i.precedence,e),n.instance=l;case"stylesheet":h=Dr(i.href);var f=e.querySelector($l(h));if(f)return n.state.loading|=4,n.instance=f,Mt(f),f;l=Zy(i),(h=Fn.get(h))&&Wf(l,h),f=(e.ownerDocument||e).createElement("link"),Mt(f);var _=f;return _._p=new Promise(function(x,D){_.onload=x,_.onerror=D}),en(f,"link",l),n.state.loading|=4,Zu(f,i.precedence,e),n.instance=f;case"script":return f=Ir(i.src),(h=e.querySelector(Zl(f)))?(n.instance=h,Mt(h),h):(l=i,(h=Fn.get(f))&&(l=T({},i),ed(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Mt(h),en(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Zu(l,i.precedence,e));return n.instance}function Zu(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var x=l[_];if(x.dataset.precedence===n)f=x;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ju=null;function Wy(e,n,i){if(Ju===null){var l=new Map,h=Ju=new Map;h.set(i,l)}else h=Ju,l=h.get(i),l||(l=new Map,h.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var f=i[h];if(!(f[ga]||f[jt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var x=l.get(_);x?x.push(f):l.set(_,[f])}}return l}function e0(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function mE(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gE(e,n,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Dr(l.href),f=n.querySelector($l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Wu.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=f,Mt(f);return}f=n.ownerDocument||n,l=Zy(l),(h=Fn.get(h))&&Wf(l,h),f=f.createElement("link"),Mt(f);var _=f;_._p=new Promise(function(x,D){_.onload=x,_.onerror=D}),en(f,"link",l),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Wu.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var td=0;function pE(e,n){return e.stylesheets&&e.count===0&&tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var l=setTimeout(function(){if(e.stylesheets&&tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&td===0&&(td=62500*$b());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>td?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,n.forEach(yE,e),ec=null,Wu.call(e))}function yE(e,n){if(!(n.state.loading&4)){var i=ec.get(e);if(i)var l=i.get(null);else{i=new Map,ec.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),l=_)}l&&i.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=i.get(_)||l,f===l&&i.set(null,h),i.set(_,h),this.count++,l=Wu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Jl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function vE(e,n,i,l,h,f,_,x,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function n0(e,n,i,l,h,f,_,x,D,B,$,W){return e=new vE(e,n,i,_,D,B,$,W,x),n=1,f===!0&&(n|=24),f=An(3,null,null,n),e.current=f,f.stateNode=e,n=Mh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:n},zh(f),e}function a0(e){return e?(e=or,e):or}function s0(e,n,i,l,h,f){h=a0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ns(n),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=Rs(e,l,n),i!==null&&(vn(i,e,n),Dl(i,e,n))}function i0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function nd(e,n){i0(e,n),(e=e.alternate)&&i0(e,n)}function r0(e){if(e.tag===13||e.tag===31){var n=Ei(e,67108864);n!==null&&vn(n,e,67108864),nd(e,67108864)}}function l0(e){if(e.tag===13||e.tag===31){var n=Dn();n=ui(n);var i=Ei(e,n);i!==null&&vn(i,e,n),nd(e,n)}}var nc=!0;function _E(e,n,i,l){var h=X.T;X.T=null;var f=ie.p;try{ie.p=2,ad(e,n,i,l)}finally{ie.p=f,X.T=h}}function bE(e,n,i,l){var h=X.T;X.T=null;var f=ie.p;try{ie.p=8,ad(e,n,i,l)}finally{ie.p=f,X.T=h}}function ad(e,n,i,l){if(nc){var h=sd(l);if(h===null)Hf(e,n,l,ac,i),u0(e,l);else if(xE(h,e,n,i,l))l.stopPropagation();else if(u0(e,l),n&4&&-1<EE.indexOf(e)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ha(f.pendingLanes);if(_!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var D=1<<31-wt(_);x.entanglements[1]|=D,_&=~D}Da(f),(tt&6)===0&&(Uu=Qe()+500,Ql(0))}}break;case 31:case 13:x=Ei(f,2),x!==null&&vn(x,f,2),Bu(),nd(f,2)}if(f=sd(l),f===null&&Hf(e,n,l,ac,i),f===h)break;h=f}h!==null&&l.stopPropagation()}else Hf(e,n,l,null,i)}}function sd(e){return e=On(e),id(e)}var ac=null;function id(e){if(ac=null,e=pa(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===31){if(e=m(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ac=e,null}function o0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case tl:return 2;case nl:return 8;case fs:case ch:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var rd=!1,Us=null,Ps=null,Bs=null,Wl=new Map,eo=new Map,qs=[],EE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u0(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(n.pointerId)}}function to(e,n,i,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&r0(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xE(e,n,i,l,h){switch(n){case"focusin":return Us=to(Us,e,n,i,l,h),!0;case"dragenter":return Ps=to(Ps,e,n,i,l,h),!0;case"mouseover":return Bs=to(Bs,e,n,i,l,h),!0;case"pointerover":var f=h.pointerId;return Wl.set(f,to(Wl.get(f)||null,e,n,i,l,h)),!0;case"gotpointercapture":return f=h.pointerId,eo.set(f,to(eo.get(f)||null,e,n,i,l,h)),!0}return!1}function c0(e){var n=pa(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,$n(e.priority,function(){l0(i)});return}}else if(n===31){if(n=m(i),n!==null){e.blockedOn=n,$n(e.priority,function(){l0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=sd(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);ml=l,i.target.dispatchEvent(l),ml=null}else return n=Vn(i),n!==null&&r0(n),e.blockedOn=i,!1;n.shift()}return!0}function h0(e,n,i){sc(e)&&i.delete(n)}function TE(){rd=!1,Us!==null&&sc(Us)&&(Us=null),Ps!==null&&sc(Ps)&&(Ps=null),Bs!==null&&sc(Bs)&&(Bs=null),Wl.forEach(h0),eo.forEach(h0)}function ic(e,n){e.blockedOn===n&&(e.blockedOn=null,rd||(rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,TE)))}var rc=null;function f0(e){rc!==e&&(rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(id(l||i)===null)continue;break}var f=Vn(i);f!==null&&(e.splice(n,3),n-=3,af(f,{pending:!0,data:h,method:i.method,action:l},l,h))}}))}function jr(e){function n(D){return ic(D,e)}Us!==null&&ic(Us,e),Ps!==null&&ic(Ps,e),Bs!==null&&ic(Bs,e),Wl.forEach(n),eo.forEach(n);for(var i=0;i<qs.length;i++){var l=qs[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qs.length&&(i=qs[0],i.blockedOn===null);)c0(i),i.blockedOn===null&&qs.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var h=i[l],f=i[l+1],_=h[Ft]||null;if(typeof f=="function")_||f0(i);else if(_){var x=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Ft]||null)x=_.formAction;else if(id(h)!==null)continue}else x=_.action;typeof x=="function"?i[l+1]=x:(i.splice(l,3),l-=3),f0(i)}}}function d0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function ld(e){this._internalRoot=e}lc.prototype.render=ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var i=n.current,l=Dn();s0(i,l,e,n,null,null)},lc.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;s0(e.current,2,null,e,null,null),Bu(),n[ma]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Bo();e={blockedOn:null,target:e,priority:n};for(var i=0;i<qs.length&&n!==0&&n<qs[i].priority;i++);qs.splice(i,0,e),i===0&&c0(e)}};var m0=t.version;if(m0!=="19.2.1")throw Error(r(527,m0,"19.2.1"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var SE={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Kn=oc.inject(SE),Xt=oc}catch{}}return ao.createRoot=function(e,n){if(!o(e))throw Error(r(299));var i=!1,l="",h=Ep,f=xp,_=Tp;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=n0(e,1,!1,null,null,i,l,null,h,f,_,d0),e[ma]=n.current,qf(e),new ld(n)},ao.hydrateRoot=function(e,n,i){if(!o(e))throw Error(r(299));var l=!1,h="",f=Ep,_=xp,x=Tp,D=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.formState!==void 0&&(D=i.formState)),n=n0(e,1,!0,n,i??null,l,h,D,f,_,x,d0),n.context=a0(null),i=n.current,l=Dn(),l=ui(l),h=Ns(l),h.callback=null,Rs(i,h,l),i=l,n.current.lanes=i,li(n,i),Da(n),e[ma]=n.current,qf(e),new lc(n)},ao.version="19.2.1",ao}var S0;function OE(){if(S0)return cd.exports;S0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),cd.exports=VE(),cd.exports}var kE=OE();const zE=Gv(kE);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A0="popstate";function LE(s={}){function t(o,c){let{pathname:d="/",search:m="",hash:y=""}=Bi(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Rd("",{pathname:d,search:m,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(o,c){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let y=o.location.href,v=y.indexOf("#");m=v===-1?y:y.slice(0,v)}return m+"#"+(typeof c=="string"?c:go(c))}function r(o,c){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return PE(t,a,r,s)}function xt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Yn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UE(){return Math.random().toString(36).substring(2,10)}function w0(s,t){return{usr:s.state,key:s.key,idx:t}}function Rd(s,t,a=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Bi(t):t,state:a,key:t&&t.key||r||UE()}}function go({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Bi(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function PE(s,t,a,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,m="POP",y=null,v=E();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function E(){return(d.state||{idx:null}).idx}function T(){m="POP";let G=E(),ne=G==null?null:G-v;v=G,y&&y({action:m,location:q.location,delta:ne})}function A(G,ne){m="PUSH";let le=Rd(q.location,G,ne);a&&a(le,G),v=E()+1;let ae=w0(le,v),ve=q.createHref(le);try{d.pushState(ae,"",ve)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;o.location.assign(ve)}c&&y&&y({action:m,location:q.location,delta:1})}function V(G,ne){m="REPLACE";let le=Rd(q.location,G,ne);a&&a(le,G),v=E();let ae=w0(le,v),ve=q.createHref(le);d.replaceState(ae,"",ve),c&&y&&y({action:m,location:q.location,delta:0})}function Q(G){return BE(G)}let q={get action(){return m},get location(){return s(o,d)},listen(G){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(A0,T),y=G,()=>{o.removeEventListener(A0,T),y=null}},createHref(G){return t(o,G)},createURL:Q,encodeLocation(G){let ne=Q(G);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:V,go(G){return d.go(G)}};return q}function BE(s,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),xt(a,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:go(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function Fv(s,t,a="/"){return qE(s,t,a,!1)}function qE(s,t,a,r){let o=typeof t=="string"?Bi(t):t,c=ls(o.pathname||"/",a);if(c==null)return null;let d=Qv(s);HE(d);let m=null;for(let y=0;m==null&&y<d.length;++y){let v=ex(c);m=JE(d[y],v,r)}return m}function Qv(s,t=[],a=[],r="",o=!1){let c=(d,m,y=o,v)=>{let E={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&y)return;xt(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let T=rs([r,E.relativePath]),A=a.concat(E);d.children&&d.children.length>0&&(xt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Qv(d.children,t,A,T,y)),!(d.path==null&&!d.index)&&t.push({path:T,score:$E(T,d.index),routesMeta:A})};return s.forEach((d,m)=>{var y;if(d.path===""||!((y=d.path)!=null&&y.includes("?")))c(d,m);else for(let v of Yv(d.path))c(d,m,!0,v)}),t}function Yv(s){let t=s.split("/");if(t.length===0)return[];let[a,...r]=t,o=a.endsWith("?"),c=a.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=Yv(r.join("/")),m=[];return m.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&m.push(...d),m.map(y=>s.startsWith("/")&&y===""?"/":y)}function HE(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:ZE(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var GE=/^:[\w-]+$/,FE=3,QE=2,YE=1,KE=10,XE=-2,N0=s=>s==="*";function $E(s,t){let a=s.split("/"),r=a.length;return a.some(N0)&&(r+=XE),t&&(r+=QE),a.filter(o=>!N0(o)).reduce((o,c)=>o+(GE.test(c)?FE:c===""?YE:KE),r)}function ZE(s,t){return s.length===t.length&&s.slice(0,-1).every((r,o)=>r===t[o])?s[s.length-1]-t[t.length-1]:0}function JE(s,t,a=!1){let{routesMeta:r}=s,o={},c="/",d=[];for(let m=0;m<r.length;++m){let y=r[m],v=m===r.length-1,E=c==="/"?t:t.slice(c.length)||"/",T=Rc({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},E),A=y.route;if(!T&&v&&a&&!r[r.length-1].route.index&&(T=Rc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),d.push({params:o,pathname:rs([c,T.pathname]),pathnameBase:ix(rs([c,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(c=rs([c,T.pathnameBase]))}return d}function Rc(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,r]=WE(s.path,s.caseSensitive,s.end),o=t.match(a);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((v,{paramName:E,isOptional:T},A)=>{if(E==="*"){let Q=m[A]||"";d=c.slice(0,c.length-Q.length).replace(/(.)\/+$/,"$1")}const V=m[A];return T&&!V?v[E]=void 0:v[E]=(V||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:s}}function WE(s,t=!1,a=!0){Yn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,y)=>(r.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function ex(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function ls(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=s.charAt(a);return r&&r!=="/"?null:s.slice(a)||"/"}var tx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nx=s=>tx.test(s);function ax(s,t="/"){let{pathname:a,search:r="",hash:o=""}=typeof s=="string"?Bi(s):s,c;if(a)if(nx(a))c=a;else{if(a.includes("//")){let d=a;a=a.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${a}`)}a.startsWith("/")?c=R0(a.substring(1),"/"):c=R0(a,t)}else c=t;return{pathname:c,search:rx(r),hash:lx(o)}}function R0(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function md(s,t,a,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sx(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Kv(s){let t=sx(s);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function Xv(s,t,a,r=!1){let o;typeof s=="string"?o=Bi(s):(o={...s},xt(!o.pathname||!o.pathname.includes("?"),md("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),md("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),md("#","search","hash",o)));let c=s===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=a;else{let T=t.length-1;if(!r&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?t[T]:"/"}let y=ax(o,m),v=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(v||E)&&(y.pathname+="/"),y}var rs=s=>s.join("/").replace(/\/\/+/g,"/"),ix=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),rx=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,lx=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ox(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function ux(s){return s.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $v=["POST","PUT","PATCH","DELETE"];new Set($v);var cx=["GET",...$v];new Set(cx);var Kr=k.createContext(null);Kr.displayName="DataRouter";var Qc=k.createContext(null);Qc.displayName="DataRouterState";k.createContext(!1);var Zv=k.createContext({isTransitioning:!1});Zv.displayName="ViewTransition";var hx=k.createContext(new Map);hx.displayName="Fetchers";var fx=k.createContext(null);fx.displayName="Await";var oa=k.createContext(null);oa.displayName="Navigation";var So=k.createContext(null);So.displayName="Location";var za=k.createContext({outlet:null,matches:[],isDataRoute:!1});za.displayName="Route";var am=k.createContext(null);am.displayName="RouteError";function dx(s,{relative:t}={}){xt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=k.useContext(oa),{hash:o,pathname:c,search:d}=wo(s,{relative:t}),m=c;return a!=="/"&&(m=c==="/"?a:rs([a,c])),r.createHref({pathname:m,search:d,hash:o})}function Ao(){return k.useContext(So)!=null}function ni(){return xt(Ao(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(So).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wv(s){k.useContext(oa).static||k.useLayoutEffect(s)}function mx(){let{isDataRoute:s}=k.useContext(za);return s?Cx():gx()}function gx(){xt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Kr),{basename:t,navigator:a}=k.useContext(oa),{matches:r}=k.useContext(za),{pathname:o}=ni(),c=JSON.stringify(Kv(r)),d=k.useRef(!1);return Wv(()=>{d.current=!0}),k.useCallback((y,v={})=>{if(Yn(d.current,Jv),!d.current)return;if(typeof y=="number"){a.go(y);return}let E=Xv(y,JSON.parse(c),o,v.relative==="path");s==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:rs([t,E.pathname])),(v.replace?a.replace:a.push)(E,v.state,v)},[t,a,c,o,s])}var px=k.createContext(null);function yx(s){let t=k.useContext(za).outlet;return k.useMemo(()=>t&&k.createElement(px.Provider,{value:s},t),[t,s])}function wo(s,{relative:t}={}){let{matches:a}=k.useContext(za),{pathname:r}=ni(),o=JSON.stringify(Kv(a));return k.useMemo(()=>Xv(s,JSON.parse(o),r,t==="path"),[s,o,r,t])}function vx(s,t){return e_(s,t)}function e_(s,t,a,r,o){var le;xt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(oa),{matches:d}=k.useContext(za),m=d[d.length-1],y=m?m.params:{},v=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ae=T&&T.path||"";t_(v,!T||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let A=ni(),V;if(t){let ae=typeof t=="string"?Bi(t):t;xt(E==="/"||((le=ae.pathname)==null?void 0:le.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),V=ae}else V=A;let Q=V.pathname||"/",q=Q;if(E!=="/"){let ae=E.replace(/^\//,"").split("/");q="/"+Q.replace(/^\//,"").split("/").slice(ae.length).join("/")}let G=Fv(s,{pathname:q});Yn(T||G!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Yn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Tx(G&&G.map(ae=>Object.assign({},ae,{params:Object.assign({},y,ae.params),pathname:rs([E,c.encodeLocation?c.encodeLocation(ae.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?E:rs([E,c.encodeLocation?c.encodeLocation(ae.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathnameBase])})),d,a,r,o);return t&&ne?k.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ne):ne}function _x(){let s=Rx(),t=ox(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),a?k.createElement("pre",{style:o},a):null,d)}var bx=k.createElement(_x,null),Ex=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.onError?this.props.onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?k.createElement(za.Provider,{value:this.props.routeContext},k.createElement(am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xx({routeContext:s,match:t,children:a}){let r=k.useContext(Kr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(za.Provider,{value:s},a)}function Tx(s,t=[],a=null,r=null,o=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let c=s,d=a==null?void 0:a.errors;if(d!=null){let E=c.findIndex(T=>T.route.id&&(d==null?void 0:d[T.route.id])!==void 0);xt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let m=!1,y=-1;if(a)for(let E=0;E<c.length;E++){let T=c[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=E),T.route.id){let{loaderData:A,errors:V}=a,Q=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||Q){m=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let v=a&&r?(E,T)=>{var A,V;r(E,{location:a.location,params:((V=(A=a.matches)==null?void 0:A[0])==null?void 0:V.params)??{},unstable_pattern:ux(a.matches),errorInfo:T})}:void 0;return c.reduceRight((E,T,A)=>{let V,Q=!1,q=null,G=null;a&&(V=d&&T.route.id?d[T.route.id]:void 0,q=T.route.errorElement||bx,m&&(y<0&&A===0?(t_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,G=null):y===A&&(Q=!0,G=T.route.hydrateFallbackElement||null)));let ne=t.concat(c.slice(0,A+1)),le=()=>{let ae;return V?ae=q:Q?ae=G:T.route.Component?ae=k.createElement(T.route.Component,null):T.route.element?ae=T.route.element:ae=E,k.createElement(xx,{match:T,routeContext:{outlet:E,matches:ne,isDataRoute:a!=null},children:ae})};return a&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?k.createElement(Ex,{location:a.location,revalidation:a.revalidation,component:q,error:V,children:le(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:v}):le()},null)}function sm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sx(s){let t=k.useContext(Kr);return xt(t,sm(s)),t}function Ax(s){let t=k.useContext(Qc);return xt(t,sm(s)),t}function wx(s){let t=k.useContext(za);return xt(t,sm(s)),t}function im(s){let t=wx(s),a=t.matches[t.matches.length-1];return xt(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function Nx(){return im("useRouteId")}function Rx(){var r;let s=k.useContext(am),t=Ax("useRouteError"),a=im("useRouteError");return s!==void 0?s:(r=t.errors)==null?void 0:r[a]}function Cx(){let{router:s}=Sx("useNavigate"),t=im("useNavigate"),a=k.useRef(!1);return Wv(()=>{a.current=!0}),k.useCallback(async(o,c={})=>{Yn(a.current,Jv),a.current&&(typeof o=="number"?await s.navigate(o):await s.navigate(o,{fromRouteId:t,...c}))},[s,t])}var C0={};function t_(s,t,a){!t&&!C0[s]&&(C0[s]=!0,Yn(!1,a))}k.memo(Dx);function Dx({routes:s,future:t,state:a,unstable_onError:r}){return e_(s,void 0,a,r,t)}function Ix(s){return yx(s.context)}function as(s){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jx({basename:s="/",children:t=null,location:a,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){xt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),y=k.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[m,o,c,d]);typeof a=="string"&&(a=Bi(a));let{pathname:v="/",search:E="",hash:T="",state:A=null,key:V="default"}=a,Q=k.useMemo(()=>{let q=ls(v,m);return q==null?null:{location:{pathname:q,search:E,hash:T,state:A,key:V},navigationType:r}},[m,v,E,T,A,V,r]);return Yn(Q!=null,`<Router basename="${m}"> is not able to match the URL "${v}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:k.createElement(oa.Provider,{value:y},k.createElement(So.Provider,{children:t,value:Q}))}function Mx({children:s,location:t}){return vx(Cd(s),t)}function Cd(s,t=[]){let a=[];return k.Children.forEach(s,(r,o)=>{if(!k.isValidElement(r))return;let c=[...t,o];if(r.type===k.Fragment){a.push.apply(a,Cd(r.props.children,c));return}xt(r.type===as,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Cd(r.props.children,c)),a.push(d)}),a}var _c="get",bc="application/x-www-form-urlencoded";function Yc(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Vx(s){return Yc(s)&&s.tagName.toLowerCase()==="button"}function Ox(s){return Yc(s)&&s.tagName.toLowerCase()==="form"}function kx(s){return Yc(s)&&s.tagName.toLowerCase()==="input"}function zx(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Lx(s,t){return s.button===0&&(!t||t==="_self")&&!zx(s)}var uc=null;function Ux(){if(uc===null)try{new FormData(document.createElement("form"),0),uc=!1}catch{uc=!0}return uc}var Px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gd(s){return s!=null&&!Px.has(s)?(Yn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bc}"`),null):s}function Bx(s,t){let a,r,o,c,d;if(Ox(s)){let m=s.getAttribute("action");r=m?ls(m,t):null,a=s.getAttribute("method")||_c,o=gd(s.getAttribute("enctype"))||bc,c=new FormData(s)}else if(Vx(s)||kx(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||m.getAttribute("action");if(r=y?ls(y,t):null,a=s.getAttribute("formmethod")||m.getAttribute("method")||_c,o=gd(s.getAttribute("formenctype"))||gd(m.getAttribute("enctype"))||bc,c=new FormData(m,s),!Ux()){let{name:v,type:E,value:T}=s;if(E==="image"){let A=v?`${v}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else v&&c.append(v,T)}}else{if(Yc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=_c,r=null,o=bc,d=s}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:a.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rm(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function qx(s,t,a){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&ls(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function Hx(s,t){if(s.id in t)return t[s.id];try{let a=await import(s.module);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Fx(s,t,a){let r=await Promise.all(s.map(async o=>{let c=t.routes[o.route.id];if(c){let d=await Hx(c,a);return d.links?d.links():[]}return[]}));return Xx(r.flat(1).filter(Gx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function D0(s,t,a,r,o,c){let d=(y,v)=>a[v]?y.route.id!==a[v].route.id:!0,m=(y,v)=>{var E;return a[v].pathname!==y.pathname||((E=a[v].route.path)==null?void 0:E.endsWith("*"))&&a[v].params["*"]!==y.params["*"]};return c==="assets"?t.filter((y,v)=>d(y,v)||m(y,v)):c==="data"?t.filter((y,v)=>{var T;let E=r.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,v)||m(y,v))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=a[0])==null?void 0:T.params)||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Qx(s,t,{includeHydrateFallback:a}={}){return Yx(s.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Yx(s){return[...new Set(s)]}function Kx(s){let t={},a=Object.keys(s).sort();for(let r of a)t[r]=s[r];return t}function Xx(s,t){let a=new Set;return new Set(t),s.reduce((r,o)=>{let c=JSON.stringify(Kx(o));return a.has(c)||(a.add(c),r.push({key:c,link:o})),r},[])}function n_(){let s=k.useContext(Kr);return rm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function $x(){let s=k.useContext(Qc);return rm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var lm=k.createContext(void 0);lm.displayName="FrameworkContext";function a_(){let s=k.useContext(lm);return rm(s,"You must render this element inside a <HydratedRouter> element"),s}function Zx(s,t){let a=k.useContext(lm),[r,o]=k.useState(!1),[c,d]=k.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:v,onMouseLeave:E,onTouchStart:T}=t,A=k.useRef(null);k.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let q=ne=>{ne.forEach(le=>{d(le.isIntersecting)})},G=new IntersectionObserver(q,{threshold:.5});return A.current&&G.observe(A.current),()=>{G.disconnect()}}},[s]),k.useEffect(()=>{if(r){let q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(q)}}},[r]);let V=()=>{o(!0)},Q=()=>{o(!1),d(!1)};return a?s!=="intent"?[c,A,{}]:[c,A,{onFocus:so(m,V),onBlur:so(y,Q),onMouseEnter:so(v,V),onMouseLeave:so(E,Q),onTouchStart:so(T,V)}]:[!1,A,{}]}function so(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function Jx({page:s,...t}){let{router:a}=n_(),r=k.useMemo(()=>Fv(a.routes,s,a.basename),[a.routes,s,a.basename]);return r?k.createElement(e2,{page:s,matches:r,...t}):null}function Wx(s){let{manifest:t,routeModules:a}=a_(),[r,o]=k.useState([]);return k.useEffect(()=>{let c=!1;return Fx(s,t,a).then(d=>{c||o(d)}),()=>{c=!0}},[s,t,a]),r}function e2({page:s,matches:t,...a}){let r=ni(),{manifest:o,routeModules:c}=a_(),{basename:d}=n_(),{loaderData:m,matches:y}=$x(),v=k.useMemo(()=>D0(s,t,y,o,r,"data"),[s,t,y,o,r]),E=k.useMemo(()=>D0(s,t,y,o,r,"assets"),[s,t,y,o,r]),T=k.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let Q=new Set,q=!1;if(t.forEach(ne=>{var ae;let le=o.routes[ne.route.id];!le||!le.hasLoader||(!v.some(ve=>ve.route.id===ne.route.id)&&ne.route.id in m&&((ae=c[ne.route.id])!=null&&ae.shouldRevalidate)||le.hasClientLoader?q=!0:Q.add(ne.route.id))}),Q.size===0)return[];let G=qx(s,d,"data");return q&&Q.size>0&&G.searchParams.set("_routes",t.filter(ne=>Q.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[G.pathname+G.search]},[d,m,r,o,v,t,s,c]),A=k.useMemo(()=>Qx(E,o),[E,o]),V=Wx(E);return k.createElement(k.Fragment,null,T.map(Q=>k.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...a})),A.map(Q=>k.createElement("link",{key:Q,rel:"modulepreload",href:Q,...a})),V.map(({key:Q,link:q})=>k.createElement("link",{key:Q,nonce:a.nonce,...q})))}function t2(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var s_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s_&&(window.__reactRouterVersion="7.10.1")}catch{}function n2({basename:s,children:t,unstable_useTransitions:a,window:r}){let o=k.useRef();o.current==null&&(o.current=LE({window:r,v5Compat:!0}));let c=o.current,[d,m]=k.useState({action:c.action,location:c.location}),y=k.useCallback(v=>{a===!1?m(v):k.startTransition(()=>m(v))},[a]);return k.useLayoutEffect(()=>c.listen(y),[c,y]),k.createElement(jx,{basename:s,children:t,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:a===!0})}var i_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oo=k.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:m,target:y,to:v,preventScrollReset:E,viewTransition:T,...A},V){let{basename:Q,unstable_useTransitions:q}=k.useContext(oa),G=typeof v=="string"&&i_.test(v),ne,le=!1;if(typeof v=="string"&&G&&(ne=v,s_))try{let j=new URL(window.location.href),I=v.startsWith("//")?new URL(j.protocol+v):new URL(v),z=ls(I.pathname,Q);I.origin===j.origin&&z!=null?v=z+I.search+I.hash:le=!0}catch{Yn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=dx(v,{relative:o}),[ve,we,Se]=Zx(r,A),C=i2(v,{replace:d,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:q});function w(j){t&&t(j),j.defaultPrevented||C(j)}let N=k.createElement("a",{...A,...Se,href:ne||ae,onClick:le||c?t:w,ref:t2(V,we),target:y,"data-discover":!G&&a==="render"?"true":void 0});return ve&&!G?k.createElement(k.Fragment,null,N,k.createElement(Jx,{page:ae})):N});oo.displayName="Link";var r_=k.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:m,children:y,...v},E){let T=wo(d,{relative:v.relative}),A=ni(),V=k.useContext(Qc),{navigator:Q,basename:q}=k.useContext(oa),G=V!=null&&c2(T)&&m===!0,ne=Q.encodeLocation?Q.encodeLocation(T).pathname:T.pathname,le=A.pathname,ae=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;a||(le=le.toLowerCase(),ae=ae?ae.toLowerCase():null,ne=ne.toLowerCase()),ae&&q&&(ae=ls(ae,q)||ae);const ve=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let we=le===ne||!o&&le.startsWith(ne)&&le.charAt(ve)==="/",Se=ae!=null&&(ae===ne||!o&&ae.startsWith(ne)&&ae.charAt(ne.length)==="/"),C={isActive:we,isPending:Se,isTransitioning:G},w=we?t:void 0,N;typeof r=="function"?N=r(C):N=[r,we?"active":null,Se?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(C):c;return k.createElement(oo,{...v,"aria-current":w,className:N,ref:E,style:j,to:d,viewTransition:m},typeof y=="function"?y(C):y)});r_.displayName="NavLink";var a2=k.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:o,state:c,method:d=_c,action:m,onSubmit:y,relative:v,preventScrollReset:E,viewTransition:T,...A},V)=>{let{unstable_useTransitions:Q}=k.useContext(oa),q=o2(),G=u2(m,{relative:v}),ne=d.toLowerCase()==="get"?"get":"post",le=typeof m=="string"&&i_.test(m),ae=ve=>{if(y&&y(ve),ve.defaultPrevented)return;ve.preventDefault();let we=ve.nativeEvent.submitter,Se=(we==null?void 0:we.getAttribute("formmethod"))||d,C=()=>q(we||ve.currentTarget,{fetcherKey:t,method:Se,navigate:a,replace:o,state:c,relative:v,preventScrollReset:E,viewTransition:T});Q&&a!==!1?k.startTransition(()=>C()):C()};return k.createElement("form",{ref:V,method:ne,action:G,onSubmit:r?y:ae,...A,"data-discover":!le&&s==="render"?"true":void 0})});a2.displayName="Form";function s2(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l_(s){let t=k.useContext(Kr);return xt(t,s2(s)),t}function i2(s,{target:t,replace:a,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_useTransitions:m}={}){let y=mx(),v=ni(),E=wo(s,{relative:c});return k.useCallback(T=>{if(Lx(T,t)){T.preventDefault();let A=a!==void 0?a:go(v)===go(E),V=()=>y(s,{replace:A,state:r,preventScrollReset:o,relative:c,viewTransition:d});m?k.startTransition(()=>V()):V()}},[v,y,E,a,r,t,s,o,c,d,m])}var r2=0,l2=()=>`__${String(++r2)}__`;function o2(){let{router:s}=l_("useSubmit"),{basename:t}=k.useContext(oa),a=Nx(),r=s.fetch,o=s.navigate;return k.useCallback(async(c,d={})=>{let{action:m,method:y,encType:v,formData:E,body:T}=Bx(c,t);if(d.navigate===!1){let A=d.fetcherKey||l2();await r(A,a,d.action||m,{preventScrollReset:d.preventScrollReset,formData:E,body:T,formMethod:d.method||y,formEncType:d.encType||v,flushSync:d.flushSync})}else await o(d.action||m,{preventScrollReset:d.preventScrollReset,formData:E,body:T,formMethod:d.method||y,formEncType:d.encType||v,replace:d.replace,state:d.state,fromRouteId:a,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,o,t,a])}function u2(s,{relative:t}={}){let{basename:a}=k.useContext(oa),r=k.useContext(za);xt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...wo(s||".",{relative:t})},d=ni();if(s==null){c.search=d.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();c.search=E?`?${E}`:""}}return(!s||s===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:rs([a,c.pathname])),go(c)}function c2(s,{relative:t}={}){let a=k.useContext(Zv);xt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=l_("useViewTransitionState"),o=wo(s,{relative:t});if(!a.isTransitioning)return!1;let c=ls(a.currentLocation.pathname,r)||a.currentLocation.pathname,d=ls(a.nextLocation.pathname,r)||a.nextLocation.pathname;return Rc(o.pathname,d)!=null||Rc(o.pathname,c)!=null}const h2={eu:{sidebar:{dashboard:"Arbela",students:"Ikasleak",classes:"Gelak",notes:"Oharrak",resources:"Baliabideak",calendar:"Egutegia",settings:"Ezarpenak",devMode:"Garapen Modua",session:"Saioa aktibo honela:"},dashboard:{hello:"Kaixo, Irakasle",summary:"Hemen duzu gaurko laburpena.",stats:{students:"Ikasleak Guztira",pending:"Esku-hartzeak Egiteke",notes:"Ohar Aktiboak"},pendingTitle:"Ebazteko zain",viewStudents:"Ikasleak ikusi",allClear:"Dena egunean!",quickActions:{title:"Ekintza Azkarrak",desc:"Kudeatu zure egunerokoa eraginkortasunez.",newIntervention:"Esku-hartze Berria",createNote:"Oharra Sortu"},dateFormat:"yyyy/MM/dd"},students:{title:"Ikasleak",searchPlaceholder:"Bilatu izena edo taldea...",newStudent:"Ikasle Berria",editStudent:"Ikaslea Editatu",back:"Zerrendara itzuli",history:"Esku-hartzeen Historia",grades:"Kalifikazioak",noRecords:"Oraindik ez dago erregistrorik.",selectPrompt:"Aukeratu ikasle bat bere fitxa ikusteko",addIntervention:"Esku-hartze Berria",addGrade:"Nota Gehitu",editGrade:"Nota Editatu",addFollowUp:"Sarrera Berria",tabs:{interventions:"Esku-hartzeak",grades:"Notak",followup:"Jarraipena"},forms:{firstName:"Izena",lastName:"Abizenak",group:"Gelak aukeratu",contact:"Gurasoen Emaila/Tel",tags:"Behar Bereziak",addTag:"Beste bat gehitu...",saveStudent:"Ikaslea Gorde",updateStudent:"Aldaketak Gorde",type:"Mota",description:"Deskribapena",descPlaceholder:"Gorabeheraren xehetasunak...",saveRecord:"Erregistroa Gorde",examTitle:"Azterketa / Lana",gradeValue:"Nota (0-10)",gradeType:"Mota (Azterketa, Lana...)",followUpTitle:"Izenburua (Bilera, Txostena...)",followUpContent:"Idatzi hemen edukia..."},specialNeedsOptions:{adhd:"TDAH",dyslexia:"Dislexia",asd:"TEA",highAbilities:"Gaitasun Handiak",reinforcement:"Errefortzua",language:"Hizkuntza",hearing:"Entzumena",visual:"Ikusmena"},status:{pending:"Egiteke",resolved:"Ebaztuta",markResolved:"Ebaztuta bezala markatu",markPending:"Egiteke bezala markatu"},types:{Conducta:"Jarrera",Acadmico:"Akademikoa",Familia:"Familia",Positivo:"Positiboa"}},classes:{title:"Nire Gelak",addClass:"Gela Sortu",noClasses:"Ez duzu gelarik sortu oraindik.",studentsInClass:"Gela honetako ikasleak",addStudentToClass:"Gehitu ikaslea gela honetara",forms:{name:"Gela Izena (adib: 3. DBH B)",subject:"Ikasgaia",save:"Gela Gorde"}},notes:{title:"Ohar Azkarrak",newNote:"Ohar Berria",placeholder:"Idatzi zure oharra hemen...",save:"Gorde"},resources:{title:"Baliabide Liburutegia",searchPlaceholder:"Bilatu baliabideak...",add:"Gehitu",table:{resource:"Baliabidea",tags:"Etiketak",action:"Ekintza"},noResources:"Ez da baliabiderik aurkitu.",forms:{title:"Izenburua",url:"URL (https://...)",tags:"Etiketak (pdf, azterketa...)",category:"Kategoria",save:"Gorde"}},calendar:{title:"Eskola Egutegia",dragInstruction:"Arrastatu ohar bat egun batera ekitaldi bihurtzeko.",unscheduledNotes:"Planifikatu gabeko Oharrak",newEvent:"Ekitaldi Berria",todayEvents:"Gaurko Ekitaldiak",noEvents:"Ez dago ekitaldirik egun honetarako.",types:{general:"Orokorra",exam:"Azterketa",meeting:"Bilera"},add:"Gehitu",time:"Ordua",actions:{move:"Mugitu data",delete:"Ezabatu",save:"Gorde",cancel:"Utzi"}},settings:{title:"Firebase Konfigurazioa",subtitle:"Konektatu zure datu-base erreala gailu arteko sinkronizaziorako.",status:{label:"Egoera:",connected:"Konektatuta (Firebase)",mock:"Simulazio Modua (Tokiko Datuak)"},form:{apiKey:"API Key",authDomain:"Auth Domain",projectId:"Project ID",save:"Gorde eta Freskatu",clear:"Garbitu Konfigurazioa"},warning:"Aldaketak gordetzean orria freskatuko da."}},es:{sidebar:{dashboard:"Dashboard",students:"Mis Alumnos",classes:"Clases",notes:"Notas",resources:"Recursos",calendar:"Calendario",settings:"Configuracin",devMode:"Modo Dev",session:"Sesin activa como:"},dashboard:{hello:"Hola, Profesor",summary:"Aqu tienes el resumen de hoy.",stats:{students:"Total Alumnos",pending:"Intervenciones Pendientes",notes:"Notas Activas"},pendingTitle:"Pendientes de resolver",viewStudents:"Ver alumnos",allClear:"Todo al da!",quickActions:{title:"Acciones Rpidas",desc:"Gestiona tu da a da de forma eficiente.",newIntervention:"Nueva Intervencin",createNote:"Crear Nota"},dateFormat:"dd/MM/yyyy"},students:{title:"Alumnos",searchPlaceholder:"Buscar por nombre o grupo...",newStudent:"Nuevo Alumno",editStudent:"Editar Alumno",back:"Volver a lista",history:"Historial de Intervenciones",grades:"Calificaciones",noRecords:"No hay registros an.",selectPrompt:"Selecciona un alumno para ver su ficha",addIntervention:"Nueva Intervencin",addGrade:"Aadir Nota",editGrade:"Editar Nota",addFollowUp:"Nueva Entrada",tabs:{interventions:"Intervenciones",grades:"Notas",followup:"Seguimiento"},forms:{firstName:"Nombre",lastName:"Apellidos",group:"Seleccin de Clases",contact:"Email/Telfono padres",tags:"Necesidades Especiales",addTag:"Aadir otra...",saveStudent:"Guardar Alumno",updateStudent:"Actualizar Alumno",type:"Tipo",description:"Descripcin",descPlaceholder:"Detalles de la incidencia...",saveRecord:"Guardar Registro",examTitle:"Examen / Trabajo",gradeValue:"Nota (0-10)",gradeType:"Tipo (Examen, Trabajo...)",followUpTitle:"Ttulo (Reunin, Informe...)",followUpContent:"Escribe aqu el contenido..."},specialNeedsOptions:{adhd:"TDAH",dyslexia:"Dislexia",asd:"TEA",highAbilities:"Altas Capacidades",reinforcement:"Refuerzo",language:"Lenguaje",hearing:"Auditiva",visual:"Visual"},status:{pending:"Pendiente",resolved:"Resuelto",markResolved:"Marcar como Resuelto",markPending:"Marcar como Pendiente"},types:{Conducta:"Conducta",Acadmico:"Acadmico",Familia:"Familia",Positivo:"Positivo"}},classes:{title:"Mis Clases",addClass:"Crear Clase",noClasses:"No has creado ninguna clase todava.",studentsInClass:"Alumnos en esta clase",addStudentToClass:"Aadir alumno a esta clase",forms:{name:"Nombre Clase (ej: 3 ESO B)",subject:"Asignatura",save:"Guardar Clase"}},notes:{title:"Notas Rpidas",newNote:"Nueva Nota",placeholder:"Escribe tu nota aqu...",save:"Guardar"},resources:{title:"Biblioteca de Recursos",searchPlaceholder:"Buscar recursos...",add:"Aadir",table:{resource:"Recurso",tags:"Tags",action:"Accin"},noResources:"No se encontraron recursos.",forms:{title:"Ttulo",url:"URL (https://...)",tags:"Tags (pdf, examen...)",category:"Categora",save:"Guardar"}},calendar:{title:"Calendario Escolar",dragInstruction:"Arrastra una nota a un da para convertirla en evento.",unscheduledNotes:"Notas sin planificar",newEvent:"Nuevo Evento",todayEvents:"Eventos del da",noEvents:"No hay eventos para este da.",types:{general:"General",exam:"Examen",meeting:"Reunin"},add:"Aadir",time:"Hora",actions:{move:"Mover fecha",delete:"Eliminar",save:"Guardar",cancel:"Cancelar"}},settings:{title:"Configuracin Firebase",subtitle:"Conecta tu base de datos real para sincronizacin entre dispositivos.",status:{label:"Estado:",connected:"Conectado (Firebase)",mock:"Modo Simulacin (Datos Locales)"},form:{apiKey:"API Key",authDomain:"Auth Domain",projectId:"Project ID",save:"Guardar y Recargar",clear:"Borrar Configuracin"},warning:"Al guardar los cambios la pgina se recargar."}}},o_=k.createContext(void 0),f2=({children:s})=>{const[t,a]=k.useState("eu"),o={language:t,toggleLanguage:()=>{a(c=>c==="eu"?"es":"eu")},t:h2[t]};return p.jsx(o_.Provider,{value:o,children:s})},ai=()=>{const s=k.useContext(o_);if(s===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return s};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m2=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),I0=s=>{const t=m2(s);return t.charAt(0).toUpperCase()+t.slice(1)},u_=(...s)=>s.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),g2=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=k.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...m},y)=>k.createElement("svg",{ref:y,...p2,width:t,height:t,stroke:s,strokeWidth:r?Number(a)*24/Number(t):a,className:u_("lucide",o),...!c&&!g2(m)&&{"aria-hidden":"true"},...m},[...d.map(([v,E])=>k.createElement(v,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(s,t)=>{const a=k.forwardRef(({className:r,...o},c)=>k.createElement(y2,{ref:c,iconNode:t,className:u_(`lucide-${d2(I0(s))}`,`lucide-${s}`,r),...o}));return a.displayName=I0(s),a};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_2=Ve("arrow-right",v2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ec=Ve("book-open",b2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],x2=Ve("brain-circuit",E2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],S2=Ve("calendar-days",T2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],w2=Ve("calendar",A2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],om=Ve("check",N2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C2=Ve("chevron-right",R2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],I2=Ve("chevron-left",D2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],c_=Ve("circle-alert",j2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],V2=Ve("circle-check",M2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],k2=Ve("clock",O2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],L2=Ve("cloud",z2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],P2=Ve("copy",U2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],q2=Ve("database",B2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],G2=Ve("external-link",H2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Q2=Ve("file-text",F2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],um=Ve("graduation-cap",Y2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],X2=Ve("grip-horizontal",K2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Z2=Ve("history",$2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],W2=Ve("languages",J2);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tT=Ve("layout-dashboard",eT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],aT=Ve("library",nT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],iT=Ve("menu",sT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dd=Ve("pen",rT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oT=Ve("phone",lT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ki=Ve("plus",uT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hT=Ve("save",cT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],dT=Ve("school",fT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],h_=Ve("search",mT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pT=Ve("settings",gT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],cm=Ve("sticky-note",yT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_T=Ve("tag",vT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cc=Ve("trash-2",bT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xT=Ve("triangle-alert",ET);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],ST=Ve("undo-2",TT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],wT=Ve("user-plus",AT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RT=Ve("user",NT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hm=Ve("users",CT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],is=Ve("x",DT),Vi=({to:s,icon:t,label:a,onClick:r})=>p.jsxs(r_,{to:s,onClick:r,className:({isActive:o})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 ${o?"bg-indigo-50 text-indigo-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,children:[p.jsx(t,{size:20}),p.jsx("span",{children:a})]}),IT=()=>{const[s,t]=k.useState(!1),{t:a,language:r,toggleLanguage:o}=ai(),c=ni(),d=()=>{switch(c.pathname){case"/":return a.sidebar.dashboard;case"/students":return a.sidebar.students;case"/classes":return a.sidebar.classes;case"/notes":return a.sidebar.notes;case"/resources":return a.sidebar.resources;case"/calendar":return a.sidebar.calendar;case"/settings":return a.sidebar.settings;default:return"TeacherMate"}};return p.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[s&&p.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden",onClick:()=>t(!1)}),p.jsx("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-30 w-64 bg-white border-r border-slate-200 transform transition-transform duration-300 ease-in-out
          ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center text-white",children:p.jsx(um,{size:24})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"TeacherMate"}),p.jsx("p",{className:"text-xs text-slate-500 font-mono",children:a.sidebar.devMode})]})]}),p.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[p.jsx(Vi,{to:"/",icon:tT,label:a.sidebar.dashboard,onClick:()=>t(!1)}),p.jsx(Vi,{to:"/calendar",icon:S2,label:a.sidebar.calendar,onClick:()=>t(!1)}),p.jsx(Vi,{to:"/classes",icon:Ec,label:a.sidebar.classes,onClick:()=>t(!1)}),p.jsx(Vi,{to:"/students",icon:hm,label:a.sidebar.students,onClick:()=>t(!1)}),p.jsx(Vi,{to:"/notes",icon:cm,label:a.sidebar.notes,onClick:()=>t(!1)}),p.jsx(Vi,{to:"/resources",icon:aT,label:a.sidebar.resources,onClick:()=>t(!1)}),p.jsx(Vi,{to:"/settings",icon:pT,label:a.sidebar.settings,onClick:()=>t(!1)})]}),p.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-4",children:[p.jsxs("button",{onClick:o,className:"w-full flex items-center justify-between px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors text-sm font-medium text-slate-700",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(W2,{size:16,className:"mr-2 text-slate-500"}),p.jsx("span",{children:"Hizkuntza / Idioma"})]}),p.jsxs("div",{className:"flex space-x-1 text-xs",children:[p.jsx("span",{className:`${r==="eu"?"font-bold text-indigo-600":"text-slate-400"}`,children:"EU"}),p.jsx("span",{className:"text-slate-300",children:"|"}),p.jsx("span",{className:`${r==="es"?"font-bold text-indigo-600":"text-slate-400"}`,children:"ES"})]})]}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[p.jsx("p",{className:"text-xs text-slate-500",children:a.sidebar.session}),p.jsx("p",{className:"text-sm font-semibold text-slate-700 truncate",children:"profe_master_dev"})]})]})]})}),p.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[p.jsxs("header",{className:"bg-white border-b border-slate-200 lg:hidden px-4 py-3 flex items-center justify-between",children:[p.jsx("button",{onClick:()=>t(!0),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-md",children:p.jsx(iT,{size:24})}),p.jsx("span",{className:"font-semibold text-slate-800",children:d()}),p.jsx("div",{className:"w-10"})," "]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth",children:p.jsx("div",{className:"max-w-6xl mx-auto",children:p.jsx(Ix,{})})})]})]})},jT=()=>{};var j0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=function(s){const t=[];let a=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=o&63|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=o&63|128)}return t},MT=function(s){const t=[];let a=0,r=0;for(;a<s.length;){const o=s[a++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[a++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[a++],d=s[a++],m=s[a++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[a++],d=s[a++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},d_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,m=d?s[o+1]:0,y=o+2<s.length,v=y?s[o+2]:0,E=c>>2,T=(c&3)<<4|m>>4;let A=(m&15)<<2|v>>6,V=v&63;y||(V=64,d||(A=64)),r.push(a[E],a[T],a[A],a[V])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(f_(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):MT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=a[s.charAt(o++)],m=o<s.length?a[s.charAt(o)]:0;++o;const v=o<s.length?a[s.charAt(o)]:64;++o;const T=o<s.length?a[s.charAt(o)]:64;if(++o,c==null||m==null||v==null||T==null)throw new VT;const A=c<<2|m>>4;if(r.push(A),v!==64){const V=m<<4&240|v>>2;if(r.push(V),T!==64){const Q=v<<6&192|T;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OT=function(s){const t=f_(s);return d_.encodeByteArray(t,!0)},Dc=function(s){return OT(s).replace(/\./g,"")},kT=function(s){try{return d_.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=()=>zT().__FIREBASE_DEFAULTS__,UT=()=>{if(typeof process>"u"||typeof j0>"u")return;const s=j0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&kT(s[1]);return t&&JSON.parse(t)},fm=()=>{try{return jT()||LT()||UT()||PT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},BT=s=>{var t,a;return(a=(t=fm())==null?void 0:t.emulatorHosts)==null?void 0:a[s]},qT=s=>{const t=BT(s);if(!t)return;const a=t.lastIndexOf(":");if(a<=0||a+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(a+1),10);return t[0]==="["?[t.substring(1,a-1),r]:[t.substring(0,a),r]},m_=()=>{var s;return(s=fm())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,a)=>{this.resolve=t,this.reject=a})}wrapCallback(t){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(a):t(a,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Dc(JSON.stringify(a)),Dc(JSON.stringify(d)),""].join(".")}const uo={};function QT(){const s={prod:[],emulator:[]};for(const t of Object.keys(uo))uo[t]?s.emulator.push(t):s.prod.push(t);return s}function YT(s){let t=document.getElementById(s),a=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),a=!0),{created:a,element:t}}let M0=!1;function KT(s,t){if(typeof window>"u"||typeof document>"u"||!dm(window.location.host)||uo[s]===t||uo[s]||M0)return;uo[s]=t;function a(A){return`__firebase__banner__${A}`}const r="__firebase__banner",c=QT().prod.length>0;function d(){const A=document.getElementById(r);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{M0=!0,d()},A}function E(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=YT(r),V=a("text"),Q=document.getElementById(V)||document.createElement("span"),q=a("learnmore"),G=document.getElementById(q)||document.createElement("a"),ne=a("preprendIcon"),le=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ae=A.element;m(ae),E(G,q);const ve=v();y(le,ne),ae.append(le,Q,G,ve),document.body.appendChild(ae)}c?(Q.innerText="Preview backend disconnected.",le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $T(){var t;const s=(t=fm())==null?void 0:t.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZT(){return!$T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JT(){try{return typeof indexedDB=="object"}catch{return!1}}function WT(){return new Promise((s,t)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var c;t(((c=o.error)==null?void 0:c.message)||"")}}catch(a){t(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="FirebaseError";class Xr extends Error{constructor(t,a,r){super(a),this.code=t,this.customData=r,this.name=eS,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g_.prototype.create)}}class g_{constructor(t,a,r){this.service=t,this.serviceName=a,this.errors=r}create(t,...a){const r=a[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?tS(c,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Xr(o,m,r)}}function tS(s,t){return s.replace(nS,(a,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const nS=/\{\$([^}]+)}/g;function Ic(s,t){if(s===t)return!0;const a=Object.keys(s),r=Object.keys(t);for(const o of a){if(!r.includes(o))return!1;const c=s[o],d=t[o];if(V0(c)&&V0(d)){if(!Ic(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!a.includes(o))return!1;return!0}function V0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(s){return s&&s._delegate?s._delegate:s}class po{constructor(t,a,r){this.name=t,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,a){this.name=t,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const a=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(a)){const r=new HT;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(t){const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iS(t))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=Oi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...t.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Oi){return this.instances.has(t)}getOptions(t=Oi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:a={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&d.resolve(o)}return o}onInit(t,a){const r=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,a){const r=this.onInitCallbacks.get(a);if(r)for(const o of r)try{o(t,a)}catch{}}getOrInitializeService({instanceIdentifier:t,options:a={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sS(t),options:a}),this.instances.set(t,r),this.instancesOptions.set(t,a),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Oi){return this.component?this.component.multipleInstances?t:Oi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(s){return s===Oi?void 0:s}function iS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const a=this.getProvider(t.name);if(a.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);a.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const a=new aS(t,this);return this.providers.set(t,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ke||(Ke={}));const lS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},oS=Ke.INFO,uS={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},cS=(s,t,...a)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=uS[t];if(o)console[o](`[${r}]  ${s.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class p_{constructor(t){this.name=t,this._logLevel=oS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ke))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...t),this._logHandler(this,Ke.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...t),this._logHandler(this,Ke.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...t),this._logHandler(this,Ke.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...t),this._logHandler(this,Ke.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...t),this._logHandler(this,Ke.ERROR,...t)}}const hS=(s,t)=>t.some(a=>s instanceof a);let O0,k0;function fS(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y_=new WeakMap,Id=new WeakMap,v_=new WeakMap,pd=new WeakMap,mm=new WeakMap;function mS(s){const t=new Promise((a,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{a(Fs(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(a=>{a instanceof IDBCursor&&y_.set(a,s)}).catch(()=>{}),mm.set(t,s),t}function gS(s){if(Id.has(s))return;const t=new Promise((a,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{a(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Id.set(s,t)}let jd={get(s,t,a){if(s instanceof IDBTransaction){if(t==="done")return Id.get(s);if(t==="objectStoreNames")return s.objectStoreNames||v_.get(s);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Fs(s[t])},set(s,t,a){return s[t]=a,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function pS(s){jd=s(jd)}function yS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...a){const r=s.call(yd(this),t,...a);return v_.set(r,t.sort?t.sort():[t]),Fs(r)}:dS().includes(s)?function(...t){return s.apply(yd(this),t),Fs(y_.get(this))}:function(...t){return Fs(s.apply(yd(this),t))}}function vS(s){return typeof s=="function"?yS(s):(s instanceof IDBTransaction&&gS(s),hS(s,fS())?new Proxy(s,jd):s)}function Fs(s){if(s instanceof IDBRequest)return mS(s);if(pd.has(s))return pd.get(s);const t=vS(s);return t!==s&&(pd.set(s,t),mm.set(t,s)),t}const yd=s=>mm.get(s);function _S(s,t,{blocked:a,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),m=Fs(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Fs(d.result),y.oldVersion,y.newVersion,Fs(d.transaction),y)}),a&&d.addEventListener("blocked",y=>a(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const bS=["get","getKey","getAll","getAllKeys","count"],ES=["put","add","delete","clear"],vd=new Map;function z0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(vd.get(t))return vd.get(t);const a=t.replace(/FromIndex$/,""),r=t!==a,o=ES.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(o||bS.includes(a)))return;const c=async function(d,...m){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(m.shift())),(await Promise.all([v[a](...m),o&&y.done]))[0]};return vd.set(t,c),c}pS(s=>({...s,get:(t,a,r)=>z0(t,a)||s.get(t,a,r),has:(t,a)=>!!z0(t,a)||s.has(t,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(TS(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function TS(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Md="@firebase/app",L0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new p_("@firebase/app"),SS="@firebase/app-compat",AS="@firebase/analytics-compat",wS="@firebase/analytics",NS="@firebase/app-check-compat",RS="@firebase/app-check",CS="@firebase/auth",DS="@firebase/auth-compat",IS="@firebase/database",jS="@firebase/data-connect",MS="@firebase/database-compat",VS="@firebase/functions",OS="@firebase/functions-compat",kS="@firebase/installations",zS="@firebase/installations-compat",LS="@firebase/messaging",US="@firebase/messaging-compat",PS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",HS="@firebase/remote-config-compat",GS="@firebase/storage",FS="@firebase/storage-compat",QS="@firebase/firestore",YS="@firebase/ai",KS="@firebase/firestore-compat",XS="firebase",$S="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",ZS={[Md]:"fire-core",[SS]:"fire-core-compat",[wS]:"fire-analytics",[AS]:"fire-analytics-compat",[RS]:"fire-app-check",[NS]:"fire-app-check-compat",[CS]:"fire-auth",[DS]:"fire-auth-compat",[IS]:"fire-rtdb",[jS]:"fire-data-connect",[MS]:"fire-rtdb-compat",[VS]:"fire-fn",[OS]:"fire-fn-compat",[kS]:"fire-iid",[zS]:"fire-iid-compat",[LS]:"fire-fcm",[US]:"fire-fcm-compat",[PS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[HS]:"fire-rc-compat",[GS]:"fire-gcs",[FS]:"fire-gcs-compat",[QS]:"fire-fst",[KS]:"fire-fst-compat",[YS]:"fire-vertex","fire-js":"fire-js",[XS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,JS=new Map,Od=new Map;function U0(s,t){try{s.container.addComponent(t)}catch(a){us.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,a)}}function Mc(s){const t=s.name;if(Od.has(t))return us.debug(`There were multiple attempts to register component ${t}.`),!1;Od.set(t,s);for(const a of jc.values())U0(a,s);for(const a of JS.values())U0(a,s);return!0}function WS(s,t){const a=s.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),s.container.getProvider(t)}function eA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new g_("app","Firebase",tA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,a,r){this._isDeleted=!1,this._options={...t},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=$S;function __(s,t={}){let a=s;typeof t!="object"&&(t={name:t});const r={name:Vd,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(a||(a=m_()),!a)throw Qs.create("no-options");const c=jc.get(o);if(c){if(Ic(a,c.options)&&Ic(r,c.config))return c;throw Qs.create("duplicate-app",{appName:o})}const d=new rS(o);for(const y of Od.values())d.addComponent(y);const m=new nA(a,r,d);return jc.set(o,m),m}function sA(s=Vd){const t=jc.get(s);if(!t&&s===Vd&&m_())return __();if(!t)throw Qs.create("no-app",{appName:s});return t}function Lr(s,t,a){let r=ZS[s]??s;a&&(r+=`-${a}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}Mc(new po(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firebase-heartbeat-database",rA=1,yo="firebase-heartbeat-store";let _d=null;function b_(){return _d||(_d=_S(iA,rA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(yo)}catch(a){console.warn(a)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),_d}async function lA(s){try{const a=(await b_()).transaction(yo),r=await a.objectStore(yo).get(E_(s));return await a.done,r}catch(t){if(t instanceof Xr)us.warn(t.message);else{const a=Qs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});us.warn(a.message)}}}async function P0(s,t){try{const r=(await b_()).transaction(yo,"readwrite");await r.objectStore(yo).put(t,E_(s)),await r.done}catch(a){if(a instanceof Xr)us.warn(a.message);else{const r=Qs.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});us.warn(r.message)}}}function E_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=1024,uA=30;class cA{constructor(t){this.container=t,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new fA(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=B0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)==null?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>uA){const d=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=B0(),{heartbeatsToSend:r,unsentEntries:o}=hA(this._heartbeatsCache.heartbeats),c=Dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(a){return us.warn(a),""}}}function B0(){return new Date().toISOString().substring(0,10)}function hA(s,t=oA){const a=[];let r=s.slice();for(const o of s){const c=a.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),q0(a)>t){c.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),q0(a)>t){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class fA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JT()?WT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await lA(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return P0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return P0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function q0(s){return Dc(JSON.stringify({version:2,heartbeats:s})).length}function dA(s){if(s.length===0)return-1;let t=0,a=s[0].date;for(let r=1;r<s.length;r++)s[r].date<a&&(a=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(s){Mc(new po("platform-logger",t=>new xS(t),"PRIVATE")),Mc(new po("heartbeat",t=>new cA(t),"PRIVATE")),Lr(Md,L0,s),Lr(Md,L0,"esm2020"),Lr("fire-js","")}mA("");var gA="firebase",pA="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(gA,pA,"app");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,x_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function N(){}N.prototype=w.prototype,C.F=w.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(j,I,z){for(var R=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)R[Je-2]=arguments[Je];return w.prototype[I].apply(j,R)}}function a(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,a),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,N){N||(N=0);const j=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)j[I]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(I=0;I<16;++I)j[I]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=C.g[0],N=C.g[1],I=C.g[2];let z=C.g[3],R;R=w+(z^N&(I^z))+j[0]+3614090360&4294967295,w=N+(R<<7&4294967295|R>>>25),R=z+(I^w&(N^I))+j[1]+3905402710&4294967295,z=w+(R<<12&4294967295|R>>>20),R=I+(N^z&(w^N))+j[2]+606105819&4294967295,I=z+(R<<17&4294967295|R>>>15),R=N+(w^I&(z^w))+j[3]+3250441966&4294967295,N=I+(R<<22&4294967295|R>>>10),R=w+(z^N&(I^z))+j[4]+4118548399&4294967295,w=N+(R<<7&4294967295|R>>>25),R=z+(I^w&(N^I))+j[5]+1200080426&4294967295,z=w+(R<<12&4294967295|R>>>20),R=I+(N^z&(w^N))+j[6]+2821735955&4294967295,I=z+(R<<17&4294967295|R>>>15),R=N+(w^I&(z^w))+j[7]+4249261313&4294967295,N=I+(R<<22&4294967295|R>>>10),R=w+(z^N&(I^z))+j[8]+1770035416&4294967295,w=N+(R<<7&4294967295|R>>>25),R=z+(I^w&(N^I))+j[9]+2336552879&4294967295,z=w+(R<<12&4294967295|R>>>20),R=I+(N^z&(w^N))+j[10]+4294925233&4294967295,I=z+(R<<17&4294967295|R>>>15),R=N+(w^I&(z^w))+j[11]+2304563134&4294967295,N=I+(R<<22&4294967295|R>>>10),R=w+(z^N&(I^z))+j[12]+1804603682&4294967295,w=N+(R<<7&4294967295|R>>>25),R=z+(I^w&(N^I))+j[13]+4254626195&4294967295,z=w+(R<<12&4294967295|R>>>20),R=I+(N^z&(w^N))+j[14]+2792965006&4294967295,I=z+(R<<17&4294967295|R>>>15),R=N+(w^I&(z^w))+j[15]+1236535329&4294967295,N=I+(R<<22&4294967295|R>>>10),R=w+(I^z&(N^I))+j[1]+4129170786&4294967295,w=N+(R<<5&4294967295|R>>>27),R=z+(N^I&(w^N))+j[6]+3225465664&4294967295,z=w+(R<<9&4294967295|R>>>23),R=I+(w^N&(z^w))+j[11]+643717713&4294967295,I=z+(R<<14&4294967295|R>>>18),R=N+(z^w&(I^z))+j[0]+3921069994&4294967295,N=I+(R<<20&4294967295|R>>>12),R=w+(I^z&(N^I))+j[5]+3593408605&4294967295,w=N+(R<<5&4294967295|R>>>27),R=z+(N^I&(w^N))+j[10]+38016083&4294967295,z=w+(R<<9&4294967295|R>>>23),R=I+(w^N&(z^w))+j[15]+3634488961&4294967295,I=z+(R<<14&4294967295|R>>>18),R=N+(z^w&(I^z))+j[4]+3889429448&4294967295,N=I+(R<<20&4294967295|R>>>12),R=w+(I^z&(N^I))+j[9]+568446438&4294967295,w=N+(R<<5&4294967295|R>>>27),R=z+(N^I&(w^N))+j[14]+3275163606&4294967295,z=w+(R<<9&4294967295|R>>>23),R=I+(w^N&(z^w))+j[3]+4107603335&4294967295,I=z+(R<<14&4294967295|R>>>18),R=N+(z^w&(I^z))+j[8]+1163531501&4294967295,N=I+(R<<20&4294967295|R>>>12),R=w+(I^z&(N^I))+j[13]+2850285829&4294967295,w=N+(R<<5&4294967295|R>>>27),R=z+(N^I&(w^N))+j[2]+4243563512&4294967295,z=w+(R<<9&4294967295|R>>>23),R=I+(w^N&(z^w))+j[7]+1735328473&4294967295,I=z+(R<<14&4294967295|R>>>18),R=N+(z^w&(I^z))+j[12]+2368359562&4294967295,N=I+(R<<20&4294967295|R>>>12),R=w+(N^I^z)+j[5]+4294588738&4294967295,w=N+(R<<4&4294967295|R>>>28),R=z+(w^N^I)+j[8]+2272392833&4294967295,z=w+(R<<11&4294967295|R>>>21),R=I+(z^w^N)+j[11]+1839030562&4294967295,I=z+(R<<16&4294967295|R>>>16),R=N+(I^z^w)+j[14]+4259657740&4294967295,N=I+(R<<23&4294967295|R>>>9),R=w+(N^I^z)+j[1]+2763975236&4294967295,w=N+(R<<4&4294967295|R>>>28),R=z+(w^N^I)+j[4]+1272893353&4294967295,z=w+(R<<11&4294967295|R>>>21),R=I+(z^w^N)+j[7]+4139469664&4294967295,I=z+(R<<16&4294967295|R>>>16),R=N+(I^z^w)+j[10]+3200236656&4294967295,N=I+(R<<23&4294967295|R>>>9),R=w+(N^I^z)+j[13]+681279174&4294967295,w=N+(R<<4&4294967295|R>>>28),R=z+(w^N^I)+j[0]+3936430074&4294967295,z=w+(R<<11&4294967295|R>>>21),R=I+(z^w^N)+j[3]+3572445317&4294967295,I=z+(R<<16&4294967295|R>>>16),R=N+(I^z^w)+j[6]+76029189&4294967295,N=I+(R<<23&4294967295|R>>>9),R=w+(N^I^z)+j[9]+3654602809&4294967295,w=N+(R<<4&4294967295|R>>>28),R=z+(w^N^I)+j[12]+3873151461&4294967295,z=w+(R<<11&4294967295|R>>>21),R=I+(z^w^N)+j[15]+530742520&4294967295,I=z+(R<<16&4294967295|R>>>16),R=N+(I^z^w)+j[2]+3299628645&4294967295,N=I+(R<<23&4294967295|R>>>9),R=w+(I^(N|~z))+j[0]+4096336452&4294967295,w=N+(R<<6&4294967295|R>>>26),R=z+(N^(w|~I))+j[7]+1126891415&4294967295,z=w+(R<<10&4294967295|R>>>22),R=I+(w^(z|~N))+j[14]+2878612391&4294967295,I=z+(R<<15&4294967295|R>>>17),R=N+(z^(I|~w))+j[5]+4237533241&4294967295,N=I+(R<<21&4294967295|R>>>11),R=w+(I^(N|~z))+j[12]+1700485571&4294967295,w=N+(R<<6&4294967295|R>>>26),R=z+(N^(w|~I))+j[3]+2399980690&4294967295,z=w+(R<<10&4294967295|R>>>22),R=I+(w^(z|~N))+j[10]+4293915773&4294967295,I=z+(R<<15&4294967295|R>>>17),R=N+(z^(I|~w))+j[1]+2240044497&4294967295,N=I+(R<<21&4294967295|R>>>11),R=w+(I^(N|~z))+j[8]+1873313359&4294967295,w=N+(R<<6&4294967295|R>>>26),R=z+(N^(w|~I))+j[15]+4264355552&4294967295,z=w+(R<<10&4294967295|R>>>22),R=I+(w^(z|~N))+j[6]+2734768916&4294967295,I=z+(R<<15&4294967295|R>>>17),R=N+(z^(I|~w))+j[13]+1309151649&4294967295,N=I+(R<<21&4294967295|R>>>11),R=w+(I^(N|~z))+j[4]+4149444226&4294967295,w=N+(R<<6&4294967295|R>>>26),R=z+(N^(w|~I))+j[11]+3174756917&4294967295,z=w+(R<<10&4294967295|R>>>22),R=I+(w^(z|~N))+j[2]+718787259&4294967295,I=z+(R<<15&4294967295|R>>>17),R=N+(z^(I|~w))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+z&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const N=w-this.blockSize,j=this.C;let I=this.h,z=0;for(;z<w;){if(I==0)for(;z<=N;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<w;)if(j[I++]=C.charCodeAt(z++),I==this.blockSize){o(this,j),I=0;break}}else for(;z<w;)if(j[I++]=C[z++],I==this.blockSize){o(this,j),I=0;break}}this.h=I,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)C[w++]=this.g[N]>>>j&255;return C};function c(C,w){var N=m;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=w(C)}function d(C,w){this.h=w;const N=[];let j=!0;for(let I=C.length-1;I>=0;I--){const z=C[I]|0;j&&z==w||(N[I]=z,j=!1)}this.g=N}var m={};function y(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return G(v(-C));const w=[];let N=1;for(let j=0;C>=N;j++)w[j]=C/N|0,N*=4294967296;return new d(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return G(E(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(w,8));let j=T;for(let z=0;z<C.length;z+=8){var I=Math.min(8,C.length-z);const R=parseInt(C.substring(z,z+I),w);I<8?(I=v(Math.pow(w,I)),j=j.j(I).add(v(R))):(j=j.j(N),j=j.add(v(R)))}return j}var T=y(0),A=y(1),V=y(16777216);s=d.prototype,s.m=function(){if(q(this))return-G(this).m();let C=0,w=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);C+=(j>=0?j:4294967296+j)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if(q(this))return"-"+G(this).toString(C);const w=v(Math.pow(C,6));var N=this;let j="";for(;;){const I=ve(N,w).g;N=ne(N,I.j(w));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=I,Q(N))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function q(C){return C.h==-1}s.l=function(C){return C=ne(this,C),q(C)?-1:Q(C)?0:1};function G(C){const w=C.g.length,N=[];for(let j=0;j<w;j++)N[j]=~C.g[j];return new d(N,~C.h).add(A)}s.abs=function(){return q(this)?G(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),N=[];let j=0;for(let I=0;I<=w;I++){let z=j+(this.i(I)&65535)+(C.i(I)&65535),R=(z>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);j=R>>>16,z&=65535,R&=65535,N[I]=R<<16|z}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ne(C,w){return C.add(G(w))}s.j=function(C){if(Q(this)||Q(C))return T;if(q(this))return q(C)?G(this).j(G(C)):G(G(this).j(C));if(q(C))return G(this.j(G(C)));if(this.l(V)<0&&C.l(V)<0)return v(this.m()*C.m());const w=this.g.length+C.g.length,N=[];for(var j=0;j<2*w;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let I=0;I<C.g.length;I++){const z=this.i(j)>>>16,R=this.i(j)&65535,Je=C.i(I)>>>16,dt=C.i(I)&65535;N[2*j+2*I]+=R*dt,le(N,2*j+2*I),N[2*j+2*I+1]+=z*dt,le(N,2*j+2*I+1),N[2*j+2*I+1]+=R*Je,le(N,2*j+2*I+1),N[2*j+2*I+2]+=z*Je,le(N,2*j+2*I+2)}for(C=0;C<w;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=w;C<2*w;C++)N[C]=0;return new d(N,0)};function le(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ae(C,w){this.g=C,this.h=w}function ve(C,w){if(Q(w))throw Error("division by zero");if(Q(C))return new ae(T,T);if(q(C))return w=ve(G(C),w),new ae(G(w.g),G(w.h));if(q(w))return w=ve(C,G(w)),new ae(G(w.g),w.h);if(C.g.length>30){if(q(C)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var N=A,j=w;j.l(C)<=0;)N=we(N),j=we(j);var I=Se(N,1),z=Se(j,1);for(j=Se(j,2),N=Se(N,2);!Q(j);){var R=z.add(j);R.l(C)<=0&&(I=I.add(N),z=R),j=Se(j,1),N=Se(N,1)}return w=ne(C,I.j(w)),new ae(I,w)}for(I=T;C.l(w)>=0;){for(N=Math.max(1,Math.floor(C.m()/w.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=v(N),R=z.j(w);q(R)||R.l(C)>0;)N-=j,z=v(N),R=z.j(w);Q(z)&&(z=A),I=I.add(z),C=ne(C,R)}return new ae(I,C)}s.B=function(C){return ve(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<w;j++)N[j]=this.i(j)&C.i(j);return new d(N,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<w;j++)N[j]=this.i(j)|C.i(j);return new d(N,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let j=0;j<w;j++)N[j]=this.i(j)^C.i(j);return new d(N,this.h^C.h)};function we(C){const w=C.g.length+1,N=[];for(let j=0;j<w;j++)N[j]=C.i(j)<<1|C.i(j-1)>>>31;return new d(N,C.h)}function Se(C,w){const N=w>>5;w%=32;const j=C.g.length-N,I=[];for(let z=0;z<j;z++)I[z]=w>0?C.i(z+N)>>>w|C.i(z+N+1)<<32-w:C.i(z+N);return new d(I,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,x_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=E,Ys=d}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T_,io,S_,xc,kd,A_,w_,N_;(function(){var s,t=Object.defineProperty;function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var g=0;g<u.length;++g){var b=u[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=a(this);function o(u,g){if(g)e:{var b=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in b))break e;b=b[U]}u=u[u.length-1],S=b[u],g=g(S),g!=S&&g!=null&&t(b,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var b=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&b.push([S,g[S]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,b){return u.call.apply(u.bind,arguments)}function v(u,g,b){return v=y,v.apply(null,arguments)}function E(u,g){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function T(u,g){function b(){}b.prototype=g.prototype,u.Z=g.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(S,U,F){for(var re=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)re[Ie-2]=arguments[Ie];return g.prototype[U].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const g=u.length;if(g>0){const b=Array(g);for(let S=0;S<g;S++)b[S]=u[S];return b}return[]}function Q(u,g){for(let S=1;S<arguments.length;S++){const U=arguments[S];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const F=U.length||0;u.length=b+F;for(let re=0;re<F;re++)u[b+re]=U[re]}else u.push(U)}}class q{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(u){d.setTimeout(()=>{throw u},0)}function ne(){var u=C;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class le{constructor(){this.h=this.g=null}add(g,b){const S=ae.get();S.set(g,b),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new q(()=>new ve,u=>u.reset());class ve{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Se=!1,C=new le,w=()=>{const u=Promise.resolve(void 0);we=()=>{u.then(N)}};function N(){for(var u;u=ne();){try{u.h.call(u.g)}catch(b){G(b)}var g=ae;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}Se=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,g),d.removeEventListener("test",b,g)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Je(u,g){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}T(Je,I),Je.prototype.init=function(u,g){const b=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(b=="mouseover"?g=u.fromElement:b=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Je.Z.h.call(this)},Je.prototype.h=function(){Je.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ie(u,g,b,S,U){this.listener=u,this.proxy=null,this.src=g,this.type=b,this.capture=!!S,this.ha=U,this.key=++X,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,g,b){for(const S in u)g.call(b,u[S],S,u)}function Fe(u,g){for(const b in u)g.call(void 0,u[b],b,u)}function M(u){const g={};for(const b in u)g[b]=u[b];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,g){let b,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(b in S)u[b]=S[b];for(let F=0;F<Z.length;F++)b=Z[F],Object.prototype.hasOwnProperty.call(S,b)&&(u[b]=S[b])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,g,b,S,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const re=Ne(u,g,S,U);return re>-1?(g=u[re],b||(g.fa=!1)):(g=new ie(g,this.src,F,!!S,U),g.fa=b,u.push(g)),g};function Te(u,g){const b=g.type;if(b in u.g){var S=u.g[b],U=Array.prototype.indexOf.call(S,g,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(_e(g),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ne(u,g,b,S){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==g&&F.capture==!!b&&F.ha==S)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Et={};function rt(u,g,b,S,U){if(Array.isArray(g)){for(let F=0;F<g.length;F++)rt(u,g[F],b,S,U);return null}return b=gt(b),u&&u[dt]?u.J(g,b,m(S)?!!S.capture:!1,U):jn(u,g,b,!1,S,U)}function jn(u,g,b,S,U,F){if(!g)throw Error("Invalid event type");const re=m(U)?!!U.capture:!!U;let Ie=ye(u);if(Ie||(u[ke]=Ie=new ue(u)),b=Ie.add(g,b,S,re,F),b.proxy)return b;if(S=se(),b.proxy=S,S.src=u,S.listener=b,u.addEventListener)z||(U=re),U===void 0&&(U=!1),u.addEventListener(g.toString(),S,U);else if(u.attachEvent)u.attachEvent(K(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function se(){function u(b){return g.call(u.src,u.listener,b)}const g=me;return u}function ce(u,g,b,S,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)ce(u,g[F],b,S,U);else S=m(S)?!!S.capture:!!S,b=gt(b),u&&u[dt]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],b=Ne(g,b,S,U),b>-1&&(_e(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=ye(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ne(g,b,S,U)),(b=u>-1?g[u]:null)&&We(b))}function We(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[dt])Te(g.i,u);else{var b=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(b,S,u.capture):g.detachEvent?g.detachEvent(K(b),S):g.addListener&&g.removeListener&&g.removeListener(S),(b=ye(g))?(Te(b,u),b.h==0&&(b.src=null,g[ke]=null)):_e(u)}}}function K(u){return u in Et?Et[u]:Et[u]="on"+u}function me(u,g){if(u.da)u=!0;else{g=new Je(g,this);const b=u.listener,S=u.ha||u.src;u.fa&&We(u),u=b.call(S,g)}return u}function ye(u){return u=u[ke],u instanceof ue?u:null}var He="__closure_events_fn_"+(Math.random()*1e9>>>0);function gt(u){return typeof u=="function"?u:(u[He]||(u[He]=function(g){return u.handleEvent(g)}),u[He])}function ge(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}T(ge,j),ge.prototype[dt]=!0,ge.prototype.removeEventListener=function(u,g,b,S){ce(this,u,g,b,S)};function ht(u,g){var b,S=u.G;if(S)for(b=[];S;S=S.G)b.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new I(g,u);else if(g instanceof I)g.target=g.target||u;else{var U=g;g=new I(S,u),oe(g,U)}U=!0;let F,re;if(b)for(re=b.length-1;re>=0;re--)F=g.g=b[re],U=ua(F,S,!0,g)&&U;if(F=g.g=u,U=ua(F,S,!0,g)&&U,U=ua(F,S,!1,g)&&U,b)for(re=0;re<b.length;re++)F=g.g=b[re],U=ua(F,S,!1,g)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const b=u.g[g];for(let S=0;S<b.length;S++)_e(b[S]);delete u.g[g],u.h--}}this.G=null},ge.prototype.J=function(u,g,b,S){return this.i.add(String(u),g,!1,b,S)},ge.prototype.K=function(u,g,b,S){return this.i.add(String(u),g,!0,b,S)};function ua(u,g,b,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let F=0;F<g.length;++F){const re=g[F];if(re&&!re.da&&re.capture==b){const Ie=re.listener,Nt=re.ha||re.src;re.fa&&Te(u.i,re),U=Ie.call(Nt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Gi(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function Fi(u){u.g=Gi(()=>{u.g=null,u.i&&(u.i=!1,Fi(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Qe extends j{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Fi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hn(u){j.call(this),this.h=u,this.g={}}T(hn,j);var tl=[];function nl(u){Oe(u.g,function(g,b){this.g.hasOwnProperty(b)&&We(g)},u),u.g={}}hn.prototype.N=function(){hn.Z.N.call(this),nl(this)},hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=d.JSON.stringify,ch=d.JSON.parse,Oo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ko(){}function zo(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){I.call(this,"d")}T(Xt,I);function Mn(){I.call(this,"c")}T(Mn,I);var wt={},Lo=null;function Qi(){return Lo=Lo||new ge}wt.Ia="serverreachability";function Uo(u){I.call(this,wt.Ia,u)}T(Uo,I);function ca(u){const g=Qi();ht(g,new Uo(g))}wt.STAT_EVENT="statevent";function ri(u,g){I.call(this,wt.STAT_EVENT,u),this.stat=g}T(ri,I);function It(u){const g=Qi();ht(g,new ri(g,u))}wt.Ja="timingevent";function ha(u,g){I.call(this,wt.Ja,u),this.size=g}T(ha,I);function fa(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function hh(u,g,b,S,U,F){u.info(function(){if(u.g)if(F){var re="",Ie=F.split("&");for(let et=0;et<Ie.length;et++){var Nt=Ie[et].split("=");if(Nt.length>1){const _t=Nt[0];Nt=Nt[1];const zn=_t.split("_");re=zn.length>=2&&zn[1]=="type"?re+(_t+"="+Nt+"&"):re+(_t+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+b+`
`+re})}function Po(u,g,b,S,U,F,re){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+b+`
`+F+" "+re})}function da(u,g,b,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+fh(u,b)+(S?" "+S:"")})}function li(u,g){u.info(function(){return"TIMEOUT: "+g})}Xn.prototype.info=function(){};function fh(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var b=F[u];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return fs(F)}catch{return g}}var oi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sl;function ui(){}T(ui,ko),ui.prototype.g=function(){return new XMLHttpRequest},sl=new ui;function La(u){return encodeURIComponent(String(u))}function Bo(u){var g=1;u=u.split(":");const b=[];for(;g>0&&u.length;)b.push(u.shift()),g--;return u.length&&b.push(u.join(":")),b}function $n(u,g,b,S){this.j=u,this.i=g,this.l=b,this.S=S||1,this.V=new hn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var jt={},Ft={};function ma(u,g,b){u.M=1,u.A=ci(Vt(g)),u.u=b,u.R=!0,Yi(u,null)}function Yi(u,g){u.F=Date.now(),ga(u),u.B=Vt(u.A);var b=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Zi(b.i,"t",S),u.C=0,b=u.j.L,u.h=new Zn,u.g=nu(u.j,b?g:null,!u.u),u.P>0&&(u.O=new Qe(v(u.Y,u,u.g),u.P)),g=u.V,b=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(tl[0]=U.toString()),U=tl);for(let F=0;F<U.length;F++){const re=rt(b,U[F],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),ca(),hh(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const g=this.O;g&&ea(u)==3?g.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ea(this.g),Nt=this.g.ya(),et=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ie!=4||Nt==7||(Nt==8||et<=0?ca(3):ca(2)),pa(this);var g=this.g.ca();this.X=g;var b=dh(this);if(this.o=g==200,Po(this.i,this.v,this.B,this.l,this.S,Ie,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var F=S;break t}}F=null}if(u=F)da(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ya(this,u);else{this.o=!1,this.m=3,It(12),xn(this),Vn(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<b.length;)if(_t=Ho(this,b),_t==Ft){Ie==4&&(this.m=4,It(14),u=!1),da(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==jt){this.m=4,It(15),da(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else da(this.i,this.l,_t,null),ya(this,_t);if(qo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)da(this.i,this.l,b,"[Invalid Chunked Response]"),xn(this),Vn(this);else if(b.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),_l(re),re.P=!0,It(11))}}else da(this.i,this.l,b,null),ya(this,b);Ie==4&&xn(this),this.o&&!this.K&&(Ie==4?Jo(this.j,this):(this.o=!1,ga(this)))}else Pa(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),xn(this),Vn(this)}}}catch{}finally{}};function dh(u){if(!qo(u))return u.g.la();const g=$t(u.g);if(g==="")return"";let b="";const S=g.length,U=ea(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<S;F++)u.h.h=!0,b+=u.h.i.decode(g[F],{stream:!(U&&F==S-1)});return g.length=0,u.h.g+=b,u.C=0,u.h.g}function qo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ho(u,g){var b=u.C,S=g.indexOf(`
`,b);return S==-1?Ft:(b=Number(g.substring(b,S)),isNaN(b)?jt:(S+=1,S+b>g.length?Ft:(g=g.slice(S,S+b),u.C=S+b,g)))}$n.prototype.cancel=function(){this.K=!0,xn(this)};function ga(u){u.T=Date.now()+u.H,Ki(u,u.H)}function Ki(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fa(v(u.aa,u),g)}function pa(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(li(this.i,this.B),this.M!=2&&(ca(),It(17)),xn(this),this.m=2,Vn(this)):Ki(this,this.T-u)};function Vn(u){u.j.I==0||u.K||Jo(u.j,u)}function xn(u){pa(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,nl(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function ya(u,g){try{var b=u.j;if(b.I!=0&&(b.g==u||_a(b.h,u))){if(!u.L&&_a(b.h,u)&&b.I==3){try{var S=b.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)nr(b),bs(b);else break e;yi(b),It(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=fa(v(b.Va,b),6e3));va(b.h)<=1&&b.ta&&(b.ta=void 0)}else Aa(b,11)}else if((u.L||b.g==u)&&nr(b),!R(g))for(U=b.Ba.g.parse(g),g=0;g<U.length;g++){let et=U[g];const _t=et[0];if(!(_t<=b.K))if(b.K=_t,et=et[1],b.I==2)if(et[0]=="c"){b.M=et[1],b.ba=et[2];const zn=et[3];zn!=null&&(b.ka=zn,b.j.info("VER="+b.ka));const wa=et[4];wa!=null&&(b.za=wa,b.j.info("SVER="+b.za));const ta=et[5];ta!=null&&typeof ta=="number"&&ta>0&&(S=1.5*ta,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const na=u.g;if(na){const vi=na.g?na.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var F=S.h;F.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ll(F,F.h),F.h=null))}if(S.G){const ar=na.g?na.g.getResponseHeader("X-HTTP-Session-Id"):null;ar&&(S.wa=ar,at(S.J,S.G,ar))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var re=u;if(S.na=tu(S,S.L?S.ba:null,S.W),re.L){ol(S.h,re);var Ie=re,Nt=S.O;Nt&&(Ie.H=Nt),Ie.D&&(pa(Ie),ga(Ie)),S.g=re}else $o(S);b.i.length>0&&Sa(b)}else et[0]!="stop"&&et[0]!="close"||Aa(b,7);else b.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Aa(b,7):yl(b):et[0]!="noop"&&b.l&&b.l.qa(et),b.A=0)}}ca(4)}catch{}}var Mt=class{constructor(u,g){this.g=u,this.map=g}};function il(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function va(u){return u.h?1:u.g?u.g.size:0}function _a(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ll(u,g){u.g?u.g.add(g):u.h=g}function ol(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}il.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ul(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const b of u.g.values())g=g.concat(b.G);return g}return V(u.i)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xi(u,g){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const S=u[b].indexOf("=");let U,F=null;S>=0?(U=u[b].substring(0,S),F=u[b].substring(S+1)):U=u[b],g(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Tn?(this.l=u.l,Qt(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,cl(this,Ko(u.i)),this.m=u.m):u&&(g=String(u).match(Go))?(this.l=!1,Qt(this,g[1]||"",!0),this.o=ba(g[2]||""),this.g=ba(g[3]||"",!0),ds(this,g[4]),this.h=ba(g[5]||"",!0),cl(this,g[6]||"",!0),this.m=ba(g[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}Tn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(hi(g,$i,!0),":");var b=this.g;return(b||g=="file")&&(u.push("//"),(g=this.o)&&u.push(hi(g,$i,!0),"@"),u.push(La(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(hi(b,b.charAt(0)=="/"?hl:Fo,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",hi(b,Qo)),u.join("")},Tn.prototype.resolve=function(u){const g=Vt(this);let b=!!u.j;b?Qt(g,u.j):b=!!u.o,b?g.o=u.o:b=!!u.g,b?g.g=u.g:b=u.u!=null;var S=u.h;if(b)ds(g,u.u);else if(b=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=g.h.lastIndexOf("/");U!=-1&&(S=g.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let re=0;re<U.length;){const Ie=U[re++];Ie=="."?S&&re==U.length&&F.push(""):Ie==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&re==U.length&&F.push("")):(F.push(Ie),S=!0)}S=F.join("/")}else S=U}return b?g.h=S:b=u.i.toString()!=="",b?cl(g,Ko(u.i)):b=!!u.m,b&&(g.m=u.m),g};function Vt(u){return new Tn(u)}function Qt(u,g,b){u.j=b?ba(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function cl(u,g,b){g instanceof gs?(u.i=g,Ji(u.i,u.l)):(b||(g=hi(g,ms)),u.i=new gs(g,u.l))}function at(u,g,b){u.i.set(g,b)}function ci(u){return at(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ba(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hi(u,g,b){return typeof u=="string"?(u=encodeURI(u).replace(g,fn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $i=/[#\/\?@]/g,Fo=/[#\?:]/g,hl=/[#\?]/g,ms=/[#\?@]/g,Qo=/#/g;function gs(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Xi(u.i,function(g,b){u.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}s=gs.prototype,s.add=function(u,g){dn(this),this.i=null,u=ps(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(g),this.h+=1,this};function Yo(u,g){dn(u),g=ps(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function fl(u,g){return dn(u),g=ps(u,g),u.g.has(g)}s.forEach=function(u,g){dn(this),this.g.forEach(function(b,S){b.forEach(function(U){u.call(g,U,S,this)},this)},this)};function dl(u,g){dn(u);let b=[];if(typeof g=="string")fl(u,g)&&(b=b.concat(u.g.get(ps(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)b=b.concat(u[g]);return b}s.set=function(u,g){return dn(this),this.i=null,u=ps(this,u),fl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=dl(this,u),u.length>0?String(u[0]):g):g};function Zi(u,g,b){Yo(u,g),b.length>0&&(u.i=null,u.g.set(ps(u,g),V(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var b=g[S];const U=La(b);b=dl(this,b);for(let F=0;F<b.length;F++){let re=U;b[F]!==""&&(re+="="+La(b[F])),u.push(re)}}return this.i=u.join("&")};function Ko(u){const g=new gs;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function ps(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ji(u,g){g&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(b,S){const U=S.toLowerCase();S!=U&&(Yo(this,S),Zi(this,U,b))},u)),u.j=g}function Jn(u,g){const b=new Xn;if(d.Image){const S=new Image;S.onload=E(On,b,"TestLoadImage: loaded",!0,g,S),S.onerror=E(On,b,"TestLoadImage: error",!1,g,S),S.onabort=E(On,b,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(On,b,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function ml(u,g){const b=new Xn,S=new AbortController,U=setTimeout(()=>{S.abort(),On(b,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?On(b,"TestPingServer: ok",!0,g):On(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),On(b,"TestPingServer: error",!1,g)})}function On(u,g,b,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(b)}catch{}}function ys(){this.g=new Oo}function Ea(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Ea,ko),Ea.prototype.g=function(){return new fi(this.i,this.h)};function fi(u,g){ge.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(fi,ge),s=fi.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?vs(this):Wn(this),this.readyState==3&&Wi(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},s.Na=function(u){this.g&&(this.response=u,vs(this))},s.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,g){this.A.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=g.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let g="";return Oe(u,function(b,S){g+=S,g+=":",g+=b,g+=`\r
`}),g}function di(u,g,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=kn(b),typeof u=="string"?b!=null&&La(b):at(u,g,b))}function lt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(lt,ge);var xa=/^https?$/i,gl=["POST","PUT"];s=lt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,g,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sl.g(),this.g.onreadystatechange=A(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){mi(this,F);return}if(u=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)b.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())b.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(gl,g,void 0)>=0)||S||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of b)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){mi(this,F)}};function mi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,pl(u),Ua(u)}function pl(u){u.A||(u.A=!0,ht(u,"complete"),ht(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ht(this,"complete"),ht(this,"abort"),Ua(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ua(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?gi(this):this.Xa())},s.Xa=function(){gi(this)};function gi(u){if(u.h&&typeof c<"u"){if(u.v&&ea(u)==4)setTimeout(u.Ca.bind(u),0);else if(ht(u,"readystatechange"),ea(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var S;if(S=F===0){let re=String(u.D).match(Go)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),S=!xa.test(re?re.toLowerCase():"")}b=S}if(b)ht(u,"complete"),ht(u,"success");else{u.o=6;try{var U=ea(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",pl(u)}}finally{Ua(u)}}}}function Ua(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,g||ht(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ea(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ea(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ch(g)}};function $t(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(u){const g={};u=(u.g&&ea(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var b=Bo(u[S]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=g[U]||[];g[U]=F,F.push(b)}Fe(g,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(u,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||g}function _s(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ta("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ta("baseRetryDelayMs",5e3,u),this.Za=Ta("retryDelaySeedMs",1e4,u),this.Ta=Ta("forwardChannelMaxRetries",2,u),this.va=Ta("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new il(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=_s.prototype,s.ka=8,s.I=1,s.connect=function(u,g,b,S){It(0),this.W=u,this.H=g||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=tu(this,null,this.W),Sa(this)};function yl(u){if(er(u),u.I==3){var g=u.V++,b=Vt(u.J);if(at(b,"SID",u.M),at(b,"RID",g),at(b,"TYPE","terminate"),pi(u,b),g=new $n(u,u.j,g),g.M=2,g.A=ci(Vt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=g.A,b=!0),b||(g.g=nu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ga(g)}eu(u)}function bs(u){u.g&&(_l(u),u.g.cancel(),u.g=null)}function er(u){bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),nr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Sa(u){if(!rl(u.h)&&!u.m){u.m=!0;var g=u.Ea;we||w(),Se||(we(),Se=!0),C.add(g,u),u.D=0}}function tr(u,g){return va(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fa(v(u.Ea,u,g),Wo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new $n(this,this.j,u);let F=this.o;if(this.U&&(F?(F=M(F),oe(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Xo(this,U,g),b=Vt(this.J),at(b,"RID",u),at(b,"CVER",22),this.G&&at(b,"X-HTTP-Session-Id",this.G),pi(this,b),F&&(this.R?g="headers="+La(kn(F))+"&"+g:this.u&&di(b,this.u,F)),ll(this.h,U),this.Ra&&at(b,"TYPE","init"),this.S?(at(b,"$req",g),at(b,"SID","null"),U.U=!0,ma(U,b,null)):ma(U,b,g),this.I=2}}else this.I==3&&(u?vl(this,u):this.i.length==0||rl(this.h)||vl(this))};function vl(u,g){var b;g?b=g.l:b=u.V++;const S=Vt(u.J);at(S,"SID",u.M),at(S,"RID",b),at(S,"AID",u.K),pi(u,S),u.u&&u.o&&di(S,u.u,u.o),b=new $n(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Xo(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ll(u.h,b),ma(b,S,g)}function pi(u,g){u.H&&Oe(u.H,function(b,S){at(g,S,b)}),u.l&&Oe({},function(b,S){at(g,S,b)})}function Xo(u,g,b){b=Math.min(u.i.length,b);const S=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Nt=["count="+b];Ie==-1?b>0?(Ie=U[0].g,Nt.push("ofs="+Ie)):Ie=0:Nt.push("ofs="+Ie);let et=!0;for(let _t=0;_t<b;_t++){var F=U[_t].g;const zn=U[_t].map;if(F-=Ie,F<0)Ie=Math.max(0,U[_t].g-100),et=!1;else try{F="req"+F+"_"||"";try{var re=zn instanceof Map?zn:Object.entries(zn);for(const[wa,ta]of re){let na=ta;m(ta)&&(na=fs(ta)),Nt.push(F+wa+"="+encodeURIComponent(na))}}catch(wa){throw Nt.push(F+"type="+encodeURIComponent("_badmap")),wa}}catch{S&&S(zn)}}if(et){re=Nt.join("&");break e}}re=void 0}return u=u.i.splice(0,b),g.G=u,re}function $o(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;we||w(),Se||(we(),Se=!0),C.add(g,u),u.A=0}}function yi(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fa(v(u.Da,u),Wo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fa(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),bs(this),Zo(this))};function _l(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Zo(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Vt(u.na);at(g,"RID","rpc"),at(g,"SID",u.M),at(g,"AID",u.K),at(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&at(g,"TO",u.ia),at(g,"TYPE","xmlhttp"),pi(u,g),u.u&&u.o&&di(g,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ci(Vt(g)),b.u=null,b.R=!0,Yi(b,u)}s.Va=function(){this.C!=null&&(this.C=null,bs(this),yi(this),It(19))};function nr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Jo(u,g){var b=null;if(u.g==g){nr(u),_l(u),u.g=null;var S=2}else if(_a(u.h,g))b=g.G,ol(u.h,g),S=1;else return;if(u.I!=0){if(g.o)if(S==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var U=u.D;S=Qi(),ht(S,new ha(S,b)),Sa(u)}else $o(u);else if(U=g.m,U==3||U==0&&g.X>0||!(S==1&&tr(u,g)||S==2&&yi(u)))switch(b&&b.length>0&&(g=u.h,g.i=g.i.concat(b)),U){case 1:Aa(u,5);break;case 4:Aa(u,10);break;case 3:Aa(u,6);break;default:Aa(u,2)}}}function Wo(u,g){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*g}function Aa(u,g){if(u.j.info("Error code "+g),g==2){var b=v(u.bb,u),S=u.Ua;const U=!S;S=new Tn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(S,"https"),ci(S),U?Jn(S.toString(),b):ml(S.toString(),b)}else It(2);u.I=0,u.l&&u.l.pa(g),eu(u),er(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function eu(u){if(u.I=0,u.ja=[],u.l){const g=ul(u.h);(g.length!=0||u.i.length!=0)&&(Q(u.ja,g),Q(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function tu(u,g,b){var S=b instanceof Tn?Vt(b):new Tn(b);if(S.g!="")g&&(S.g=g+"."+S.g),ds(S,S.u);else{var U=d.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const F=new Tn(null);S&&Qt(F,S),g&&(F.g=g),U&&ds(F,U),b&&(F.h=b),S=F}return b=u.G,g=u.wa,b&&g&&at(S,b,g),at(S,"VER",u.ka),pi(u,S),S}function nu(u,g,b){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new lt(new Ea({ab:b})):new lt(u.ma),g.Fa(u.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}s=au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Es(){}Es.prototype.g=function(u,g){return new un(u,g)};function un(u,g){ge.call(this),this.g=new _s(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!R(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ba(this)}T(un,ge),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){yl(this.g)},un.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=fs(u),u=b);g.i.push(new Mt(g.Ya++,u)),g.I==3&&Sa(g)},un.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,un.Z.N.call(this)};function su(u){Xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const b in g){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}T(su,Xt);function iu(){Mn.call(this),this.status=1}T(iu,Mn);function Ba(u){this.g=u}T(Ba,au),Ba.prototype.ra=function(){ht(this.g,"a")},Ba.prototype.qa=function(u){ht(this.g,new su(u))},Ba.prototype.pa=function(u){ht(this.g,new iu)},Ba.prototype.oa=function(){ht(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,N_=function(){return new Es},w_=function(){return Qi()},A_=wt,kd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,xc=oi,al.COMPLETE="complete",S_=al,zo.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,io=zo,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,T_=lt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",F0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $r="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new p_("@firebase/firestore");function Mr(){return Li.logLevel}function fe(s,...t){if(Li.logLevel<=Ke.DEBUG){const a=t.map(gm);Li.debug(`Firestore (${$r}): ${s}`,...a)}}function cs(s,...t){if(Li.logLevel<=Ke.ERROR){const a=t.map(gm);Li.error(`Firestore (${$r}): ${s}`,...a)}}function qr(s,...t){if(Li.logLevel<=Ke.WARN){const a=t.map(gm);Li.warn(`Firestore (${$r}): ${s}`,...a)}}function gm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s,t,a){let r="Unexpected state";typeof t=="string"?r=t:a=t,R_(s,r,a)}function R_(s,t,a){let r=`FIRESTORE (${$r}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(a!==void 0)try{r+=" CONTEXT: "+JSON.stringify(a)}catch{r+=" CONTEXT: "+a}throw cs(r),new Error(r)}function nt(s,t,a,r){let o="Unexpected state";typeof a=="string"?o=a:r=a,s||R_(t,o,r)}function De(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Xr{constructor(t,a){super(t,a),this.code=t,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise(((t,a)=>{this.resolve=t,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(t,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,a){t.enqueueRetryable((()=>a(ln.UNAUTHENTICATED)))}shutdown(){}}class vA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,a){this.changeListener=a,t.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class _A{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,a){nt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,a(y)):Promise.resolve();let c=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ks,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ks)}}),0),d()}getToken(){const t=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((r=>this.i!==t?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new C_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return nt(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class bA{constructor(t,a,r){this.P=t,this.T=a,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EA{constructor(t,a,r){this.P=t,this.T=a,this.I=r}getToken(){return Promise.resolve(new bA(this.P,this.T,this.I))}start(t,a){t.enqueueRetryable((()=>a(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xA{constructor(t,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,eA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,a){nt(this.o===void 0,3512);const r=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?a(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((a=>a?(nt(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new Q0(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(a);else for(let r=0;r<s;r++)a[r]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=TA(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<a&&(r+=t.charAt(o[c]%62))}return r}}function Be(s,t){return s<t?-1:s>t?1:0}function zd(s,t){const a=Math.min(s.length,t.length);for(let r=0;r<a;r++){const o=s.charAt(r),c=t.charAt(r);if(o!==c)return bd(o)===bd(c)?Be(o,c):bd(o)?1:-1}return Be(s.length,t.length)}const SA=55296,AA=57343;function bd(s){const t=s.charCodeAt(0);return t>=SA&&t<=AA}function Hr(s,t,a){return s.length===t.length&&s.every(((r,o)=>a(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__name__";class Ia{constructor(t,a,r){a===void 0?a=0:a>t.length&&Ae(637,{offset:a,range:t.length}),r===void 0?r=t.length-a:r>t.length-a&&Ae(1746,{length:r,range:t.length-a}),this.segments=t,this.offset=a,this.len=r}get length(){return this.len}isEqual(t){return Ia.comparator(this,t)===0}child(t){const a=this.segments.slice(this.offset,this.limit());return t instanceof Ia?t.forEach((r=>{a.push(r)})):a.push(t),this.construct(a)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==t.get(a))return!1;return!0}forEach(t){for(let a=this.offset,r=this.limit();a<r;a++)t(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,a){const r=Math.min(t.length,a.length);for(let o=0;o<r;o++){const c=Ia.compareSegments(t.get(o),a.get(o));if(c!==0)return c}return Be(t.length,a.length)}static compareSegments(t,a){const r=Ia.isNumericId(t),o=Ia.isNumericId(a);return r&&!o?-1:!r&&o?1:r&&o?Ia.extractNumericId(t).compare(Ia.extractNumericId(a)):zd(t,a)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class mt extends Ia{construct(t,a,r){return new mt(t,a,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const a=[];for(const r of t){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);a.push(...r.split("/").filter((o=>o.length>0)))}return new mt(a)}static emptyPath(){return new mt([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ia{construct(t,a,r){return new nn(t,a,r)}static isValidIdentifier(t){return wA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new nn([Y0])}static fromServerFormat(t){const a=[];let r="",o=0;const c=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(r),r=""};let d=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(a)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.path=t}static fromPath(t){return new Ee(mt.fromString(t))}static fromName(t){return new Ee(mt.fromString(t).popFirst(5))}static empty(){return new Ee(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&mt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,a){return mt.comparator(t.path,a.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ee(new mt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(s,t,a){if(!a)throw new he(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function NA(s,t,a,r){if(t===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${s} and ${a} cannot be used together.`)}function K0(s){if(!Ee.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function X0(s){if(Ee.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function I_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Kc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Ui(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Kc(s);throw new he(ee.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${a}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(s,t){const a={typeString:s};return t&&(a.value=t),a}function No(s,t){if(!I_(s))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let a;for(const r in t)if(t[r]){const o=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){a=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){a=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){a=`Expected '${r}' field to equal '${c.value}'`;break}}if(a)throw new he(ee.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-62135596800,Z0=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(t){return vt.fromMillis(t.getTime())}static fromMillis(t){const a=Math.floor(t/1e3),r=Math.floor((t-1e3*a)*Z0);return new vt(a,r)}constructor(t,a){if(this.seconds=t,this.nanoseconds=a,a<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(t<$0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(t){return this.seconds===t.seconds?Be(this.nanoseconds,t.nanoseconds):Be(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(No(t,vt._jsonSchema))return new vt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Bt("string",vt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(t){return new Re(t)}static min(){return new Re(new vt(0,0))}static max(){return new Re(new vt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=-1;function RA(s,t){const a=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(r===1e9?new vt(a+1,0):new vt(a,r));return new $s(o,Ee.empty(),t)}function CA(s){return new $s(s.readTime,s.key,vo)}class $s{constructor(t,a,r){this.readTime=t,this.documentKey=a,this.largestBatchId=r}static min(){return new $s(Re.min(),Ee.empty(),vo)}static max(){return new $s(Re.max(),Ee.empty(),vo)}}function DA(s,t){let a=s.readTime.compareTo(t.readTime);return a!==0?a:(a=Ee.comparator(s.documentKey,t.documentKey),a!==0?a:Be(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zr(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==IA)throw s;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(t){return this.next(void 0,t)}next(t,a){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(t,this.result):new te(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(a,c).next(r,o)}}))}toPromise(){return new Promise(((t,a)=>{this.next(t,a)}))}wrapUserFunction(t){try{const a=t();return a instanceof te?a:te.resolve(a)}catch(a){return te.reject(a)}}wrapSuccess(t,a){return t?this.wrapUserFunction((()=>t(a))):te.resolve(a)}wrapFailure(t,a){return t?this.wrapUserFunction((()=>t(a))):te.reject(a)}static resolve(t){return new te(((a,r)=>{a(t)}))}static reject(t){return new te(((a,r)=>{r(t)}))}static waitFor(t){return new te(((a,r)=>{let o=0,c=0,d=!1;t.forEach((m=>{++o,m.next((()=>{++c,d&&c===o&&a()}),(y=>r(y)))})),d=!0,c===o&&a()}))}static or(t){let a=te.resolve(!1);for(const r of t)a=a.next((o=>o?te.resolve(o):r()));return a}static forEach(t,a){const r=[];return t.forEach(((o,c)=>{r.push(a.call(this,o,c))})),this.waitFor(r)}static mapArray(t,a){return new te(((r,o)=>{const c=t.length,d=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;a(t[v]).next((E=>{d[v]=E,++m,m===c&&r(d)}),(E=>o(E)))}}))}static doWhile(t,a){return new te(((r,o)=>{const c=()=>{t()===!0?a().next((()=>{c()}),o):r()};c()}))}}function MA(s){const t=s.match(/Android ([\d.]+)/i),a=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function Jr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,a){this.previousValue=t,a&&(a.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>a.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;function $c(s){return s==null}function Vc(s){return s===0&&1/s==-1/0}function VA(s){return typeof s=="number"&&Number.isInteger(s)&&!Vc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="";function OA(s){let t="";for(let a=0;a<s.length;a++)t.length>0&&(t=J0(t)),t=kA(s.get(a),t);return J0(t)}function kA(s,t){let a=t;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":a+="";break;case j_:a+="";break;default:a+=c}}return a}function J0(s){return s+j_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(s){let t=0;for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&t++;return t}function si(s,t){for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&t(a,s[a])}function M_(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t,a){this.comparator=t,this.root=a||tn.EMPTY}insert(t,a){return new Tt(this.comparator,this.root.insert(t,a,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new Tt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let a=this.root;for(;!a.isEmpty();){const r=this.comparator(t,a.key);if(r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}indexOf(t){let a=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return a+r.left.size;o<0?r=r.left:(a+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((a,r)=>(t(a,r),!1)))}toString(){const t=[];return this.inorderTraversal(((a,r)=>(t.push(`${a}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,a,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=a?r(t.key,a):1,a&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const a={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,a,r,o,c){this.key=t,this.value=a,this.color=r??tn.RED,this.left=o??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,a,r,o,c){return new tn(t??this.key,a??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,a,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,a,r),null):c===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(t,a,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,a){let r,o=this;if(a(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,a)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ae(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(t,a,r,o,c){return this}insert(t,a,r){return new tn(t,a)}remove(t,a){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.comparator=t,this.data=new Tt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((a,r)=>(t(a),!1)))}forEachInRange(t,a){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;a(o.key)}}forEachWhile(t,a){let r;for(r=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const a=this.data.getIteratorFrom(t);return a.hasNext()?a.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(t){return new ev(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let a=this;return a.size<t.size&&(a=t,t=this),t.forEach((r=>{a=a.add(r)})),a}isEqual(t){if(!(t instanceof Gt)||this.size!==t.size)return!1;const a=this.data.getIterator(),r=t.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((a=>{t.push(a)})),t}toString(){const t=[];return this.forEach((a=>t.push(a))),"SortedSet("+t.toString()+")"}copy(t){const a=new Gt(this.comparator);return a.data=t,a}}class ev{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new In([])}unionWith(t){let a=new Gt(nn.comparator);for(const r of this.fields)a=a.add(r);for(const r of t)a=a.add(r);return new In(a.toArray())}covers(t){for(const a of this.fields)if(a.isPrefixOf(t))return!0;return!1}isEqual(t){return Hr(this.fields,t.fields,((a,r)=>a.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const a=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new V_("Invalid base64 string: "+c):c}})(t);return new an(a)}static fromUint8Array(t){const a=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new an(a)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const r=new Uint8Array(a.length);for(let o=0;o<a.length;o++)r[o]=a.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Be(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const zA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(s){if(nt(!!s,39018),typeof s=="string"){let t=0;const a=zA.exec(s);if(nt(!!a,46558,{timestamp:s}),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Dt(s.seconds),nanos:Dt(s.nanos)}}function Dt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Js(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="server_timestamp",k_="__type__",z_="__previous_value__",L_="__local_write_time__";function vm(s){var a,r;return((r=(((a=s==null?void 0:s.mapValue)==null?void 0:a.fields)||{})[k_])==null?void 0:r.stringValue)===O_}function Zc(s){const t=s.mapValue.fields[z_];return vm(t)?Zc(t):t}function _o(s){const t=Zs(s.mapValue.fields[L_].timestampValue);return new vt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,a,r,o,c,d,m,y,v,E){this.databaseId=t,this.appId=a,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=E}}const Oc="(default)";class bo{constructor(t,a){this.projectId=t,this.database=a||Oc}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(t){return t instanceof bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__type__",UA="__max__",fc={mapValue:{}},P_="__vector__",kc="value";function Ws(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vm(s)?4:BA(s)?9007199254740991:PA(s)?10:11:Ae(28295,{value:s})}function ka(s,t){if(s===t)return!0;const a=Ws(s);if(a!==Ws(t))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return _o(s).isEqual(_o(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Zs(o.timestampValue),m=Zs(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return Js(o.bytesValue).isEqual(Js(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return Dt(o.geoPointValue.latitude)===Dt(c.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Dt(o.integerValue)===Dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Dt(o.doubleValue),m=Dt(c.doubleValue);return d===m?Vc(d)===Vc(m):isNaN(d)&&isNaN(m)}return!1})(s,t);case 9:return Hr(s.arrayValue.values||[],t.arrayValue.values||[],ka);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(W0(d)!==W0(m))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(m[y]===void 0||!ka(d[y],m[y])))return!1;return!0})(s,t);default:return Ae(52216,{left:s})}}function Eo(s,t){return(s.values||[]).find((a=>ka(a,t)))!==void 0}function Gr(s,t){if(s===t)return 0;const a=Ws(s),r=Ws(t);if(a!==r)return Be(a,r);switch(a){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const m=Dt(c.integerValue||c.doubleValue),y=Dt(d.integerValue||d.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(s,t);case 3:return tv(s.timestampValue,t.timestampValue);case 4:return tv(_o(s),_o(t));case 5:return zd(s.stringValue,t.stringValue);case 6:return(function(c,d){const m=Js(c),y=Js(d);return m.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const m=c.split("/"),y=d.split("/");for(let v=0;v<m.length&&v<y.length;v++){const E=Be(m[v],y[v]);if(E!==0)return E}return Be(m.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const m=Be(Dt(c.latitude),Dt(d.latitude));return m!==0?m:Be(Dt(c.longitude),Dt(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return nv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){var A,V,Q,q;const m=c.fields||{},y=d.fields||{},v=(A=m[kc])==null?void 0:A.arrayValue,E=(V=y[kc])==null?void 0:V.arrayValue,T=Be(((Q=v==null?void 0:v.values)==null?void 0:Q.length)||0,((q=E==null?void 0:E.values)==null?void 0:q.length)||0);return T!==0?T:nv(v,E)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===fc.mapValue&&d===fc.mapValue)return 0;if(c===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=d.fields||{},E=Object.keys(v);y.sort(),E.sort();for(let T=0;T<y.length&&T<E.length;++T){const A=zd(y[T],E[T]);if(A!==0)return A;const V=Gr(m[y[T]],v[E[T]]);if(V!==0)return V}return Be(y.length,E.length)})(s.mapValue,t.mapValue);default:throw Ae(23264,{he:a})}}function tv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Be(s,t);const a=Zs(s),r=Zs(t),o=Be(a.seconds,r.seconds);return o!==0?o:Be(a.nanos,r.nanos)}function nv(s,t){const a=s.values||[],r=t.values||[];for(let o=0;o<a.length&&o<r.length;++o){const c=Gr(a[o],r[o]);if(c)return c}return Be(a.length,r.length)}function Fr(s){return Ld(s)}function Ld(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(a){const r=Zs(a);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(a){return Js(a).toBase64()})(s.bytesValue):"referenceValue"in s?(function(a){return Ee.fromName(a).toString()})(s.referenceValue):"geoPointValue"in s?(function(a){return`geo(${a.latitude},${a.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(a){let r="[",o=!0;for(const c of a.values||[])o?o=!1:r+=",",r+=Ld(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(a){const r=Object.keys(a.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Ld(a.fields[d])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function Tc(s){switch(Ws(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zc(s);return t?16+Tc(t):16;case 5:return 2*s.stringValue.length;case 6:return Js(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Tc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return si(r.fields,((c,d)=>{o+=c.length+Tc(d)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function av(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Ud(s){return!!s&&"integerValue"in s}function _m(s){return!!s&&"arrayValue"in s}function sv(s){return!!s&&"nullValue"in s}function iv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Sc(s){return!!s&&"mapValue"in s}function PA(s){var a,r;return((r=(((a=s==null?void 0:s.mapValue)==null?void 0:a.fields)||{})[U_])==null?void 0:r.stringValue)===P_}function co(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return si(s.mapValue.fields,((a,r)=>t.mapValue.fields[a]=co(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let a=0;a<(s.arrayValue.values||[]).length;++a)t.arrayValue.values[a]=co(s.arrayValue.values[a]);return t}return{...s}}function BA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let a=this.value;for(let r=0;r<t.length-1;++r)if(a=(a.mapValue.fields||{})[t.get(r)],!Sc(a))return null;return a=(a.mapValue.fields||{})[t.lastSegment()],a||null}}set(t,a){this.getFieldsMap(t.popLast())[t.lastSegment()]=co(a)}setAll(t){let a=nn.emptyPath(),r={},o=[];t.forEach(((d,m)=>{if(!a.isImmediateParentOf(m)){const y=this.getFieldsMap(a);this.applyChanges(y,r,o),r={},o=[],a=m.popLast()}d?r[m.lastSegment()]=co(d):o.push(m.lastSegment())}));const c=this.getFieldsMap(a);this.applyChanges(c,r,o)}delete(t){const a=this.field(t.popLast());Sc(a)&&a.mapValue.fields&&delete a.mapValue.fields[t.lastSegment()]}isEqual(t){return ka(this.value,t.value)}getFieldsMap(t){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=a.mapValue.fields[t.get(r)];Sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[t.get(r)]=o),a=o}return a.mapValue.fields}applyChanges(t,a,r){si(a,((o,c)=>t[o]=c));for(const o of r)delete t[o]}clone(){return new En(co(this.value))}}function B_(s){const t=[];return si(s.fields,((a,r)=>{const o=new nn([a]);if(Sc(r)){const c=B_(r.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,a,r,o,c,d,m){this.key=t,this.documentType=a,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new on(t,0,Re.min(),Re.min(),Re.min(),En.empty(),0)}static newFoundDocument(t,a,r,o){return new on(t,1,a,Re.min(),r,o,0)}static newNoDocument(t,a){return new on(t,2,a,Re.min(),Re.min(),En.empty(),0)}static newUnknownDocument(t,a){return new on(t,3,a,Re.min(),Re.min(),En.empty(),2)}convertToFoundDocument(t,a){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,a){this.position=t,this.inclusive=a}}function rv(s,t,a){let r=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(d.referenceValue),a.key):r=Gr(d,a.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function lv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let a=0;a<s.position.length;a++)if(!ka(s.position[a],t.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,a="asc"){this.field=t,this.dir=a}}function qA(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{}class Pt extends q_{constructor(t,a,r){super(),this.field=t,this.op=a,this.value=r}static create(t,a,r){return t.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(t,a,r):new GA(t,a,r):a==="array-contains"?new YA(t,r):a==="in"?new KA(t,r):a==="not-in"?new XA(t,r):a==="array-contains-any"?new $A(t,r):new Pt(t,a,r)}static createKeyFieldInFilter(t,a,r){return a==="in"?new FA(t,r):new QA(t,r)}matches(t){const a=t.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Gr(a,this.value)):a!==null&&Ws(this.value)===Ws(a)&&this.matchesComparison(Gr(a,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class la extends q_{constructor(t,a){super(),this.filters=t,this.op=a,this.Pe=null}static create(t,a){return new la(t,a)}matches(t){return H_(this)?this.filters.find((a=>!a.matches(t)))===void 0:this.filters.find((a=>a.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,a)=>t.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H_(s){return s.op==="and"}function G_(s){return HA(s)&&H_(s)}function HA(s){for(const t of s.filters)if(t instanceof la)return!1;return!0}function Pd(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+Fr(s.value);if(G_(s))return s.filters.map((t=>Pd(t))).join(",");{const t=s.filters.map((a=>Pd(a))).join(",");return`${s.op}(${t})`}}function F_(s,t){return s instanceof Pt?(function(r,o){return o instanceof Pt&&r.op===o.op&&r.field.isEqual(o.field)&&ka(r.value,o.value)})(s,t):s instanceof la?(function(r,o){return o instanceof la&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,m)=>c&&F_(d,o.filters[m])),!0):!1})(s,t):void Ae(19439)}function Q_(s){return s instanceof Pt?(function(a){return`${a.field.canonicalString()} ${a.op} ${Fr(a.value)}`})(s):s instanceof la?(function(a){return a.op.toString()+" {"+a.getFilters().map(Q_).join(" ,")+"}"})(s):"Filter"}class GA extends Pt{constructor(t,a,r){super(t,a,r),this.key=Ee.fromName(r.referenceValue)}matches(t){const a=Ee.comparator(t.key,this.key);return this.matchesComparison(a)}}class FA extends Pt{constructor(t,a){super(t,"in",a),this.keys=Y_("in",a)}matches(t){return this.keys.some((a=>a.isEqual(t.key)))}}class QA extends Pt{constructor(t,a){super(t,"not-in",a),this.keys=Y_("not-in",a)}matches(t){return!this.keys.some((a=>a.isEqual(t.key)))}}function Y_(s,t){var a;return(((a=t.arrayValue)==null?void 0:a.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class YA extends Pt{constructor(t,a){super(t,"array-contains",a)}matches(t){const a=t.data.field(this.field);return _m(a)&&Eo(a.arrayValue,this.value)}}class KA extends Pt{constructor(t,a){super(t,"in",a)}matches(t){const a=t.data.field(this.field);return a!==null&&Eo(this.value.arrayValue,a)}}class XA extends Pt{constructor(t,a){super(t,"not-in",a)}matches(t){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=t.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Eo(this.value.arrayValue,a)}}class $A extends Pt{constructor(t,a){super(t,"array-contains-any",a)}matches(t){const a=t.data.field(this.field);return!(!_m(a)||!a.arrayValue.values)&&a.arrayValue.values.some((r=>Eo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t,a=null,r=[],o=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=a,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function ov(s,t=null,a=[],r=[],o=null,c=null,d=null){return new ZA(s,t,a,r,o,c,d)}function bm(s){const t=De(s);if(t.Te===null){let a=t.path.canonicalString();t.collectionGroup!==null&&(a+="|cg:"+t.collectionGroup),a+="|f:",a+=t.filters.map((r=>Pd(r))).join(","),a+="|ob:",a+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),$c(t.limit)||(a+="|l:",a+=t.limit),t.startAt&&(a+="|lb:",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((r=>Fr(r))).join(",")),t.endAt&&(a+="|ub:",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((r=>Fr(r))).join(",")),t.Te=a}return t.Te}function Em(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let a=0;a<s.orderBy.length;a++)if(!qA(s.orderBy[a],t.orderBy[a]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let a=0;a<s.filters.length;a++)if(!F_(s.filters[a],t.filters[a]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!lv(s.startAt,t.startAt)&&lv(s.endAt,t.endAt)}function Bd(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,a=null,r=[],o=[],c=null,d="F",m=null,y=null){this.path=t,this.collectionGroup=a,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JA(s,t,a,r,o,c,d,m){return new Ro(s,t,a,r,o,c,d,m)}function K_(s){return new Ro(s)}function uv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function X_(s){return s.collectionGroup!==null}function ho(s){const t=De(s);if(t.Ie===null){t.Ie=[];const a=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),a.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Gt(nn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(t).forEach((c=>{a.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Lc(c,r))})),a.has(nn.keyField().canonicalString())||t.Ie.push(new Lc(nn.keyField(),r))}return t.Ie}function ja(s){const t=De(s);return t.Ee||(t.Ee=WA(t,ho(s))),t.Ee}function WA(s,t){if(s.limitType==="F")return ov(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Lc(o.field,c)}));const a=s.endAt?new zc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new zc(s.startAt.position,s.startAt.inclusive):null;return ov(s.path,s.collectionGroup,t,s.filters,s.limit,a,r)}}function qd(s,t){const a=s.filters.concat([t]);return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),a,s.limit,s.limitType,s.startAt,s.endAt)}function Hd(s,t,a){return new Ro(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,a,s.startAt,s.endAt)}function Jc(s,t){return Em(ja(s),ja(t))&&s.limitType===t.limitType}function $_(s){return`${bm(ja(s))}|lt:${s.limitType}`}function Vr(s){return`Query(target=${(function(a){let r=a.path.canonicalString();return a.collectionGroup!==null&&(r+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(r+=`, filters: [${a.filters.map((o=>Q_(o))).join(", ")}]`),$c(a.limit)||(r+=", limit: "+a.limit),a.orderBy.length>0&&(r+=`, orderBy: [${a.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),a.startAt&&(r+=", startAt: ",r+=a.startAt.inclusive?"b:":"a:",r+=a.startAt.position.map((o=>Fr(o))).join(",")),a.endAt&&(r+=", endAt: ",r+=a.endAt.inclusive?"a:":"b:",r+=a.endAt.position.map((o=>Fr(o))).join(",")),`Target(${r})`})(ja(s))}; limitType=${s.limitType})`}function Wc(s,t){return t.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,o){for(const c of ho(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(d,m,y){const v=rv(d,m,y);return d.inclusive?v<=0:v<0})(r.startAt,ho(r),o)||r.endAt&&!(function(d,m,y){const v=rv(d,m,y);return d.inclusive?v>=0:v>0})(r.endAt,ho(r),o))})(s,t)}function ew(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Z_(s){return(t,a)=>{let r=!1;for(const o of ho(s)){const c=tw(o,t,a);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function tw(s,t,a){const r=s.field.isKeyField()?Ee.comparator(t.key,a.key):(function(c,d,m){const y=d.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Gr(y,v):Ae(42886)})(s.field,t,a);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,a){this.mapKeyFn=t,this.equalsFn=a,this.inner={},this.innerSize=0}get(t){const a=this.mapKeyFn(t),r=this.inner[a];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,a){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,a]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,a]);o.push([t,a]),this.innerSize++}delete(t){const a=this.mapKeyFn(t),r=this.inner[a];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[a]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){si(this.inner,((a,r)=>{for(const[o,c]of r)t(o,c)}))}isEmpty(){return M_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Tt(Ee.comparator);function hs(){return nw}const J_=new Tt(Ee.comparator);function ro(...s){let t=J_;for(const a of s)t=t.insert(a.key,a);return t}function W_(s){let t=J_;return s.forEach(((a,r)=>t=t.insert(a,r.overlayedDocument))),t}function zi(){return fo()}function e1(){return fo()}function fo(){return new qi((s=>s.toString()),((s,t)=>s.isEqual(t)))}const aw=new Tt(Ee.comparator),sw=new Gt(Ee.comparator);function qe(...s){let t=sw;for(const a of s)t=t.add(a);return t}const iw=new Gt(Be);function rw(){return iw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(t)?"-0":t}}function t1(s){return{integerValue:""+s}}function lw(s,t){return VA(t)?t1(t):xm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function ow(s,t,a){return s instanceof Uc?(function(o,c){const d={fields:{[k_]:{stringValue:O_},[L_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&vm(c)&&(c=Zc(c)),c&&(d.fields[z_]=c),{mapValue:d}})(a,t):s instanceof xo?a1(s,t):s instanceof To?s1(s,t):(function(o,c){const d=n1(o,c),m=cv(d)+cv(o.Ae);return Ud(d)&&Ud(o.Ae)?t1(m):xm(o.serializer,m)})(s,t)}function uw(s,t,a){return s instanceof xo?a1(s,t):s instanceof To?s1(s,t):a}function n1(s,t){return s instanceof Pc?(function(r){return Ud(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Uc extends eh{}class xo extends eh{constructor(t){super(),this.elements=t}}function a1(s,t){const a=i1(t);for(const r of s.elements)a.some((o=>ka(o,r)))||a.push(r);return{arrayValue:{values:a}}}class To extends eh{constructor(t){super(),this.elements=t}}function s1(s,t){let a=i1(t);for(const r of s.elements)a=a.filter((o=>!ka(o,r)));return{arrayValue:{values:a}}}class Pc extends eh{constructor(t,a){super(),this.serializer=t,this.Ae=a}}function cv(s){return Dt(s.integerValue||s.doubleValue)}function i1(s){return _m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function cw(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof xo&&o instanceof xo||r instanceof To&&o instanceof To?Hr(r.elements,o.elements,ka):r instanceof Pc&&o instanceof Pc?ka(r.Ae,o.Ae):r instanceof Uc&&o instanceof Uc})(s.transform,t.transform)}class hw{constructor(t,a){this.version=t,this.transformResults=a}}class ra{constructor(t,a){this.updateTime=t,this.exists=a}static none(){return new ra}static exists(t){return new ra(void 0,t)}static updateTime(t){return new ra(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class th{}function r1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Tm(s.key,ra.none()):new Co(s.key,s.data,ra.none());{const a=s.data,r=En.empty();let o=new Gt(nn.comparator);for(let c of t.fields)if(!o.has(c)){let d=a.field(c);d===null&&c.length>1&&(c=c.popLast(),d=a.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new ii(s.key,r,new In(o.toArray()),ra.none())}}function fw(s,t,a){s instanceof Co?(function(o,c,d){const m=o.value.clone(),y=fv(o.fieldTransforms,c,d.transformResults);m.setAll(y),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,t,a):s instanceof ii?(function(o,c,d){if(!Ac(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=fv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(l1(o)),y.setAll(m),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,a):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,a)}function mo(s,t,a,r){return s instanceof Co?(function(c,d,m,y){if(!Ac(c.precondition,d))return m;const v=c.value.clone(),E=dv(c.fieldTransforms,y,d);return v.setAll(E),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,t,a,r):s instanceof ii?(function(c,d,m,y){if(!Ac(c.precondition,d))return m;const v=dv(c.fieldTransforms,y,d),E=d.data;return E.setAll(l1(c)),E.setAll(v),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(s,t,a,r):(function(c,d,m){return Ac(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(s,t,a)}function dw(s,t){let a=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),c=n1(r.transform,o||null);c!=null&&(a===null&&(a=En.empty()),a.set(r.field,c))}return a||null}function hv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Hr(r,o,((c,d)=>cw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Co extends th{constructor(t,a,r,o=[]){super(),this.key=t,this.value=a,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ii extends th{constructor(t,a,r,o,c=[]){super(),this.key=t,this.data=a,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function l1(s){const t=new Map;return s.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const r=s.data.field(a);t.set(a,r)}})),t}function fv(s,t,a){const r=new Map;nt(s.length===a.length,32656,{Re:a.length,Ve:s.length});for(let o=0;o<a.length;o++){const c=s[o],d=c.transform,m=t.data.field(c.field);r.set(c.field,uw(d,m,a[o]))}return r}function dv(s,t,a){const r=new Map;for(const o of s){const c=o.transform,d=a.data.field(o.field);r.set(o.field,ow(c,d,t))}return r}class Tm extends th{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mw extends th{constructor(t,a){super(),this.key=t,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,a,r,o){this.batchId=t,this.localWriteTime=a,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,a){const r=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&fw(c,t,r[o])}}applyToLocalView(t,a){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(a=mo(r,t,a,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(a=mo(r,t,a,this.localWriteTime));return a}applyToLocalDocumentSet(t,a){const r=e1();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=a.has(o.key)?null:m;const y=r1(d,m);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((t,a)=>t.add(a.key)),qe())}isEqual(t){return this.batchId===t.batchId&&Hr(this.mutations,t.mutations,((a,r)=>hv(a,r)))&&Hr(this.baseMutations,t.baseMutations,((a,r)=>hv(a,r)))}}class Sm{constructor(t,a,r,o){this.batch=t,this.commitVersion=a,this.mutationResults=r,this.docVersions=o}static from(t,a,r){nt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return aw})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Sm(t,a,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,a){this.largestBatchId=t,this.mutation=a}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,a){this.count=t,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ye;function vw(s){switch(s){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function o1(s){if(s===void 0)return cs("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Ut.OK:return ee.OK;case Ut.CANCELLED:return ee.CANCELLED;case Ut.UNKNOWN:return ee.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ee.INTERNAL;case Ut.UNAVAILABLE:return ee.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ee.NOT_FOUND;case Ut.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ut.ABORTED:return ee.ABORTED;case Ut.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ut.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:s})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Ys([4294967295,4294967295],0);function mv(s){const t=_w().encode(s),a=new x_;return a.update(t),new Uint8Array(a.digest())}function gv(s){const t=new DataView(s.buffer),a=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([a,r],0),new Ys([o,c],0)]}class Am{constructor(t,a,r){if(this.bitmap=t,this.padding=a,this.hashCount=r,a<0||a>=8)throw new lo(`Invalid padding: ${a}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(t.length===0&&a!==0)throw new lo(`Invalid padding when bitmap length is 0: ${a}`);this.ge=8*t.length-a,this.pe=Ys.fromNumber(this.ge)}ye(t,a,r){let o=t.add(a.multiply(Ys.fromNumber(r)));return o.compare(bw)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const a=mv(t),[r,o]=gv(a);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(t,a,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Am(c,o,a);return r.forEach((m=>d.insert(m))),d}insert(t){if(this.ge===0)return;const a=mv(t),[r,o]=gv(a);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(t){const a=Math.floor(t/8),r=t%8;this.bitmap[a]|=1<<r}}class lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,a,r,o,c){this.snapshotVersion=t,this.targetChanges=a,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,a,r){const o=new Map;return o.set(t,Do.createSynthesizedTargetChangeForCurrentChange(t,a,r)),new nh(Re.min(),o,new Tt(Be),hs(),qe())}}class Do{constructor(t,a,r,o,c){this.resumeToken=t,this.current=a,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,a,r){return new Do(r,a,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,a,r,o){this.be=t,this.removedTargetIds=a,this.key=r,this.De=o}}class u1{constructor(t,a){this.targetId=t,this.Ce=a}}class c1{constructor(t,a,r=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=a,this.resumeToken=r,this.cause=o}}class pv{constructor(){this.ve=0,this.Fe=yv(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qe(),a=qe(),r=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:a=a.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:c})}})),new Do(this.Me,this.xe,t,a,r)}qe(){this.Oe=!1,this.Fe=yv()}Qe(t,a){this.Oe=!0,this.Fe=this.Fe.insert(t,a)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ew{constructor(t){this.Ge=t,this.ze=new Map,this.je=hs(),this.Je=dc(),this.He=dc(),this.Ye=new Tt(Be)}Ze(t){for(const a of t.be)t.De&&t.De.isFoundDocument()?this.Xe(a,t.De):this.et(a,t.key,t.De);for(const a of t.removedTargetIds)this.et(a,t.key,t.De)}tt(t){this.forEachTarget(t,(a=>{const r=this.nt(a);switch(t.state){case 0:this.rt(a)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(a);break;case 3:this.rt(a)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(a)&&(this.it(a),r.Le(t.resumeToken));break;default:Ae(56790,{state:t.state})}}))}forEachTarget(t,a){t.targetIds.length>0?t.targetIds.forEach(a):this.ze.forEach(((r,o)=>{this.rt(o)&&a(o)}))}st(t){const a=t.targetId,r=t.Ce.count,o=this.ot(a);if(o){const c=o.target;if(Bd(c))if(r===0){const d=new Ee(c.path);this.et(a,d,on.newNoDocument(d,Re.min()))}else nt(r===1,20013,{expectedCount:r});else{const d=this._t(a);if(d!==r){const m=this.ut(t),y=m?this.ct(m,t,d):1;if(y!==0){this.it(a);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(a,v)}}}}}ut(t){const a=t.Ce.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=a;let d,m;try{d=Js(r).toUint8Array()}catch(y){if(y instanceof V_)return qr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Am(d,o,c)}catch(y){return qr(y instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(t,a,r){return a.Ce.count===r-this.Pt(t,a.targetId)?0:2}Pt(t,a){const r=this.Ge.getRemoteKeysForTarget(a);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.et(a,c,null),o++)})),o}Tt(t){const a=new Map;this.ze.forEach(((c,d)=>{const m=this.ot(d);if(m){if(c.current&&Bd(m.target)){const y=new Ee(m.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,on.newNoDocument(y,t))}c.Be&&(a.set(d,c.ke()),c.qe())}}));let r=qe();this.He.forEach(((c,d)=>{let m=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new nh(t,a,this.Ye,this.je,r);return this.je=hs(),this.Je=dc(),this.He=dc(),this.Ye=new Tt(Be),o}Xe(t,a){if(!this.rt(t))return;const r=this.Et(t,a.key)?2:0;this.nt(t).Qe(a.key,r),this.je=this.je.insert(a.key,a),this.Je=this.Je.insert(a.key,this.It(a.key).add(t)),this.He=this.He.insert(a.key,this.dt(a.key).add(t))}et(t,a,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,a)?o.Qe(a,1):o.$e(a),this.He=this.He.insert(a,this.dt(a).delete(t)),this.He=this.He.insert(a,this.dt(a).add(t)),r&&(this.je=this.je.insert(a,r))}removeTarget(t){this.ze.delete(t)}_t(t){const a=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+a.addedDocuments.size-a.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let a=this.ze.get(t);return a||(a=new pv,this.ze.set(t,a)),a}dt(t){let a=this.He.get(t);return a||(a=new Gt(Be),this.He=this.He.insert(t,a)),a}It(t){let a=this.Je.get(t);return a||(a=new Gt(Be),this.Je=this.Je.insert(t,a)),a}rt(t){const a=this.ot(t)!==null;return a||fe("WatchChangeAggregator","Detected inactive target",t),a}ot(t){const a=this.ze.get(t);return a&&a.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pv),this.Ge.getRemoteKeysForTarget(t).forEach((a=>{this.et(t,a,null)}))}Et(t,a){return this.Ge.getRemoteKeysForTarget(t).has(a)}}function dc(){return new Tt(Ee.comparator)}function yv(){return new Tt(Ee.comparator)}const xw={asc:"ASCENDING",desc:"DESCENDING"},Tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sw={and:"AND",or:"OR"};class Aw{constructor(t,a){this.databaseId=t,this.useProto3Json=a}}function Gd(s,t){return s.useProto3Json||$c(t)?t:{value:t}}function Bc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function h1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function ww(s,t){return Bc(s,t.toTimestamp())}function Ma(s){return nt(!!s,49232),Re.fromTimestamp((function(a){const r=Zs(a);return new vt(r.seconds,r.nanos)})(s))}function wm(s,t){return Fd(s,t).canonicalString()}function Fd(s,t){const a=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?a:a.child(t)}function f1(s){const t=mt.fromString(s);return nt(y1(t),10190,{key:t.toString()}),t}function Qd(s,t){return wm(s.databaseId,t.path)}function Ed(s,t){const a=f1(t);if(a.get(1)!==s.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+s.databaseId.projectId);if(a.get(3)!==s.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+s.databaseId.database);return new Ee(m1(a))}function d1(s,t){return wm(s.databaseId,t)}function Nw(s){const t=f1(s);return t.length===4?mt.emptyPath():m1(t)}function Yd(s){return new mt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function m1(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function vv(s,t,a){return{name:Qd(s,t),fields:a.value.mapValue.fields}}function Rw(s,t){let a;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ae(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,E){return v.useProto3Json?(nt(E===void 0||typeof E=="string",58123),an.fromBase64String(E||"")):(nt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),an.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&(function(v){const E=v.code===void 0?ee.UNKNOWN:o1(v.code);return new he(E,v.message||"")})(d);a=new c1(r,o,c,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ed(s,r.document.name),c=Ma(r.document.updateTime),d=r.document.createTime?Ma(r.document.createTime):Re.min(),m=new En({mapValue:{fields:r.document.fields}}),y=on.newFoundDocument(o,c,d,m),v=r.targetIds||[],E=r.removedTargetIds||[];a=new wc(v,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Ed(s,r.document),c=r.readTime?Ma(r.readTime):Re.min(),d=on.newNoDocument(o,c),m=r.removedTargetIds||[];a=new wc([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Ed(s,r.document),c=r.removedTargetIds||[];a=new wc([],c,o,null)}else{if(!("filter"in t))return Ae(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new yw(o,c),m=r.targetId;a=new u1(m,d)}}return a}function Cw(s,t){let a;if(t instanceof Co)a={update:vv(s,t.key,t.value)};else if(t instanceof Tm)a={delete:Qd(s,t.key)};else if(t instanceof ii)a={update:vv(s,t.key,t.data),updateMask:Lw(t.fieldMask)};else{if(!(t instanceof mw))return Ae(16599,{Vt:t.type});a={verify:Qd(s,t.key)}}return t.fieldTransforms.length>0&&(a.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const m=d.transform;if(m instanceof Uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Pc)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(a.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:ww(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,t.precondition)),a}function Dw(s,t){return s&&s.length>0?(nt(t!==void 0,14353),s.map((a=>(function(o,c){let d=o.updateTime?Ma(o.updateTime):Ma(c);return d.isEqual(Re.min())&&(d=Ma(c)),new hw(d,o.transformResults||[])})(a,t)))):[]}function Iw(s,t){return{documents:[d1(s,t.path)]}}function jw(s,t){const a={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,a.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),a.structuredQuery.from=[{collectionId:r.lastSegment()}]),a.parent=d1(s,o);const c=(function(v){if(v.length!==0)return p1(la.create(v,"and"))})(t.filters);c&&(a.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((E=>(function(A){return{field:Or(A.field),direction:Ow(A.dir)}})(E)))})(t.orderBy);d&&(a.structuredQuery.orderBy=d);const m=Gd(s,t.limit);return m!==null&&(a.structuredQuery.limit=m),t.startAt&&(a.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(a.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:a,parent:o}}function Mw(s){let t=Nw(s.parent);const a=s.structuredQuery,r=a.from?a.from.length:0;let o=null;if(r>0){nt(r===1,65062);const E=a.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];a.where&&(c=(function(T){const A=g1(T);return A instanceof la&&G_(A)?A.getFilters():[A]})(a.where));let d=[];a.orderBy&&(d=(function(T){return T.map((A=>(function(Q){return new Lc(kr(Q.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(A)))})(a.orderBy));let m=null;a.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,$c(A)?null:A})(a.limit));let y=null;a.startAt&&(y=(function(T){const A=!!T.before,V=T.values||[];return new zc(V,A)})(a.startAt));let v=null;return a.endAt&&(v=(function(T){const A=!T.before,V=T.values||[];return new zc(V,A)})(a.endAt)),JA(t,o,d,c,m,"F",y,v)}function Vw(s,t){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(t.purpose);return a==null?null:{"goog-listen-tags":a}}function g1(s){return s.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const r=kr(a.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=kr(a.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=kr(a.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=kr(a.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(a){return Pt.create(kr(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(a){return la.create(a.compositeFilter.filters.map((r=>g1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(a.compositeFilter.op))})(s):Ae(30097,{filter:s})}function Ow(s){return xw[s]}function kw(s){return Tw[s]}function zw(s){return Sw[s]}function Or(s){return{fieldPath:s.canonicalString()}}function kr(s){return nn.fromServerFormat(s.fieldPath)}function p1(s){return s instanceof Pt?(function(a){if(a.op==="=="){if(iv(a.value))return{unaryFilter:{field:Or(a.field),op:"IS_NAN"}};if(sv(a.value))return{unaryFilter:{field:Or(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(iv(a.value))return{unaryFilter:{field:Or(a.field),op:"IS_NOT_NAN"}};if(sv(a.value))return{unaryFilter:{field:Or(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Or(a.field),op:kw(a.op),value:a.value}}})(s):s instanceof la?(function(a){const r=a.getFilters().map((o=>p1(o)));return r.length===1?r[0]:{compositeFilter:{op:zw(a.op),filters:r}}})(s):Ae(54877,{filter:s})}function Lw(s){const t=[];return s.fields.forEach((a=>t.push(a.canonicalString()))),{fieldPaths:t}}function y1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,a,r,o,c=Re.min(),d=Re.min(),m=an.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=a,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,a){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.yt=t}}function Pw(s){const t=Mw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Cn=new qw}addToCollectionParentIndex(t,a){return this.Cn.add(a),te.resolve()}getCollectionParents(t,a){return te.resolve(this.Cn.getEntries(a))}addFieldIndex(t,a){return te.resolve()}deleteFieldIndex(t,a){return te.resolve()}deleteAllFieldIndexes(t){return te.resolve()}createTargetIndexes(t,a){return te.resolve()}getDocumentsMatchingTarget(t,a){return te.resolve(null)}getIndexType(t,a){return te.resolve(0)}getFieldIndexes(t,a){return te.resolve([])}getNextCollectionGroupToUpdate(t){return te.resolve(null)}getMinOffset(t,a){return te.resolve($s.min())}getMinOffsetFromCollectionGroup(t,a){return te.resolve($s.min())}updateCollectionGroup(t,a,r){return te.resolve()}updateIndexEntries(t,a){return te.resolve()}}class qw{constructor(){this.index={}}add(t){const a=t.lastSegment(),r=t.popLast(),o=this.index[a]||new Gt(mt.comparator),c=!o.has(r);return this.index[a]=o.add(r),c}has(t){const a=t.lastSegment(),r=t.popLast(),o=this.index[a];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Gt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v1=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,a,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(v1,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Qr(0)}static cr(){return new Qr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LruGarbageCollector",Hw=1048576;function Ev([s,t],[a,r]){const o=Be(s,a);return o===0?Be(t,r):o}class Gw{constructor(t){this.Ir=t,this.buffer=new Gt(Ev),this.Er=0}dr(){return++this.Er}Ar(t){const a=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const r=this.buffer.last();Ev(a,r)<0&&(this.buffer=this.buffer.delete(r).add(a))}}get maxValue(){return this.buffer.last()[0]}}class Fw{constructor(t,a,r){this.garbageCollector=t,this.asyncQueue=a,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){fe(bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){Jr(a)?fe(bv,"Ignoring IndexedDB error during garbage collection: ",a):await Zr(a)}await this.Vr(3e5)}))}}class Qw{constructor(t,a){this.mr=t,this.params=a}calculateTargetCount(t,a){return this.mr.gr(t).next((r=>Math.floor(a/100*r)))}nthSequenceNumber(t,a){if(a===0)return te.resolve(Xc.ce);const r=new Gw(a);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,a,r){return this.mr.removeTargets(t,a,r)}removeOrphanedDocuments(t,a){return this.mr.removeOrphanedDocuments(t,a)}collect(t,a){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(_v)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.yr(t,a)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,a){let r,o,c,d,m,y,v;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,d=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,a)))).next((T=>(c=T,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(v=Date.now(),Mr()<=Ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${T} documents in `+(v-y)+`ms
Total Duration: ${v-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function Yw(s,t){return new Qw(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.changes=new qi((t=>t.toString()),((t,a)=>t.isEqual(a))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,a){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(a))}getEntry(t,a){this.assertNotApplied();const r=this.changes.get(a);return r!==void 0?te.resolve(r):this.getFromCache(t,a)}getEntries(t,a){return this.getAllFromCache(t,a)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,a){this.overlayedDocument=t,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,a,r,o){this.remoteDocumentCache=t,this.mutationQueue=a,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,a){let r=null;return this.documentOverlayCache.getOverlay(t,a).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,a)))).next((o=>(r!==null&&mo(r.mutation,o,In.empty(),vt.now()),o)))}getDocuments(t,a){return this.remoteDocumentCache.getEntries(t,a).next((r=>this.getLocalViewOfDocuments(t,r,qe()).next((()=>r))))}getLocalViewOfDocuments(t,a,r=qe()){const o=zi();return this.populateOverlays(t,o,a).next((()=>this.computeViews(t,a,o,r).next((c=>{let d=ro();return c.forEach(((m,y)=>{d=d.insert(m,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,a){const r=zi();return this.populateOverlays(t,r,a).next((()=>this.computeViews(t,a,r,qe())))}populateOverlays(t,a,r){const o=[];return r.forEach((c=>{a.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,m)=>{a.set(d,m)}))}))}computeViews(t,a,r,o){let c=hs();const d=fo(),m=(function(){return fo()})();return a.forEach(((y,v)=>{const E=r.get(v.key);o.has(v.key)&&(E===void 0||E.mutation instanceof ii)?c=c.insert(v.key,v):E!==void 0?(d.set(v.key,E.mutation.getFieldMask()),mo(E.mutation,v,E.mutation.getFieldMask(),vt.now())):d.set(v.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,E)=>d.set(v,E))),a.forEach(((v,E)=>m.set(v,new Xw(E,d.get(v)??null)))),m)))}recalculateAndSaveOverlays(t,a){const r=fo();let o=new Tt(((d,m)=>d-m)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,a).next((d=>{for(const m of d)m.keys().forEach((y=>{const v=a.get(y);if(v===null)return;let E=r.get(y)||In.empty();E=m.applyToLocalView(v,E),r.set(y,E);const T=(o.get(m.batchId)||qe()).add(y);o=o.insert(m.batchId,T)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,E=y.value,T=e1();E.forEach((A=>{if(!c.has(A)){const V=r1(a.get(A),r.get(A));V!==null&&T.set(A,V),c=c.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,T))}return te.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,a){return this.remoteDocumentCache.getEntries(t,a).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,a,r,o){return(function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(t,a.path):X_(a)?this.getDocumentsMatchingCollectionGroupQuery(t,a,r,o):this.getDocumentsMatchingCollectionQuery(t,a,r,o)}getNextDocuments(t,a,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,a,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,a,r.largestBatchId,o-c.size):te.resolve(zi());let m=vo,y=c;return d.next((v=>te.forEach(v,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(E)?te.resolve():this.remoteDocumentCache.getEntry(t,E).next((A=>{y=y.insert(E,A)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,qe()))).next((E=>({batchId:m,changes:W_(E)})))))}))}getDocumentsMatchingDocumentQuery(t,a){return this.getDocument(t,new Ee(a)).next((r=>{let o=ro();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,a,r,o){const c=a.collectionGroup;let d=ro();return this.indexManager.getCollectionParents(t,c).next((m=>te.forEach(m,(y=>{const v=(function(T,A){return new Ro(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(a,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,r,o).next((E=>{E.forEach(((T,A)=>{d=d.insert(T,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,a,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,a.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,a,r,c,o)))).next((d=>{c.forEach(((y,v)=>{const E=v.getKey();d.get(E)===null&&(d=d.insert(E,on.newInvalidDocument(E)))}));let m=ro();return d.forEach(((y,v)=>{const E=c.get(y);E!==void 0&&mo(E.mutation,v,In.empty(),vt.now()),Wc(a,v)&&(m=m.insert(y,v))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,a){return te.resolve(this.Lr.get(a))}saveBundleMetadata(t,a){return this.Lr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:Ma(o.createTime)}})(a)),te.resolve()}getNamedQuery(t,a){return te.resolve(this.kr.get(a))}saveNamedQuery(t,a){return this.kr.set(a.name,(function(o){return{name:o.name,query:Pw(o.bundledQuery),readTime:Ma(o.readTime)}})(a)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.overlays=new Tt(Ee.comparator),this.qr=new Map}getOverlay(t,a){return te.resolve(this.overlays.get(a))}getOverlays(t,a){const r=zi();return te.forEach(a,(o=>this.getOverlay(t,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(t,a,r){return r.forEach(((o,c)=>{this.St(t,a,c)})),te.resolve()}removeOverlaysForBatchId(t,a,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(t,a,r){const o=zi(),c=a.length+1,d=new Ee(a.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!a.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return te.resolve(o)}getOverlaysForCollectionGroup(t,a,r,o){let c=new Tt(((v,E)=>v-E));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===a&&v.largestBatchId>r){let E=c.get(v.largestBatchId);E===null&&(E=zi(),c=c.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=zi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,E)=>m.set(v,E))),!(m.size()>=o)););return te.resolve(m)}St(t,a,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new pw(a,r));let c=this.qr.get(a);c===void 0&&(c=qe(),this.qr.set(a,c)),this.qr.set(a,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return te.resolve(this.sessionToken)}setSessionToken(t,a){return this.sessionToken=a,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.Qr=new Gt(Kt.$r),this.Ur=new Gt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,a){const r=new Kt(t,a);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,a){t.forEach((r=>this.addReference(r,a)))}removeReference(t,a){this.Gr(new Kt(t,a))}zr(t,a){t.forEach((r=>this.removeReference(r,a)))}jr(t){const a=new Ee(new mt([])),r=new Kt(a,t),o=new Kt(a,t+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const a=new Ee(new mt([])),r=new Kt(a,t),o=new Kt(a,t+1);let c=qe();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const a=new Kt(t,0),r=this.Qr.firstAfterOrEqual(a);return r!==null&&t.isEqual(r.key)}}class Kt{constructor(t,a){this.key=t,this.Yr=a}static $r(t,a){return Ee.comparator(t.key,a.key)||Be(t.Yr,a.Yr)}static Kr(t,a){return Be(t.Yr,a.Yr)||Ee.comparator(t.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t,a){this.indexManager=t,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Kt.$r)}checkEmpty(t){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(t,a,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gw(c,a,r,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new Kt(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return te.resolve(d)}lookupMutationBatch(t,a){return te.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(t,a){const r=a+1,o=this.ei(r),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?ym:this.tr-1)}getAllMutationBatches(t){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,a){const r=new Kt(a,0),o=new Kt(a,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const m=this.Xr(d.Yr);c.push(m)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,a){let r=new Gt(Be);return a.forEach((o=>{const c=new Kt(o,0),d=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(m=>{r=r.add(m.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,a){const r=a.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new Ee(c),0);let m=new Gt(Be);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===o&&(m=m.add(y.Yr)),!0)}),d),te.resolve(this.ti(m))}ti(t){const a=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&a.push(o)})),a}removeMutationBatch(t,a){nt(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(a.mutations,(o=>{const c=new Kt(o.key,a.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,a){const r=new Kt(a,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,te.resolve()}ni(t,a){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const a=this.ei(t);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.ri=t,this.docs=(function(){return new Tt(Ee.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,a){const r=a.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(a);return this.docs=this.docs.insert(r,{document:a.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const a=this.docs.get(t);a&&(this.docs=this.docs.remove(t),this.size-=a.size)}getEntry(t,a){const r=this.docs.get(a);return te.resolve(r?r.document.mutableCopy():on.newInvalidDocument(a))}getEntries(t,a){let r=hs();return a.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(t,a,r,o){let c=hs();const d=a.path,m=new Ee(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:E}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||DA(CA(E),r)<=0||(o.has(E.key)||Wc(a,E))&&(c=c.insert(E.key,E.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(t,a,r,o){Ae(9500)}ii(t,a){return te.forEach(this.docs,(r=>a(r)))}newChangeBuffer(t){return new nN(this)}getSize(t){return te.resolve(this.size)}}class nN extends Kw{constructor(t){super(),this.Nr=t}applyChanges(t){const a=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?a.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),te.waitFor(a)}getFromCache(t,a){return this.Nr.getEntry(t,a)}getAllFromCache(t,a){return this.Nr.getEntries(t,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){this.persistence=t,this.si=new qi((a=>bm(a)),Em),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Nm,this.targetCount=0,this.ai=Qr.ur()}forEachTarget(t,a){return this.si.forEach(((r,o)=>a(o))),te.resolve()}getLastRemoteSnapshotVersion(t){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return te.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(t,a,r){return r&&(this.lastRemoteSnapshotVersion=r),a>this.oi&&(this.oi=a),te.resolve()}Pr(t){this.si.set(t.target,t);const a=t.targetId;a>this.highestTargetId&&(this.ai=new Qr(a),this.highestTargetId=a),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,a){return this.Pr(a),this.targetCount+=1,te.resolve()}updateTargetData(t,a){return this.Pr(a),te.resolve()}removeTargetData(t,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,te.resolve()}removeTargets(t,a,r){let o=0;const c=[];return this.si.forEach(((d,m)=>{m.sequenceNumber<=a&&r.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(t){return te.resolve(this.targetCount)}getTargetData(t,a){const r=this.si.get(a)||null;return te.resolve(r)}addMatchingKeys(t,a,r){return this._i.Wr(a,r),te.resolve()}removeMatchingKeys(t,a,r){this._i.zr(a,r);const o=this.persistence.referenceDelegate,c=[];return o&&a.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),te.waitFor(c)}removeMatchingKeysForTargetId(t,a){return this._i.jr(a),te.resolve()}getMatchingKeysForTargetId(t,a){const r=this._i.Hr(a);return te.resolve(r)}containsKey(t,a){return te.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,a){this.ui={},this.overlays={},this.ci=new Xc(0),this.li=!1,this.li=!0,this.hi=new Ww,this.referenceDelegate=t(this),this.Pi=new aN(this),this.indexManager=new Bw,this.remoteDocumentCache=(function(o){return new tN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Uw(a),this.Ii=new Zw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let a=this.overlays[t.toKey()];return a||(a=new Jw,this.overlays[t.toKey()]=a),a}getMutationQueue(t,a){let r=this.ui[t.toKey()];return r||(r=new eN(a,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,a,r){fe("MemoryPersistence","Starting transaction:",t);const o=new sN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,a){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,a))))}}class sN extends jA{constructor(t){super(),this.currentSequenceNumber=t}}class Rm{constructor(t){this.persistence=t,this.Ri=new Nm,this.Vi=null}static mi(t){return new Rm(t)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(t,a,r){return this.Ri.addReference(r,a),this.fi.delete(r.toString()),te.resolve()}removeReference(t,a,r){return this.Ri.removeReference(r,a),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(t,a){return this.fi.add(a.toString()),te.resolve()}removeTarget(t,a){this.Ri.jr(a.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,a.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,a)))}Ei(){this.Vi=new Set}di(t){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(t,o).next((c=>{c||a.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,a.apply(t))))}updateLimboDocument(t,a){return this.gi(t,a).next((r=>{r?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(t){return 0}gi(t,a){return te.or([()=>te.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(t,a),()=>this.persistence.Ai(t,a)])}}class qc{constructor(t,a){this.persistence=t,this.pi=new qi((r=>OA(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Yw(this,a)}static mi(t,a){return new qc(t,a)}Ei(){}di(t){return te.resolve()}forEachTarget(t,a){return this.persistence.getTargetCache().forEachTarget(t,a)}gr(t){const a=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>a.next((o=>r+o))))}wr(t){let a=0;return this.pr(t,(r=>{a++})).next((()=>a))}pr(t,a){return te.forEach(this.pi,((r,o)=>this.br(t,r,o).next((c=>c?te.resolve():a(o)))))}removeTargets(t,a,r){return this.persistence.getTargetCache().removeTargets(t,a,r)}removeOrphanedDocuments(t,a){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,a).next((m=>{m||(r++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,a){return this.pi.set(a,t.currentSequenceNumber),te.resolve()}removeTarget(t,a){const r=a.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,a,r){return this.pi.set(r,t.currentSequenceNumber),te.resolve()}removeReference(t,a,r){return this.pi.set(r,t.currentSequenceNumber),te.resolve()}updateLimboDocument(t,a){return this.pi.set(a,t.currentSequenceNumber),te.resolve()}Ti(t){let a=t.key.toString().length;return t.isFoundDocument()&&(a+=Tc(t.data.value)),a}br(t,a,r){return te.or([()=>this.persistence.Ai(t,a),()=>this.persistence.getTargetCache().containsKey(t,a),()=>{const o=this.pi.get(a);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,a,r,o){this.targetId=t,this.fromCache=a,this.Es=r,this.ds=o}static As(t,a){let r=qe(),o=qe();for(const c of a.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Cm(t,a.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZT()?8:MA(XT())>0?6:4})()}initialize(t,a){this.ps=t,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(t,a,r,o){const c={result:null};return this.ys(t,a).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,a,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new iN;return this.Ss(t,a,d).next((m=>{if(c.result=m,this.Vs)return this.bs(t,a,d,m.size)}))})).next((()=>c.result))}bs(t,a,r,o){return r.documentReadCount<this.fs?(Mr()<=Ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Vr(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Mr()<=Ke.DEBUG&&fe("QueryEngine","Query:",Vr(a),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Mr()<=Ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Vr(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ja(a))):te.resolve())}ys(t,a){if(uv(a))return te.resolve(null);let r=ja(a);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=Hd(a,null,"F"),r=ja(a)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=qe(...c);return this.ps.getDocuments(t,d).next((m=>this.indexManager.getMinOffset(t,r).next((y=>{const v=this.Ds(a,m);return this.Cs(a,v,d,y.readTime)?this.ys(t,Hd(a,null,"F")):this.vs(t,v,a,y)}))))})))))}ws(t,a,r,o){return uv(a)||o.isEqual(Re.min())?te.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(a,c);return this.Cs(a,d,r,o)?te.resolve(null):(Mr()<=Ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vr(a)),this.vs(t,d,a,RA(o,vo)).next((m=>m)))}))}Ds(t,a){let r=new Gt(Z_(t));return a.forEach(((o,c)=>{Wc(t,c)&&(r=r.add(c))})),r}Cs(t,a,r,o){if(t.limit===null)return!1;if(r.size!==a.size)return!0;const c=t.limitType==="F"?a.last():a.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,a,r){return Mr()<=Ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Vr(a)),this.ps.getDocumentsMatchingQuery(t,a,$s.min(),r)}vs(t,a,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((c=>(a.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LocalStore",lN=3e8;class oN{constructor(t,a,r,o){this.persistence=t,this.Fs=a,this.serializer=o,this.Ms=new Tt(Be),this.xs=new qi((c=>bm(c)),Em),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $w(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>t.collect(a,this.Ms)))}}function uN(s,t,a,r){return new oN(s,t,a,r)}async function b1(s,t){const a=De(s);return await a.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return a.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,a.Bs(t),a.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],m=[];let y=qe();for(const v of o){d.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}for(const v of c){m.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}return a.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:m})))}))}))}function cN(s,t){const a=De(s);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),c=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,v,E){const T=v.batch,A=T.keys();let V=te.resolve();return A.forEach((Q=>{V=V.next((()=>E.getEntry(y,Q))).next((q=>{const G=v.docVersions.get(Q);nt(G!==null,48541),q.version.compareTo(G)<0&&(T.applyToRemoteDocument(q,v),q.isValidDocument()&&(q.setReadTime(v.commitVersion),E.addEntry(q)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(y,T)))})(a,r,t,c).next((()=>c.apply(r))).next((()=>a.mutationQueue.performConsistencyCheck(r))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=qe();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y})(t)))).next((()=>a.localDocuments.getDocuments(r,o)))}))}function E1(s){const t=De(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>t.Pi.getLastRemoteSnapshotVersion(a)))}function hN(s,t){const a=De(s),r=t.snapshotVersion;let o=a.Ms;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=a.Ns.newChangeBuffer({trackRemovals:!0});o=a.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(a.Pi.removeMatchingKeys(c,E.removedDocuments,T).next((()=>a.Pi.addMatchingKeys(c,E.addedDocuments,T))));let V=A.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(T)!==null?V=V.withResumeToken(an.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,r)),o=o.insert(T,V),(function(q,G,ne){return q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=lN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,V,E)&&m.push(a.Pi.updateTargetData(c,V))}));let y=hs(),v=qe();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(a.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(fN(c,d,t.documentUpdates).next((E=>{y=E.ks,v=E.qs}))),!r.isEqual(Re.min())){const E=a.Pi.getLastRemoteSnapshotVersion(c).next((T=>a.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return te.waitFor(m).next((()=>d.apply(c))).next((()=>a.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(a.Ms=o,c)))}function fN(s,t,a){let r=qe(),o=qe();return a.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=hs();return a.forEach(((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Re.min())?(t.removeEntry(m,y.readTime),d=d.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(m,y)):fe(Dm,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function dN(s,t){const a=De(s);return a.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ym),a.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function mN(s,t){const a=De(s);return a.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return a.Pi.getTargetData(r,t).next((c=>c?(o=c,te.resolve(o)):a.Pi.allocateTargetId(r).next((d=>(o=new Gs(t,d,"TargetPurposeListen",r.currentSequenceNumber),a.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=a.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.Ms=a.Ms.insert(r.targetId,r),a.xs.set(t,r.targetId)),r}))}async function Kd(s,t,a){const r=De(s),o=r.Ms.get(t),c=a?"readwrite":"readwrite-primary";try{a||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Jr(d))throw d;fe(Dm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function xv(s,t,a){const r=De(s);let o=Re.min(),c=qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,E){const T=De(y),A=T.xs.get(E);return A!==void 0?te.resolve(T.Ms.get(A)):T.Pi.getTargetData(v,E)})(r,d,ja(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,m.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,a?o:Re.min(),a?c:qe()))).next((m=>(gN(r,ew(t),m),{documents:m,Qs:c})))))}function gN(s,t,a){let r=s.Os.get(t)||Re.min();a.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class Tv{constructor(){this.activeTargetIds=rw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pN{constructor(){this.Mo=new Tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,a,r){}addLocalQueryTarget(t,a=!0){return a&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,a,r){this.xo[t]=a}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Tv,Promise.resolve()}handleUserChange(t,a,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Sv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){fe(Sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Xd(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="RestConnection",vN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _N{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const a=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Oc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,a,r,o,c){const d=Xd(),m=this.zo(t,a.toUriEncodedString());fe(xd,`Sending RPC '${t}' ${d}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:v}=new URL(m),E=dm(v);return this.Jo(t,m,y,r,E).then((T=>(fe(xd,`Received RPC '${t}' ${d}: `,T),T)),(T=>{throw qr(xd,`RPC '${t}' ${d} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(t,a,r,o,c,d){return this.Go(t,a,r,o,c)}jo(t,a,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$r})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((o,c)=>t[c]=o)),r&&r.headers.forEach(((o,c)=>t[c]=o))}zo(t,a){const r=vN[t];return`${this.Uo}/v1/${a}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class EN extends _N{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,a,r,o,c){const d=Xd();return new Promise(((m,y)=>{const v=new T_;v.setWithCredentials(!0),v.listenOnce(S_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case xc.NO_ERROR:const T=v.getResponseJson();fe(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(T)),m(T);break;case xc.TIMEOUT:fe(rn,`RPC '${t}' ${d} timed out`),y(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const A=v.getStatus();if(fe(rn,`RPC '${t}' ${d} failed with status:`,A,"response text:",v.getResponseText()),A>0){let V=v.getResponseJson();Array.isArray(V)&&(V=V[0]);const Q=V==null?void 0:V.error;if(Q&&Q.status&&Q.message){const q=(function(ne){const le=ne.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(le)>=0?le:ee.UNKNOWN})(Q.status);y(new he(q,Q.message))}else y(new he(ee.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{fe(rn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(o);fe(rn,`RPC '${t}' ${d} sending request:`,o),v.send(a,"POST",E,r,15)}))}T_(t,a,r){const o=Xd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=N_(),m=w_(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,a,r),y.encodeInitMessageHeaders=!0;const E=c.join("");fe(rn,`Creating RPC '${t}' stream ${o}: ${E}`,y);const T=d.createWebChannel(E,y);this.I_(T);let A=!1,V=!1;const Q=new bN({Yo:G=>{V?fe(rn,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(A||(fe(rn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),fe(rn,`RPC '${t}' stream ${o} sending:`,G),T.send(G))},Zo:()=>T.close()}),q=(G,ne,le)=>{G.listen(ne,(ae=>{try{le(ae)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return q(T,io.EventType.OPEN,(()=>{V||(fe(rn,`RPC '${t}' stream ${o} transport opened.`),Q.o_())})),q(T,io.EventType.CLOSE,(()=>{V||(V=!0,fe(rn,`RPC '${t}' stream ${o} transport closed`),Q.a_(),this.E_(T))})),q(T,io.EventType.ERROR,(G=>{V||(V=!0,qr(rn,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Q.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),q(T,io.EventType.MESSAGE,(G=>{var ne;if(!V){const le=G.data[0];nt(!!le,16349);const ae=le,ve=(ae==null?void 0:ae.error)||((ne=ae[0])==null?void 0:ne.error);if(ve){fe(rn,`RPC '${t}' stream ${o} received error:`,ve);const we=ve.status;let Se=(function(N){const j=Ut[N];if(j!==void 0)return o1(j)})(we),C=ve.message;Se===void 0&&(Se=ee.INTERNAL,C="Unknown error status: "+we+" with message "+ve.message),V=!0,Q.a_(new he(Se,C)),T.close()}else fe(rn,`RPC '${t}' stream ${o} received:`,le),Q.u_(le)}})),q(m,A_.STAT_EVENT,(G=>{G.stat===kd.PROXY?fe(rn,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===kd.NOPROXY&&fe(rn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((a=>a===t))}}function Td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(s){return new Aw(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,a,r=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=a,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const a=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,a-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class T1{constructor(t,a,r,o,c,d,m,y){this.Mi=t,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x1(t,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():a&&a.code===ee.RESOURCE_EXHAUSTED?(cs(a.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(a)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===a&&this.G_(r,o)}),(r=>{t((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,a){const r=this.W_(this.D_);this.stream=this.j_(t,a),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return fe(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return a=>{this.Mi.enqueueAndForget((()=>this.D_===t?a():(fe(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xN extends T1{constructor(t,a,r,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,r,o,d),this.serializer=c}j_(t,a){return this.connection.T_("Listen",t,a)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const a=Rw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Ma(d.readTime):Re.min()})(t);return this.listener.H_(a,r)}Y_(t){const a={};a.database=Yd(this.serializer),a.addTarget=(function(c,d){let m;const y=d.target;if(m=Bd(y)?{documents:Iw(c,y)}:{query:jw(c,y).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=h1(c,d.resumeToken);const v=Gd(c,d.expectedCount);v!==null&&(m.expectedCount=v)}else if(d.snapshotVersion.compareTo(Re.min())>0){m.readTime=Bc(c,d.snapshotVersion.toTimestamp());const v=Gd(c,d.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,t);const r=Vw(this.serializer,t);r&&(a.labels=r),this.q_(a)}Z_(t){const a={};a.database=Yd(this.serializer),a.removeTarget=t,this.q_(a)}}class TN extends T1{constructor(t,a,r,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,a){return this.connection.T_("Write",t,a)}J_(t){return nt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,nt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){nt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const a=Dw(t.writeResults,t.commitTime),r=Ma(t.commitTime);return this.listener.na(r,a)}ra(){const t={};t.database=Yd(this.serializer),this.q_(t)}ea(t){const a={streamToken:this.lastStreamToken,writes:t.map((r=>Cw(this.serializer,r)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{}class AN extends SN{constructor(t,a,r,o){super(),this.authCredentials=t,this.appCheckCredentials=a,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,a,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Fd(a,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}Ho(t,a,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Ho(t,Fd(a,r),o,d,m,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wN{constructor(t,a){this.asyncQueue=t,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const a=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(a),this.aa=!1):fe("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="RemoteStore";class NN{constructor(t,a,r,o,c){this.localStore=t,this.datastore=a,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Hi(this)&&(fe(Pi,"Restarting streams for network reachability change."),await(async function(y){const v=De(y);v.Ea.add(4),await Io(v),v.Ra.set("Unknown"),v.Ea.delete(4),await sh(v)})(this))}))})),this.Ra=new wN(r,o)}}async function sh(s){if(Hi(s))for(const t of s.da)await t(!0)}async function Io(s){for(const t of s.da)await t(!1)}function S1(s,t){const a=De(s);a.Ia.has(t.targetId)||(a.Ia.set(t.targetId,t),Vm(a)?Mm(a):Wr(a).O_()&&jm(a,t))}function Im(s,t){const a=De(s),r=Wr(a);a.Ia.delete(t),r.O_()&&A1(a,t),a.Ia.size===0&&(r.O_()?r.L_():Hi(a)&&a.Ra.set("Unknown"))}function jm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Re.min())>0){const a=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(a)}Wr(s).Y_(t)}function A1(s,t){s.Va.Ue(t),Wr(s).Z_(t)}function Mm(s){s.Va=new Ew({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Wr(s).start(),s.Ra.ua()}function Vm(s){return Hi(s)&&!Wr(s).x_()&&s.Ia.size>0}function Hi(s){return De(s).Ea.size===0}function w1(s){s.Va=void 0}async function RN(s){s.Ra.set("Online")}async function CN(s){s.Ia.forEach(((t,a)=>{jm(s,t)}))}async function DN(s,t){w1(s),Vm(s)?(s.Ra.ha(t),Mm(s)):s.Ra.set("Unknown")}async function IN(s,t,a){if(s.Ra.set("Online"),t instanceof c1&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))})(s,t)}catch(r){fe(Pi,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Hc(s,r)}else if(t instanceof wc?s.Va.Ze(t):t instanceof u1?s.Va.st(t):s.Va.tt(t),!a.isEqual(Re.min()))try{const r=await E1(s.localStore);a.compareTo(r)>=0&&await(function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(v);E&&c.Ia.set(v,E.withResumeToken(y.resumeToken,d))}})),m.targetMismatches.forEach(((y,v)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),A1(c,y);const T=new Gs(E.target,y,v,E.sequenceNumber);jm(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(s,a)}catch(r){fe(Pi,"Failed to raise snapshot:",r),await Hc(s,r)}}async function Hc(s,t,a){if(!Jr(t))throw t;s.Ea.add(1),await Io(s),s.Ra.set("Offline"),a||(a=()=>E1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(Pi,"Retrying IndexedDB access"),await a(),s.Ea.delete(1),await sh(s)}))}function N1(s,t){return t().catch((a=>Hc(s,a,t)))}async function ih(s){const t=De(s),a=ei(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ym;for(;jN(t);)try{const o=await dN(t.localStore,r);if(o===null){t.Ta.length===0&&a.L_();break}r=o.batchId,MN(t,o)}catch(o){await Hc(t,o)}R1(t)&&C1(t)}function jN(s){return Hi(s)&&s.Ta.length<10}function MN(s,t){s.Ta.push(t);const a=ei(s);a.O_()&&a.X_&&a.ea(t.mutations)}function R1(s){return Hi(s)&&!ei(s).x_()&&s.Ta.length>0}function C1(s){ei(s).start()}async function VN(s){ei(s).ra()}async function ON(s){const t=ei(s);for(const a of s.Ta)t.ea(a.mutations)}async function kN(s,t,a){const r=s.Ta.shift(),o=Sm.from(r,t,a);await N1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await ih(s)}async function zN(s,t){t&&ei(s).X_&&await(async function(r,o){if((function(d){return vw(d)&&d!==ee.ABORTED})(o.code)){const c=r.Ta.shift();ei(r).B_(),await N1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ih(r)}})(s,t),R1(s)&&C1(s)}async function Nv(s,t){const a=De(s);a.asyncQueue.verifyOperationInProgress(),fe(Pi,"RemoteStore received new credentials");const r=Hi(a);a.Ea.add(3),await Io(a),r&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(t),a.Ea.delete(3),await sh(a)}async function LN(s,t){const a=De(s);t?(a.Ea.delete(2),await sh(a)):t||(a.Ea.add(2),await Io(a),a.Ra.set("Unknown"))}function Wr(s){return s.ma||(s.ma=(function(a,r,o){const c=De(a);return c.sa(),new xN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:RN.bind(null,s),t_:CN.bind(null,s),r_:DN.bind(null,s),H_:IN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Vm(s)?Mm(s):s.Ra.set("Unknown")):(await s.ma.stop(),w1(s))}))),s.ma}function ei(s){return s.fa||(s.fa=(function(a,r,o){const c=De(a);return c.sa(),new TN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VN.bind(null,s),r_:zN.bind(null,s),ta:ON.bind(null,s),na:kN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await ih(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(Pi,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,a,r,o,c){this.asyncQueue=t,this.timerId=a,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,a,r,o,c){const d=Date.now()+r,m=new Om(t,a,d,o,c);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(s,t){if(cs("AsyncQueue",`${t}: ${s}`),Jr(s))return new he(ee.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{static emptySet(t){return new Ur(t.comparator)}constructor(t){this.comparator=t?(a,r)=>t(a,r)||Ee.comparator(a.key,r.key):(a,r)=>Ee.comparator(a.key,r.key),this.keyedMap=ro(),this.sortedSet=new Tt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const a=this.keyedMap.get(t);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((a,r)=>(t(a),!1)))}add(t){const a=this.delete(t.key);return a.copy(a.keyedMap.insert(t.key,t),a.sortedSet.insert(t,null))}delete(t){const a=this.get(t);return a?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(a)):this}isEqual(t){if(!(t instanceof Ur)||this.size!==t.size)return!1;const a=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((a=>{t.push(a.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,a){const r=new Ur;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=a,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.ga=new Tt(Ee.comparator)}track(t){const a=t.doc.key,r=this.ga.get(a);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(a,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(a,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(a,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(a):t.type===1&&r.type===2?this.ga=this.ga.insert(a,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(a,{type:2,doc:t.doc}):Ae(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(a,t)}ya(){const t=[];return this.ga.inorderTraversal(((a,r)=>{t.push(r)})),t}}class Yr{constructor(t,a,r,o,c,d,m,y,v){this.query=t,this.docs=a,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,a,r,o,c){const d=[];return a.forEach((m=>{d.push({type:0,doc:m})})),new Yr(t,a,Ur.emptySet(a),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const a=this.docChanges,r=t.docChanges;if(a.length!==r.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==r[o].type||!a[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class PN{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,r){const o=De(a),c=o.queries;o.queries=Cv(),c.forEach(((d,m)=>{for(const y of m.Sa)y.onError(r)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function Cv(){return new qi((s=>$_(s)),Jc)}async function BN(s,t){const a=De(s);let r=3;const o=t.query;let c=a.queries.get(o);c?!c.ba()&&t.Da()&&(r=2):(c=new UN,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await a.onListen(o,!0);break;case 1:c.wa=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(d){const m=km(d,`Initialization of query '${Vr(t.query)}' failed`);return void t.onError(m)}a.queries.set(o,c),c.Sa.push(t),t.va(a.onlineState),c.wa&&t.Fa(c.wa)&&zm(a)}async function qN(s,t){const a=De(s),r=t.query;let o=3;const c=a.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return a.queries.delete(r),a.onUnlisten(r,!0);case 1:return a.queries.delete(r),a.onUnlisten(r,!1);case 2:return a.onLastRemoteStoreUnlisten(r);default:return}}function HN(s,t){const a=De(s);let r=!1;for(const o of t){const c=o.query,d=a.queries.get(c);if(d){for(const m of d.Sa)m.Fa(o)&&(r=!0);d.wa=o}}r&&zm(a)}function GN(s,t,a){const r=De(s),o=r.queries.get(t);if(o)for(const c of o.Sa)c.onError(a);r.queries.delete(t)}function zm(s){s.Ca.forEach((t=>{t.next()}))}var $d,Dv;(Dv=$d||($d={})).Ma="default",Dv.Cache="cache";class FN{constructor(t,a,r){this.query=t,this.xa=a,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Yr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let a=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),a=!0):this.La(t,this.onlineState)&&(this.ka(t),a=!0),this.Na=t,a}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let a=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),a=!0),a}La(t,a){if(!t.fromCache||!this.Da())return!0;const r=a!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||a==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const a=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}ka(t){t=Yr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==$d.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.key=t}}class I1{constructor(t){this.key=t}}class QN{constructor(t,a){this.query=t,this.Ya=a,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Z_(t),this.tu=new Ur(this.eu)}get nu(){return this.Ya}ru(t,a){const r=a?a.iu:new Rv,o=a?a.tu:this.tu;let c=a?a.mutatedKeys:this.mutatedKeys,d=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const A=o.get(E),V=Wc(this.query,T)?T:null,Q=!!A&&this.mutatedKeys.has(A.key),q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let G=!1;A&&V?A.data.isEqual(V.data)?Q!==q&&(r.track({type:3,doc:V}),G=!0):this.su(A,V)||(r.track({type:2,doc:V}),G=!0,(y&&this.eu(V,y)>0||v&&this.eu(V,v)<0)&&(m=!0)):!A&&V?(r.track({type:0,doc:V}),G=!0):A&&!V&&(r.track({type:1,doc:A}),G=!0,(y||v)&&(m=!0)),G&&(V?(d=d.add(V),c=q?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:m,mutatedKeys:c}}su(t,a){return t.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(t,a,r,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,T)=>(function(V,Q){const q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:G})}};return q(V)-q(Q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const m=a&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new Yr(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((a=>this.Ya=this.Ya.add(a))),t.modifiedDocuments.forEach((a=>{})),t.removedDocuments.forEach((a=>this.Ya=this.Ya.delete(a))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const a=[];return t.forEach((r=>{this.Xa.has(r)||a.push(new I1(r))})),this.Xa.forEach((r=>{t.has(r)||a.push(new D1(r))})),a}cu(t){this.Ya=t.Qs,this.Xa=qe();const a=this.ru(t.documents);return this.applyChanges(a,!0)}lu(){return Yr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lm="SyncEngine";class YN{constructor(t,a,r){this.query=t,this.targetId=a,this.view=r}}class KN{constructor(t){this.key=t,this.hu=!1}}class XN{constructor(t,a,r,o,c,d){this.localStore=t,this.remoteStore=a,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qi((m=>$_(m)),Jc),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Ee.comparator),this.Au=new Map,this.Ru=new Nm,this.Vu={},this.mu=new Map,this.fu=Qr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $N(s,t,a=!0){const r=z1(s);let o;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await j1(r,t,a,!0),o}async function ZN(s,t){const a=z1(s);await j1(a,t,!0,!1)}async function j1(s,t,a,r){const o=await mN(s.localStore,ja(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,a);let m;return r&&(m=await JN(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&a&&S1(s.remoteStore,o),m}async function JN(s,t,a,r,o){s.pu=(T,A,V)=>(async function(q,G,ne,le){let ae=G.view.ru(ne);ae.Cs&&(ae=await xv(q.localStore,G.query,!1).then((({documents:C})=>G.view.ru(C,ae))));const ve=le&&le.targetChanges.get(G.targetId),we=le&&le.targetMismatches.get(G.targetId)!=null,Se=G.view.applyChanges(ae,q.isPrimaryClient,ve,we);return jv(q,G.targetId,Se.au),Se.snapshot})(s,T,A,V);const c=await xv(s.localStore,t,!0),d=new QN(t,c.Qs),m=d.ru(c.documents),y=Do.createSynthesizedTargetChangeForCurrentChange(a,r&&s.onlineState!=="Offline",o),v=d.applyChanges(m,s.isPrimaryClient,y);jv(s,a,v.au);const E=new YN(t,a,d);return s.Tu.set(t,E),s.Iu.has(a)?s.Iu.get(a).push(t):s.Iu.set(a,[t]),v.snapshot}async function WN(s,t,a){const r=De(s),o=r.Tu.get(t),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Jc(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Kd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),a&&Im(r.remoteStore,o.targetId),Zd(r,o.targetId)})).catch(Zr)):(Zd(r,o.targetId),await Kd(r.localStore,o.targetId,!0))}async function e4(s,t){const a=De(s),r=a.Tu.get(t),o=a.Iu.get(r.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(r.targetId),Im(a.remoteStore,r.targetId))}async function t4(s,t,a){const r=o4(s);try{const o=await(function(d,m){const y=De(d),v=vt.now(),E=m.reduce(((V,Q)=>V.add(Q.key)),qe());let T,A;return y.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let Q=hs(),q=qe();return y.Ns.getEntries(V,E).next((G=>{Q=G,Q.forEach(((ne,le)=>{le.isValidDocument()||(q=q.add(ne))}))})).next((()=>y.localDocuments.getOverlayedDocuments(V,Q))).next((G=>{T=G;const ne=[];for(const le of m){const ae=dw(le,T.get(le.key).overlayedDocument);ae!=null&&ne.push(new ii(le.key,ae,B_(ae.value.mapValue),ra.exists(!0)))}return y.mutationQueue.addMutationBatch(V,v,ne,m)})).next((G=>{A=G;const ne=G.applyToLocalDocumentSet(T,q);return y.documentOverlayCache.saveOverlays(V,G.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:W_(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(d,m,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new Tt(Be)),v=v.insert(m,y),d.Vu[d.currentUser.toKey()]=v})(r,o.batchId,a),await jo(r,o.changes),await ih(r.remoteStore)}catch(o){const c=km(o,"Failed to persist write");a.reject(c)}}async function M1(s,t){const a=De(s);try{const r=await hN(a.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=a.Au.get(c);d&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?nt(d.hu,14607):o.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await jo(a,r,t)}catch(r){await Zr(r)}}function Iv(s,t,a){const r=De(s);if(r.isPrimaryClient&&a===0||!r.isPrimaryClient&&a===1){const o=[];r.Tu.forEach(((c,d)=>{const m=d.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const y=De(d);y.onlineState=m;let v=!1;y.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(v=!0)})),v&&zm(y)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function n4(s,t,a){const r=De(s);r.sharedClientState.updateQueryState(t,"rejected",a);const o=r.Au.get(t),c=o&&o.key;if(c){let d=new Tt(Ee.comparator);d=d.insert(c,on.newNoDocument(c,Re.min()));const m=qe().add(c),y=new nh(Re.min(),new Map,new Tt(Be),d,m);await M1(r,y),r.du=r.du.remove(c),r.Au.delete(t),Um(r)}else await Kd(r.localStore,t,!1).then((()=>Zd(r,t,a))).catch(Zr)}async function a4(s,t){const a=De(s),r=t.batch.batchId;try{const o=await cN(a.localStore,t);O1(a,r,null),V1(a,r),a.sharedClientState.updateMutationState(r,"acknowledged"),await jo(a,o)}catch(o){await Zr(o)}}async function s4(s,t,a){const r=De(s);try{const o=await(function(d,m){const y=De(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return y.mutationQueue.lookupMutationBatch(v,m).next((T=>(nt(T!==null,37113),E=T.keys(),y.mutationQueue.removeMutationBatch(v,T)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>y.localDocuments.getDocuments(v,E)))}))})(r.localStore,t);O1(r,t,a),V1(r,t),r.sharedClientState.updateMutationState(t,"rejected",a),await jo(r,o)}catch(o){await Zr(o)}}function V1(s,t){(s.mu.get(t)||[]).forEach((a=>{a.resolve()})),s.mu.delete(t)}function O1(s,t,a){const r=De(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(a?c.reject(a):c.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Zd(s,t,a=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),a&&s.Pu.yu(r,a);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||k1(s,r)}))}function k1(s,t){s.Eu.delete(t.path.canonicalString());const a=s.du.get(t);a!==null&&(Im(s.remoteStore,a),s.du=s.du.remove(t),s.Au.delete(a),Um(s))}function jv(s,t,a){for(const r of a)r instanceof D1?(s.Ru.addReference(r.key,t),i4(s,r)):r instanceof I1?(fe(Lm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||k1(s,r.key)):Ae(19791,{wu:r})}function i4(s,t){const a=t.key,r=a.path.canonicalString();s.du.get(a)||s.Eu.has(r)||(fe(Lm,"New document in limbo: "+a),s.Eu.add(r),Um(s))}function Um(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const a=new Ee(mt.fromString(t)),r=s.fu.next();s.Au.set(r,new KN(a)),s.du=s.du.insert(a,r),S1(s.remoteStore,new Gs(ja(K_(a.path)),r,"TargetPurposeLimboResolution",Xc.ce))}}async function jo(s,t,a){const r=De(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{d.push(r.pu(y,t,a).then((v=>{var E;if((v||a)&&r.isPrimaryClient){const T=v?!v.fromCache:(E=a==null?void 0:a.targetChanges.get(y.targetId))==null?void 0:E.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(v){o.push(v);const T=Cm.As(y.targetId,v);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(y,v){const E=De(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(v,(A=>te.forEach(A.Es,(V=>E.persistence.referenceDelegate.addReference(T,A.targetId,V))).next((()=>te.forEach(A.ds,(V=>E.persistence.referenceDelegate.removeReference(T,A.targetId,V)))))))))}catch(T){if(!Jr(T))throw T;fe(Dm,"Failed to update sequence numbers: "+T)}for(const T of v){const A=T.targetId;if(!T.fromCache){const V=E.Ms.get(A),Q=V.snapshotVersion,q=V.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(A,q)}}})(r.localStore,c))}async function r4(s,t){const a=De(s);if(!a.currentUser.isEqual(t)){fe(Lm,"User change. New user:",t.toKey());const r=await b1(a.localStore,t);a.currentUser=t,(function(c,d){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new he(ee.CANCELLED,d))}))})),c.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await jo(a,r.Ls)}}function l4(s,t){const a=De(s),r=a.Au.get(t);if(r&&r.hu)return qe().add(r.key);{let o=qe();const c=a.Iu.get(t);if(!c)return o;for(const d of c){const m=a.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function z1(s){const t=De(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=l4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=n4.bind(null,t),t.Pu.H_=HN.bind(null,t.eventManager),t.Pu.yu=GN.bind(null,t.eventManager),t}function o4(s){const t=De(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=s4.bind(null,t),t}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,a){return null}Mu(t,a){return null}vu(t){return uN(this.persistence,new rN,t.initialUser,this.serializer)}Cu(t){return new _1(Rm.mi,this.serializer)}Du(t){return new pN}async terminate(){var t,a;(t=this.gcScheduler)==null||t.stop(),(a=this.indexBackfillerScheduler)==null||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class u4 extends Gc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,a){nt(this.persistence.referenceDelegate instanceof qc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Fw(r,t.asyncQueue,a)}Cu(t){const a=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new _1((r=>qc.mi(r,a)),this.serializer)}}class Jd{async initialize(t,a){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Iv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r4.bind(null,this.syncEngine),await LN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new PN})()}createDatastore(t){const a=ah(t.databaseInfo.databaseId),r=(function(c){return new EN(c)})(t.databaseInfo);return(function(c,d,m,y){return new AN(c,d,m,y)})(t.authCredentials,t.appCheckCredentials,r,a)}createRemoteStore(t){return(function(r,o,c,d,m){return new NN(r,o,c,d,m)})(this.localStore,this.datastore,t.asyncQueue,(a=>Iv(this.syncEngine,a,0)),(function(){return Av.v()?new Av:new yN})())}createSyncEngine(t,a){return(function(o,c,d,m,y,v,E){const T=new XN(o,c,d,m,y,v);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,a)}async terminate(){var t,a;await(async function(o){const c=De(o);fe(Pi,"RemoteStore shutting down."),c.Ea.add(5),await Io(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(a=this.eventManager)==null||a.terminate()}}Jd.provider={build:()=>new Jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,a){setTimeout((()=>{this.muted||t(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="FirestoreClient";class h4{constructor(t,a,r,o,c){this.authCredentials=t,this.appCheckCredentials=a,this.asyncQueue=r,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{fe(ti,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(fe(ti,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(a){const r=km(a,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Sd(s,t){s.asyncQueue.verifyOperationInProgress(),fe(ti,"Initializing OfflineComponentProvider");const a=s.configuration;await t.initialize(a);let r=a.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await b1(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Mv(s,t){s.asyncQueue.verifyOperationInProgress();const a=await f4(s);fe(ti,"Initializing OnlineComponentProvider"),await t.initialize(a,s.configuration),s.setCredentialChangeListener((r=>Nv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>Nv(t.remoteStore,o))),s._onlineComponents=t}async function f4(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(ti,"Using user provided OfflineComponentProvider");try{await Sd(s,s._uninitializedComponentsProvider._offline)}catch(t){const a=t;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;qr("Error using user provided cache. Falling back to memory cache: "+a),await Sd(s,new Gc)}}else fe(ti,"Using default OfflineComponentProvider"),await Sd(s,new u4(void 0));return s._offlineComponents}async function L1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(ti,"Using user provided OnlineComponentProvider"),await Mv(s,s._uninitializedComponentsProvider._online)):(fe(ti,"Using default OnlineComponentProvider"),await Mv(s,new Jd))),s._onlineComponents}function d4(s){return L1(s).then((t=>t.syncEngine))}async function m4(s){const t=await L1(s),a=t.eventManager;return a.onListen=$N.bind(null,t.syncEngine),a.onUnlisten=WN.bind(null,t.syncEngine),a.onFirstRemoteStoreListen=ZN.bind(null,t.syncEngine),a.onLastRemoteStoreUnlisten=e4.bind(null,t.syncEngine),a}function g4(s,t,a={}){const r=new Ks;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,y,v){const E=new c4({next:A=>{E.Nu(),d.enqueueAndForget((()=>qN(c,T))),A.fromCache&&y.source==="server"?v.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),T=new FN(m,E,{includeMetadataChanges:!0,qa:!0});return BN(c,T)})(await m4(s),s.asyncQueue,t,a,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firestore.googleapis.com",Ov=!0;class kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P1,this.ssl=Ov}else this.host=t.host,this.ssl=t.ssl??Ov;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=v1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Hw)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rh{constructor(t,a,r,o){this._authCredentials=t,this._appCheckCredentials=a,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yA;switch(r.type){case"firstParty":return new EA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const r=Vv.get(a);r&&(fe("ComponentProvider","Removing Datastore"),Vv.delete(a),r.terminate())})(this),Promise.resolve()}}function p4(s,t,a,r={}){var v;s=Ui(s,rh);const o=dm(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},m=`${t}:${a}`;o&&(GT(`https://${m}`),KT("Firestore",!0)),c.host!==P1&&c.host!==m&&qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:r};if(!Ic(y,d)&&(s._setSettings(y),r.mockUserToken)){let E,T;if(typeof r.mockUserToken=="string")E=r.mockUserToken,T=ln.MOCK_USER;else{E=FT(r.mockUserToken,(v=s._app)==null?void 0:v.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(A)}s._authCredentials=new vA(new C_(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,a,r){this.converter=a,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new el(this.firestore,t,this._query)}}class Ht{constructor(t,a,r){this.converter=a,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ht(this.firestore,t,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,a,r){if(No(a,Ht._jsonSchema))return new Ht(t,r||null,new Ee(mt.fromString(a.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Bt("string",Ht._jsonSchemaVersion),referencePath:Bt("string")};class Xs extends el{constructor(t,a,r){super(t,a,K_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ht(this.firestore,null,new Ee(t))}withConverter(t){return new Xs(this.firestore,t,this._path)}}function zv(s,t,...a){if(s=os(s),D_("collection","path",t),s instanceof rh){const r=mt.fromString(t,...a);return X0(r),new Xs(s,null,r)}{if(!(s instanceof Ht||s instanceof Xs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(mt.fromString(t,...a));return X0(r),new Xs(s.firestore,null,r)}}function Wd(s,t,...a){if(s=os(s),arguments.length===1&&(t=pm.newId()),D_("doc","path",t),s instanceof rh){const r=mt.fromString(t,...a);return K0(r),new Ht(s,null,new Ee(r))}{if(!(s instanceof Ht||s instanceof Xs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(mt.fromString(t,...a));return K0(r),new Ht(s.firestore,s instanceof Xs?s.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="AsyncQueue";class Uv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x1(this,"async_queue_retry"),this._c=()=>{const r=Td();r&&fe(Lv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const a=Td();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const a=Td();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Jr(t))throw t;fe(Lv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const a=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",Pv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=a,a}enqueueAfterDelay(t,a,r){this.uc(),this.oc.indexOf(t)>-1&&(a=0);const o=Om.createAndSchedule(this,t,a,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const a of this.tc)if(a.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((a,r)=>a.targetTimeMs-r.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),t!=="all"&&a.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const a=this.tc.indexOf(t);this.tc.splice(a,1)}}function Pv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Mo extends rh{constructor(t,a,r,o){super(t,a,r,o),this.type="firestore",this._queue=new Uv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Uv(t),this._firestoreClient=void 0,await t}}}function y4(s,t){const a=typeof s=="object"?s:sA(),r=typeof s=="string"?s:Oc,o=WS(a,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=qT("firestore");c&&p4(o,...c)}return o}function B1(s){if(s._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||v4(s),s._firestoreClient}function v4(s){var r,o,c;const t=s._freezeSettings(),a=(function(m,y,v,E){return new LA(m,y,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,U1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,t);s._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new h4(s._authCredentials,s._appCheckCredentials,s._queue,a,s._componentsProvider&&(function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(an.fromBase64String(t))}catch(a){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(t){return new Qn(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(No(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Bt("string",Qn._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...t){for(let a=0;a<t.length;++a)if(t[a].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,a){if(!isFinite(t)||t<-90||t>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(a)||a<-180||a>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=t,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Be(this._lat,t._lat)||Be(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Va._jsonSchemaVersion}}static fromJSON(t){if(No(t,Va._jsonSchema))return new Va(t.latitude,t.longitude)}}Va._jsonSchemaVersion="firestore/geoPoint/1.0",Va._jsonSchema={type:Bt("string",Va._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t){this._values=(t||[]).map((a=>a))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(No(t,Oa._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((a=>typeof a=="number")))return new Oa(t.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oa._jsonSchemaVersion="firestore/vectorValue/1.0",Oa._jsonSchema={type:Bt("string",Oa._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=/^__.*__$/;class b4{constructor(t,a,r){this.data=t,this.fieldMask=a,this.fieldTransforms=r}toMutation(t,a){return this.fieldMask!==null?new ii(t,this.data,this.fieldMask,a,this.fieldTransforms):new Co(t,this.data,a,this.fieldTransforms)}}class q1{constructor(t,a,r){this.data=t,this.fieldMask=a,this.fieldTransforms=r}toMutation(t,a){return new ii(t,this.data,this.fieldMask,a,this.fieldTransforms)}}function H1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Bm{constructor(t,a,r,o,c,d){this.settings=t,this.databaseId=a,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const a=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:a,fc:!1});return r.gc(t),r}yc(t){var o;const a=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:a,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Fc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((a=>t.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>t.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(H1(this.Ac)&&_4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class E4{constructor(t,a,r){this.databaseId=t,this.ignoreUndefinedProperties=a,this.serializer=r||ah(t)}Cc(t,a,r,o=!1){return new Bm({Ac:t,methodName:a,Dc:r,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qm(s){const t=s._freezeSettings(),a=ah(s._databaseId);return new E4(s._databaseId,!!t.ignoreUndefinedProperties,a)}function x4(s,t,a,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,a,o);Hm("Data must be an object, but it was:",d,r);const m=G1(r,d);let y,v;if(c.merge)y=new In(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const A=em(t,T,a);if(!d.contains(A))throw new he(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Q1(E,A)||E.push(A)}y=new In(E),v=d.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,v=d.fieldTransforms;return new b4(new En(m),y,v)}class oh extends Pm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof oh}}function T4(s,t,a,r){const o=s.Cc(1,t,a);Hm("Data must be an object, but it was:",o,r);const c=[],d=En.empty();si(r,((y,v)=>{const E=Gm(t,y,a);v=os(v);const T=o.yc(E);if(v instanceof oh)c.push(E);else{const A=Vo(v,T);A!=null&&(c.push(E),d.set(E,A))}}));const m=new In(c);return new q1(d,m,o.fieldTransforms)}function S4(s,t,a,r,o,c){const d=s.Cc(1,t,a),m=[em(t,r,a)],y=[o];if(c.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(em(t,c[A])),y.push(c[A+1]);const v=[],E=En.empty();for(let A=m.length-1;A>=0;--A)if(!Q1(v,m[A])){const V=m[A];let Q=y[A];Q=os(Q);const q=d.yc(V);if(Q instanceof oh)v.push(V);else{const G=Vo(Q,q);G!=null&&(v.push(V),E.set(V,G))}}const T=new In(v);return new q1(E,T,d.fieldTransforms)}function A4(s,t,a,r=!1){return Vo(a,s.Cc(r?4:3,t))}function Vo(s,t){if(F1(s=os(s)))return Hm("Unsupported field value:",t,s),G1(s,t);if(s instanceof Pm)return(function(r,o){if(!H1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const m of r){let y=Vo(m,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,o){if((r=os(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=vt.fromDate(r);return{timestampValue:Bc(o.serializer,c)}}if(r instanceof vt){const c=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bc(o.serializer,c)}}if(r instanceof Va)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:h1(o.serializer,r._byteString)};if(r instanceof Ht){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Oa)return(function(d,m){return{mapValue:{fields:{[U_]:{stringValue:P_},[kc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw m.Sc("VectorValues must only contain numeric values.");return xm(m.serializer,v)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Kc(r)}`)})(s,t)}function G1(s,t){const a={};return M_(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):si(s,((r,o)=>{const c=Vo(o,t.mc(r));c!=null&&(a[r]=c)})),{mapValue:{fields:a}}}function F1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof vt||s instanceof Va||s instanceof Qn||s instanceof Ht||s instanceof Pm||s instanceof Oa)}function Hm(s,t,a){if(!F1(a)||!I_(a)){const r=Kc(a);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function em(s,t,a){if((t=os(t))instanceof lh)return t._internalPath;if(typeof t=="string")return Gm(s,t);throw Fc("Field path arguments must be of type string or ",s,!1,void 0,a)}const w4=new RegExp("[~\\*/\\[\\]]");function Gm(s,t,a){if(t.search(w4)>=0)throw Fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,a);try{return new lh(...t.split("."))._internalPath}catch{throw Fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,a)}}function Fc(s,t,a,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${t}() called with invalid data`;a&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new he(ee.INVALID_ARGUMENT,m+s+y)}function Q1(s,t){return s.some((a=>a.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,a,r,o,c){this._firestore=t,this._userDataWriter=a,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const a=this._document.data.field(Fm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a)}}}class N4 extends Y1{data(){return super.data()}}function Fm(s,t){return typeof t=="string"?Gm(s,t):t instanceof lh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qm{}class C4 extends Qm{}function D4(s,t,...a){let r=[];t instanceof Qm&&r.push(t),r=r.concat(a),(function(c){const d=c.filter((y=>y instanceof Ym)).length,m=c.filter((y=>y instanceof uh)).length;if(d>1||d>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class uh extends C4{constructor(t,a,r){super(),this._field=t,this._op=a,this._value=r,this.type="where"}static _create(t,a,r){return new uh(t,a,r)}_apply(t){const a=this._parse(t);return K1(t._query,a),new el(t.firestore,t.converter,qd(t._query,a))}_parse(t){const a=qm(t.firestore);return(function(c,d,m,y,v,E,T){let A;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){qv(T,E);const Q=[];for(const q of T)Q.push(Bv(y,c,q));A={arrayValue:{values:Q}}}else A=Bv(y,c,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||qv(T,E),A=A4(m,d,T,E==="in"||E==="not-in");return Pt.create(v,E,A)})(t._query,"where",a,t.firestore._databaseId,this._field,this._op,this._value)}}function I4(s,t,a){const r=t,o=Fm("where",s);return uh._create(o,r,a)}class Ym extends Qm{constructor(t,a){super(),this.type=t,this._queryConstraints=a}static _create(t,a){return new Ym(t,a)}_parse(t){const a=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return a.length===1?a[0]:la.create(a,this._getOperator())}_apply(t){const a=this._parse(t);return a.getFilters().length===0?t:((function(o,c){let d=o;const m=c.getFlattenedFilters();for(const y of m)K1(d,y),d=qd(d,y)})(t._query,a),new el(t.firestore,t.converter,qd(t._query,a)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Bv(s,t,a){if(typeof(a=os(a))=="string"){if(a==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X_(t)&&a.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const r=t.path.child(mt.fromString(a));if(!Ee.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return av(s,new Ee(r))}if(a instanceof Ht)return av(s,a._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kc(a)}.`)}function qv(s,t){if(!Array.isArray(s)||s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function K1(s,t){const a=(function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(a!==null)throw a===t.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${a.toString()}' filters.`)}class j4{convertValue(t,a="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,a);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,a);case 11:return this.convertObject(t.mapValue,a);case 10:return this.convertVectorValue(t.mapValue);default:throw Ae(62114,{value:t})}}convertObject(t,a){return this.convertObjectMap(t.fields,a)}convertObjectMap(t,a="none"){const r={};return si(t,((o,c)=>{r[o]=this.convertValue(c,a)})),r}convertVectorValue(t){var r,o,c;const a=(c=(o=(r=t.fields)==null?void 0:r[kc].arrayValue)==null?void 0:o.values)==null?void 0:c.map((d=>Dt(d.doubleValue)));return new Oa(a)}convertGeoPoint(t){return new Va(Dt(t.latitude),Dt(t.longitude))}convertArray(t,a){return(t.values||[]).map((r=>this.convertValue(r,a)))}convertServerTimestamp(t,a){switch(a){case"previous":const r=Zc(t);return r==null?null:this.convertValue(r,a);case"estimate":return this.convertTimestamp(_o(t));default:return null}}convertTimestamp(t){const a=Zs(t);return new vt(a.seconds,a.nanos)}convertDocumentKey(t,a){const r=mt.fromString(t);nt(y1(r),9688,{name:t});const o=new bo(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(a)||cs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(s,t,a){let r;return r=s?s.toFirestore(t):t,r}class gc{constructor(t,a){this.hasPendingWrites=t,this.fromCache=a}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pr extends Y1{constructor(t,a,r,o,c,d){super(t,a,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const a=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,a={}){if(this._document){const r=this._document.data.field(Fm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,a={};return a.type=Pr._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Pr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pr._jsonSchema={type:Bt("string",Pr._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Nc extends Pr{data(t={}){return super.data(t)}}class Br{constructor(t,a,r,o){this._firestore=t,this._userDataWriter=a,this._snapshot=o,this.metadata=new gc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((a=>t.push(a))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,a){this._snapshot.docs.forEach((r=>{t.call(a,new Nc(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const a=!!t.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const y=new Nc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new Nc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,E=-1;return m.type!==0&&(v=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:V4(m.type),doc:y,oldIndex:v,newIndex:E}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Br._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(a.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function V4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}Br._jsonSchemaVersion="firestore/querySnapshot/1.0",Br._jsonSchema={type:Bt("string",Br._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class O4 extends j4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const a=this.convertDocumentKey(t,this.firestore._databaseId);return new Ht(this.firestore,null,a)}}function k4(s){s=Ui(s,el);const t=Ui(s.firestore,Mo),a=B1(t),r=new O4(t);return R4(s._query),g4(a,s._query).then((o=>new Br(t,r,s,o)))}function z4(s,t,a,...r){s=Ui(s,Ht);const o=Ui(s.firestore,Mo),c=qm(o);let d;return d=typeof(t=os(t))=="string"||t instanceof lh?S4(c,"updateDoc",s._key,t,a,r):T4(c,"updateDoc",s._key,t),Km(o,[d.toMutation(s._key,ra.exists(!0))])}function L4(s){return Km(Ui(s.firestore,Mo),[new Tm(s._key,ra.none())])}function U4(s,t){const a=Ui(s.firestore,Mo),r=Wd(s),o=M4(s.converter,t);return Km(a,[x4(qm(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ra.exists(!1))]).then((()=>r))}function Km(s,t){return(function(r,o){const c=new Ks;return r.asyncQueue.enqueueAndForget((async()=>t4(await d4(r),o,c))),c.promise})(B1(s),t)}(function(t,a=!0){(function(o){$r=o})(aA),Mc(new po("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),m=new Mo(new _A(r.getProvider("auth-internal")),new xA(d,r.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(v.options.projectId,E)})(d,o),d);return c={useFetchStreams:a,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Lr(G0,F0,t),Lr(G0,F0,"esm2020")})();const _n="profe_master_dev",P4=()=>Math.random().toString(36).substr(2,9),tm="teacher_mate_db",B4="teacher_mate_firebase_config",pc=()=>{const s=localStorage.getItem(tm);if(s)return JSON.parse(s);const t={classes:[{id:"c1",ownerId:_n,name:"3 ESO B",subject:"Tutora",createdAt:Date.now()},{id:"c2",ownerId:_n,name:"4 ESO A",subject:"Matemticas",createdAt:Date.now()}],students:[{id:"s1",ownerId:_n,firstName:"Alex",lastName:"Garca",groups:["c1"],specialNeeds:["TDAH"],contactInfo:"madre@test.com",createdAt:Date.now()},{id:"s2",ownerId:_n,firstName:"Mara",lastName:"Lopez",groups:["c1","c2"],specialNeeds:[],contactInfo:"600123456",createdAt:Date.now()}],grades:[{id:"g1",ownerId:_n,studentId:"s2",classGroupId:"c2",title:"Examen T1",grade:8.5,type:"exam",date:Date.now()}],follow_up_notes:[{id:"f1",ownerId:_n,studentId:"s1",title:"Reunin con padres",content:"Se ha acordado revisar la agenda diariamente. La madre comenta que en casa est ms tranquilo.",date:Date.now()-1e8}],interventions:[{id:"i1",ownerId:_n,studentId:"s1",studentName:"Alex Garca",type:"Conducta",description:"Interrupcin constante en clase de Mates.",date:Date.now(),status:"pendiente"},{id:"i2",ownerId:_n,studentId:"s2",studentName:"Mara Lopez",type:"Positivo",description:"Gran mejora en el examen de Historia.",date:Date.now()-864e5,status:"resuelto"}],resources:[{id:"r1",ownerId:_n,title:"Exmenes Past Years",url:"https://google.com",category:"Matemticas",tags:["PDF","Examen"],isFavorite:!0}],quick_notes:[{id:"n1",ownerId:_n,content:"Reunin evaluacin martes 15:00",color:"#fef3c7",isArchived:!1,createdAt:Date.now()}],events:[{id:"e1",ownerId:_n,title:"Claustro Profesores",date:Date.now(),type:"meeting"}]};return localStorage.setItem(tm,JSON.stringify(t)),t},Ad=s=>localStorage.setItem(tm,JSON.stringify(s)),q4=()=>{try{const s=localStorage.getItem(B4);return s?JSON.parse(s):null}catch{return null}},H4=q4(),Hv=H4||null;let ss,zr=!1;if(Hv)try{const s=__(Hv);ss=y4(s),zr=!0,console.log("TeacherMate: Connected to Firebase")}catch(s){console.error("TeacherMate: Firebase initialization error",s)}const G4=()=>zr?"connected":"mock",yc=s=>new Promise(t=>setTimeout(t,s)),Ze={async getItems(s){if(zr&&ss)try{const t=D4(zv(ss,s),I4("ownerId","==",_n));return(await k4(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Firestore Error",t),[]}else return await yc(300),(pc()[s]||[]).filter(a=>a.ownerId===_n)},async addItem(s,t){const a={...t,ownerId:_n};if(zr&&ss)return{id:(await U4(zv(ss,s),a)).id,...a};{await yc(300);const r=pc(),o={id:P4(),...a};return r[s]||(r[s]=[]),r[s].push(o),Ad(r),o}},async updateItem(s,t,a){if(zr&&ss){const r=Wd(ss,s,t);await z4(r,a)}else{await yc(200);const r=pc();if(!r[s])return;const o=r[s].findIndex(c=>c.id===t);o!==-1&&(r[s][o]={...r[s][o],...a},Ad(r))}},async deleteItem(s,t){if(zr&&ss)await L4(Wd(ss,s,t));else{await yc(200);const a=pc();if(!a[s])return;a[s]=a[s].filter(r=>r.id!==t),Ad(a)}}},wd=({icon:s,label:t,value:a,color:r})=>p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm flex items-center space-x-4",children:[p.jsx("div",{className:`p-3 rounded-lg ${r}`,children:p.jsx(s,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-500",children:t}),p.jsx("p",{className:"text-2xl font-bold text-slate-800",children:a})]})]}),F4=()=>{const{t:s}=ai(),[t,a]=k.useState({students:0,pending:0,notes:0}),[r,o]=k.useState([]),[c,d]=k.useState(!0);return k.useEffect(()=>{(async()=>{try{const[y,v,E]=await Promise.all([Ze.getItems("students"),Ze.getItems("interventions"),Ze.getItems("quick_notes")]),T=v.filter(A=>A.status==="pendiente");a({students:y.length,pending:T.length,notes:E.filter(A=>!A.isArchived).length}),o(T.sort((A,V)=>V.date-A.date).slice(0,5))}finally{d(!1)}})()},[]),c?p.jsx("div",{className:"p-10 text-center text-slate-400",children:"..."}):p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:s.dashboard.hello}),p.jsx("p",{className:"text-slate-500",children:s.dashboard.summary})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx(wd,{icon:hm,label:s.dashboard.stats.students,value:t.students,color:"bg-blue-500"}),p.jsx(wd,{icon:c_,label:s.dashboard.stats.pending,value:t.pending,color:"bg-amber-500"}),p.jsx(wd,{icon:cm,label:s.dashboard.stats.notes,value:t.notes,color:"bg-emerald-500"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[p.jsx("h3",{className:"font-semibold text-slate-800",children:s.dashboard.pendingTitle}),p.jsxs(oo,{to:"/students",className:"text-indigo-600 text-sm hover:underline flex items-center",children:[s.dashboard.viewStudents," ",p.jsx(_2,{size:14,className:"ml-1"})]})]}),p.jsx("div",{className:"p-6 flex-1",children:r.length===0?p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 py-8",children:[p.jsx(V2,{size:48,className:"mb-2 text-green-100 text-green-500"}),p.jsx("p",{children:s.dashboard.allClear})]}):p.jsx("div",{className:"space-y-4",children:r.map(m=>p.jsx("div",{className:"flex items-start p-3 bg-amber-50 rounded-lg border border-amber-100",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("span",{className:"font-medium text-amber-900",children:m.studentName}),p.jsx("span",{className:"text-xs text-amber-600 bg-amber-200 px-2 py-0.5 rounded-full",children:s.students.types[m.type]||m.type})]}),p.jsx("p",{className:"text-sm text-amber-800 mt-1 line-clamp-2",children:m.description}),p.jsx("p",{className:"text-xs text-amber-500 mt-2",children:new Date(m.date).toLocaleDateString()})]})},m.id))})})]}),p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"bg-indigo-600 rounded-xl p-6 text-white shadow-lg shadow-indigo-200",children:[p.jsx("h3",{className:"text-xl font-bold mb-2",children:s.dashboard.quickActions.title}),p.jsx("p",{className:"text-indigo-100 mb-6",children:s.dashboard.quickActions.desc}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(oo,{to:"/students",className:"bg-white/10 hover:bg-white/20 p-4 rounded-lg text-center transition backdrop-blur-sm",children:p.jsx("span",{className:"block font-medium",children:s.dashboard.quickActions.newIntervention})}),p.jsx(oo,{to:"/notes",className:"bg-white/10 hover:bg-white/20 p-4 rounded-lg text-center transition backdrop-blur-sm",children:p.jsx("span",{className:"block font-medium",children:s.dashboard.quickActions.createNote})})]})]})})]})]})},Q4=()=>{const{t:s}=ai(),[t,a]=k.useState([]),[r,o]=k.useState([]),[c,d]=k.useState(""),[m,y]=k.useState(null),[v,E]=k.useState([]),[T,A]=k.useState([]),[V,Q]=k.useState([]),[q,G]=k.useState("interventions"),[ne,le]=k.useState(!1),[ae,ve]=k.useState(!1),[we,Se]=k.useState(!1),[C,w]=k.useState(!1),[N,j]=k.useState(null),[I,z]=k.useState(null),[R,Je]=k.useState([]),[dt,X]=k.useState([]),[ie,_e]=k.useState(""),Oe=[{key:"adhd",label:s.students.specialNeedsOptions.adhd},{key:"dyslexia",label:s.students.specialNeedsOptions.dyslexia},{key:"asd",label:s.students.specialNeedsOptions.asd},{key:"highAbilities",label:s.students.specialNeedsOptions.highAbilities},{key:"reinforcement",label:s.students.specialNeedsOptions.reinforcement}],Fe=async()=>{const[K,me]=await Promise.all([Ze.getItems("students"),Ze.getItems("classes")]);a(K),o(me)};k.useEffect(()=>{Fe()},[]),k.useEffect(()=>{m&&m.id&&M(m.id)},[m]);const M=async K=>{const[me,ye,He]=await Promise.all([Ze.getItems("interventions"),Ze.getItems("grades"),Ze.getItems("follow_up_notes")]);E(me.filter(gt=>gt.studentId===K).sort((gt,ge)=>ge.date-gt.date)),A(ye.filter(gt=>gt.studentId===K).sort((gt,ge)=>ge.date-gt.date)),Q(He.filter(gt=>gt.studentId===K).sort((gt,ge)=>ge.date-gt.date))},Z=K=>{K?(j(K),Je(K.groups||[]),X(K.specialNeeds||[])):(j(null),Je([]),X([])),le(!0)},oe=async K=>{K.preventDefault();const me=K.target,ye=new FormData(me),He={firstName:ye.get("firstName"),lastName:ye.get("lastName"),groups:R,contactInfo:ye.get("contactInfo"),specialNeeds:dt};N&&N.id?(await Ze.updateItem("students",N.id,He),m&&m.id===N.id&&y({...m,...He})):(He.createdAt=Date.now(),await Ze.addItem("students",He)),le(!1),Fe()},ue=K=>{z(K||null),Se(!0)},Te=async K=>{if(K.preventDefault(),!m||!m.id)return;const me=K.target,ye=new FormData(me),He={studentId:m.id,classGroupId:ye.get("classGroupId"),title:ye.get("title"),grade:parseFloat(ye.get("grade")),type:ye.get("type"),date:I?I.date:Date.now()};I&&I.id?await Ze.updateItem("grades",I.id,He):await Ze.addItem("grades",He),Se(!1),M(m.id)},Ne=async K=>{if(K.preventDefault(),!m||!m.id)return;const me=K.target,ye=new FormData(me);await Ze.addItem("interventions",{studentId:m.id,studentName:`${m.firstName} ${m.lastName}`,type:ye.get("type"),description:ye.get("description"),status:"pendiente",date:Date.now()}),ve(!1),M(m.id)},ke=async K=>{if(!K.id)return;const me=K.status==="pendiente"?"resuelto":"pendiente";await Ze.updateItem("interventions",K.id,{status:me}),m!=null&&m.id&&M(m.id)},Et=async K=>{if(K.preventDefault(),!m||!m.id)return;const me=K.target,ye=new FormData(me);await Ze.addItem("follow_up_notes",{studentId:m.id,title:ye.get("title"),content:ye.get("content"),date:Date.now()}),w(!1),M(m.id)},rt=K=>{Je(me=>me.includes(K)?me.filter(ye=>ye!==K):[...me,K])},jn=K=>{X(me=>me.includes(K)?me.filter(ye=>ye!==K):[...me,K])},se=()=>{ie.trim()&&!dt.includes(ie.trim())&&(X(K=>[...K,ie.trim()]),_e(""))},ce=K=>!K.groups||K.groups.length===0?"Sin grupo":K.groups.map(me=>{var ye;return(ye=r.find(He=>He.id===me))==null?void 0:ye.name}).filter(Boolean).join(", "),We=t.filter(K=>{const me=`${K.firstName} ${K.lastName}`.toLowerCase(),ye=K.groups.map(gt=>{var ge;return((ge=r.find(ht=>ht.id===gt))==null?void 0:ge.name)||""}).join(" ").toLowerCase(),He=c.toLowerCase();return me.includes(He)||ye.includes(He)});return p.jsxs("div",{className:"flex h-[calc(100vh-8rem)]",children:[p.jsxs("div",{className:`w-full md:w-1/3 bg-white rounded-xl border border-slate-200 shadow-sm flex flex-col ${m?"hidden md:flex":"flex"}`,children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"font-bold text-slate-800",children:s.students.title}),p.jsx("button",{onClick:()=>Z(),className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100",children:p.jsx(ki,{size:20})})]}),p.jsxs("div",{className:"relative",children:[p.jsx(h_,{className:"absolute left-3 top-3 text-slate-400",size:16}),p.jsx("input",{type:"text",placeholder:s.students.searchPlaceholder,className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",value:c,onChange:K=>d(K.target.value)})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:We.map(K=>p.jsx("div",{onClick:()=>y(K),className:`p-4 border-b border-slate-50 cursor-pointer hover:bg-slate-50 transition ${(m==null?void 0:m.id)===K.id?"bg-indigo-50 border-l-4 border-l-indigo-500":""}`,children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"font-semibold text-slate-800",children:[K.firstName," ",K.lastName]}),p.jsx("p",{className:"text-xs text-slate-500 truncate max-w-[200px]",children:ce(K)})]}),K.specialNeeds.length>0&&p.jsx(x2,{size:16,className:"text-amber-500"})]})},K.id))})]}),p.jsx("div",{className:`flex-1 md:ml-6 bg-white rounded-xl border border-slate-200 shadow-sm flex flex-col ${m?"flex":"hidden md:flex"}`,children:m?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"p-6 border-b border-slate-100",children:[p.jsx("div",{className:"flex justify-between items-start mb-4",children:p.jsxs("div",{children:[p.jsxs("button",{onClick:()=>y(null),className:"md:hidden text-slate-500 mb-2 text-sm flex items-center",children:[" ",s.students.back]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:[m.firstName," ",m.lastName]}),p.jsx("button",{onClick:()=>Z(m),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:s.students.editStudent,children:p.jsx(Dd,{size:16})})]}),p.jsxs("div",{className:"flex items-center flex-wrap gap-2 mt-2 text-sm text-slate-500",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsx(dT,{size:14,className:"mr-1"})," ",ce(m)]}),p.jsx("span",{className:"text-slate-300",children:"|"}),p.jsxs("span",{className:"flex items-center",children:[p.jsx(oT,{size:14,className:"mr-1"})," ",m.contactInfo]})]}),p.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:m.specialNeeds.map((K,me)=>p.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full border border-amber-200",children:K},me))})]})}),p.jsxs("div",{className:"flex space-x-6 border-b border-slate-100 overflow-x-auto",children:[p.jsxs("button",{onClick:()=>G("interventions"),className:`pb-2 text-sm font-medium transition relative whitespace-nowrap ${q==="interventions"?"text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[s.students.tabs.interventions,q==="interventions"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 -mb-px"})]}),p.jsxs("button",{onClick:()=>G("grades"),className:`pb-2 text-sm font-medium transition relative whitespace-nowrap ${q==="grades"?"text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[s.students.tabs.grades,q==="grades"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 -mb-px"})]}),p.jsxs("button",{onClick:()=>G("followup"),className:`pb-2 text-sm font-medium transition relative whitespace-nowrap ${q==="followup"?"text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[s.students.tabs.followup,q==="followup"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 -mb-px"})]})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50",children:[q==="interventions"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase flex items-center",children:[p.jsx(Z2,{size:16,className:"mr-2"})," ",s.students.history]}),p.jsxs("button",{onClick:()=>ve(!0),className:"text-xs bg-indigo-600 text-white px-3 py-1.5 rounded hover:bg-indigo-700 flex items-center",children:[p.jsx(ki,{size:14,className:"mr-1"})," ",s.students.addIntervention]})]}),p.jsxs("div",{className:"space-y-4",children:[v.length===0&&p.jsx("p",{className:"text-slate-400 italic text-sm",children:s.students.noRecords}),v.map(K=>p.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm relative group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase tracking-wider
                            ${K.type==="Conducta"?"bg-red-100 text-red-700":K.type==="Positivo"?"bg-green-100 text-green-700":K.type==="Acadmico"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}
                          `,children:s.students.types[K.type]||K.type}),p.jsx("span",{className:"text-xs text-slate-400",children:new Date(K.date).toLocaleString()})]}),p.jsx("p",{className:"text-slate-700 mb-3",children:K.description}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{onClick:()=>ke(K),className:`text-xs px-3 py-1 rounded-full border transition
                              ${K.status==="resuelto"?"bg-green-50 text-green-600 border-green-200":"bg-amber-50 text-amber-600 border-amber-200 hover:bg-green-50 hover:text-green-600 hover:border-green-200"}
                            `,children:K.status==="resuelto"?s.students.status.resolved:s.students.status.markResolved})})]},K.id))]})]}),q==="grades"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase flex items-center",children:[p.jsx(um,{size:16,className:"mr-2"})," ",s.students.grades]}),p.jsxs("button",{onClick:()=>ue(),className:"text-xs bg-indigo-600 text-white px-3 py-1.5 rounded hover:bg-indigo-700 flex items-center",children:[p.jsx(ki,{size:14,className:"mr-1"})," ",s.students.addGrade]})]}),m.groups.length===0&&p.jsx("p",{className:"text-slate-400 italic text-sm",children:"Este alumno no est asignado a ninguna clase."}),p.jsx("div",{className:"space-y-6",children:m.groups.map(K=>{const me=r.find(ge=>ge.id===K),ye=T.filter(ge=>ge.classGroupId===K);if(!me)return null;const He=ye.filter(ge=>ge.type!=="final").map(ge=>ge.grade),gt=He.length?(He.reduce((ge,ht)=>ge+ht,0)/He.length).toFixed(1):"-";return p.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:[p.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800",children:me.name}),p.jsx("p",{className:"text-xs text-slate-500",children:me.subject})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:"Media"}),p.jsx("p",{className:"font-mono font-bold text-lg text-indigo-600",children:gt})]})]}),p.jsx("div",{className:"p-4",children:ye.length===0?p.jsx("p",{className:"text-xs text-slate-400 italic",children:"No hay notas registradas."}):p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"text-xs text-slate-500 uppercase border-b border-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"pb-2 font-medium",children:"Concepto"}),p.jsx("th",{className:"pb-2 font-medium",children:"Tipo"}),p.jsx("th",{className:"pb-2 font-medium text-right",children:"Nota"}),p.jsx("th",{className:"w-8"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-50",children:ye.map(ge=>p.jsxs("tr",{className:`group hover:bg-slate-50 transition ${ge.type==="final"?"bg-indigo-50/50":""}`,children:[p.jsxs("td",{className:"py-2 text-slate-700",children:[ge.title,p.jsx("div",{className:"text-[10px] text-slate-400",children:new Date(ge.date).toLocaleDateString()})]}),p.jsx("td",{className:"py-2 text-slate-500 text-xs",children:p.jsx("span",{className:`px-2 py-0.5 rounded-full 
                                            ${ge.type==="exam"?"bg-red-50 text-red-600":ge.type==="work"?"bg-blue-50 text-blue-600":"bg-green-100 text-green-700 font-bold"}`,children:ge.type==="exam"?"Examen":ge.type==="work"?"Trabajo":"Final"})}),p.jsx("td",{className:`py-2 text-right font-mono font-bold ${ge.grade<5?"text-red-500":"text-slate-700"}`,children:ge.grade}),p.jsx("td",{className:"py-2 text-right",children:p.jsx("button",{onClick:()=>ue(ge),className:"p-1 text-slate-300 hover:text-indigo-600 opacity-0 group-hover:opacity-100 transition",title:s.students.editGrade,children:p.jsx(Dd,{size:14})})})]},ge.id))})]})})]},K)})})]}),q==="followup"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase flex items-center",children:[p.jsx(Q2,{size:16,className:"mr-2"})," ",s.students.tabs.followup]}),p.jsxs("button",{onClick:()=>w(!0),className:"text-xs bg-indigo-600 text-white px-3 py-1.5 rounded hover:bg-indigo-700 flex items-center",children:[p.jsx(ki,{size:14,className:"mr-1"})," ",s.students.addFollowUp]})]}),p.jsxs("div",{className:"relative pl-4 border-l-2 border-indigo-100 space-y-8",children:[V.length===0&&p.jsx("div",{className:"text-slate-400 italic text-sm pl-4",children:s.students.noRecords}),V.map(K=>p.jsxs("div",{className:"relative pl-6",children:[p.jsx("div",{className:"absolute -left-[21px] top-1 w-4 h-4 rounded-full bg-indigo-500 border-4 border-slate-50 shadow-sm z-10"}),p.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-baseline mb-3 pb-3 border-b border-slate-50",children:[p.jsx("h4",{className:"text-lg font-bold text-slate-800",children:K.title}),p.jsxs("div",{className:"flex items-center text-xs text-indigo-500 font-medium bg-indigo-50 px-2 py-1 rounded-md mt-2 sm:mt-0",children:[p.jsx(w2,{size:12,className:"mr-1.5"}),new Date(K.date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),p.jsx("div",{className:"prose prose-sm prose-slate max-w-none",children:p.jsx("p",{className:"text-slate-600 whitespace-pre-wrap leading-relaxed",children:K.content})})]})]},K.id))]})]})]})]}):p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[p.jsx(RT,{size:64,className:"mb-4 text-slate-200"}),p.jsx("p",{children:s.students.selectPrompt})]})}),ne&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800",children:N?s.students.editStudent:s.students.newStudent}),p.jsx("button",{onClick:()=>le(!1),children:p.jsx(is,{className:"text-slate-400 hover:text-slate-600"})})]}),p.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.firstName}),p.jsx("input",{required:!0,name:"firstName",defaultValue:N==null?void 0:N.firstName,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-2 focus:ring-indigo-500 outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.lastName}),p.jsx("input",{required:!0,name:"lastName",defaultValue:N==null?void 0:N.lastName,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.contact}),p.jsx("input",{name:"contactInfo",defaultValue:N==null?void 0:N.contactInfo,className:"p-2 border border-slate-300 rounded-lg w-full focus:ring-2 focus:ring-indigo-500 outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:s.students.forms.group}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.length===0&&p.jsx("p",{className:"text-xs text-slate-400 italic",children:"Crea clases primero en el apartado 'Gelak'"}),r.map(K=>{const me=R.includes(K.id);return p.jsxs("div",{onClick:()=>K.id&&rt(K.id),className:`p-3 rounded-lg border cursor-pointer transition-all flex items-center justify-between
                             ${me?"bg-indigo-50 border-indigo-500 shadow-sm":"bg-white border-slate-200 hover:border-indigo-300"}
                           `,children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold
                                ${me?"bg-indigo-200 text-indigo-700":"bg-slate-100 text-slate-500"}
                             `,children:K.name.substring(0,2)}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:`font-medium ${me?"text-indigo-900":"text-slate-700"}`,children:K.name}),p.jsx("p",{className:"text-xs text-slate-500",children:K.subject})]})]}),me&&p.jsx(om,{size:16,className:"text-indigo-600"})]},K.id)})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:s.students.forms.tags}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Oe.map(K=>{const me=dt.includes(K.label);return p.jsx("button",{type:"button",onClick:()=>jn(K.label),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-colors border
                               ${me?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-600 border-slate-200 hover:border-indigo-300"}
                            `,children:K.label},K.key)})}),p.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:dt.filter(K=>!Oe.some(me=>me.label===K)).map(K=>p.jsxs("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200 flex items-center",children:[K,p.jsx("button",{type:"button",onClick:()=>jn(K),className:"ml-2 hover:text-amber-900",children:p.jsx(is,{size:12})})]},K))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{value:ie,onChange:K=>_e(K.target.value),placeholder:s.students.forms.addTag,className:"flex-1 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none",onKeyDown:K=>{K.key==="Enter"&&(K.preventDefault(),se())}}),p.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200 font-medium",children:"+"})]})]}),p.jsx("div",{className:"pt-4 border-t border-slate-100",children:p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-medium hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all transform hover:scale-[1.01]",children:N?s.students.forms.updateStudent:s.students.forms.saveStudent})})]})]})}),ae&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"text-lg font-bold",children:s.students.addIntervention}),p.jsx("button",{onClick:()=>ve(!1),children:p.jsx(is,{className:"text-slate-400"})})]}),p.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.type}),p.jsxs("select",{name:"type",className:"w-full p-2 border rounded bg-white",children:[p.jsx("option",{value:"Conducta",children:s.students.types.Conducta}),p.jsx("option",{value:"Acadmico",children:s.students.types.Acadmico}),p.jsx("option",{value:"Familia",children:s.students.types.Familia}),p.jsx("option",{value:"Positivo",children:s.students.types.Positivo})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.description}),p.jsx("textarea",{required:!0,name:"description",rows:4,className:"w-full p-2 border rounded",placeholder:s.students.forms.descPlaceholder})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded font-medium hover:bg-indigo-700",children:s.students.forms.saveRecord})]})]})}),C&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"text-lg font-bold",children:s.students.addFollowUp}),p.jsx("button",{onClick:()=>w(!1),children:p.jsx(is,{className:"text-slate-400"})})]}),p.jsxs("form",{onSubmit:Et,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.followUpTitle}),p.jsx("input",{required:!0,name:"title",className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.followUpContent}),p.jsx("textarea",{required:!0,name:"content",rows:8,className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none resize-none",placeholder:s.students.forms.followUpContent})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 shadow-md",children:s.students.forms.saveRecord})]})]})}),we&&m&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"text-lg font-bold",children:I?s.students.editGrade:s.students.addGrade}),p.jsx("button",{onClick:()=>Se(!1),children:p.jsx(is,{className:"text-slate-400"})})]}),p.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Clase"}),p.jsx("select",{name:"classGroupId",className:"w-full p-2 border rounded bg-white",required:!0,defaultValue:I==null?void 0:I.classGroupId,children:m.groups.map(K=>{const me=r.find(ye=>ye.id===K);return me?p.jsxs("option",{value:me.id,children:[me.name," - ",me.subject]},me.id):null})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.examTitle}),p.jsx("input",{required:!0,name:"title",defaultValue:I==null?void 0:I.title,className:"w-full p-2 border rounded"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.gradeValue}),p.jsx("input",{required:!0,type:"number",step:"0.1",min:"0",max:"10",name:"grade",defaultValue:I==null?void 0:I.grade,className:"w-full p-2 border rounded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s.students.forms.gradeType}),p.jsxs("select",{name:"type",defaultValue:(I==null?void 0:I.type)||"exam",className:"w-full p-2 border rounded bg-white",children:[p.jsx("option",{value:"exam",children:"Examen"}),p.jsx("option",{value:"work",children:"Trabajo/Deberes"}),p.jsx("option",{value:"final",children:"Evaluacin Final"})]})]})]}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded font-medium hover:bg-indigo-700",children:s.students.forms.saveRecord})]})]})})]})},vc=[{bg:"bg-yellow-100",border:"border-yellow-200",hex:"#fef9c3"},{bg:"bg-blue-100",border:"border-blue-200",hex:"#dbeafe"},{bg:"bg-green-100",border:"border-green-200",hex:"#dcfce7"},{bg:"bg-rose-100",border:"border-rose-200",hex:"#ffe4e6"}],Y4=()=>{const{t:s}=ai(),[t,a]=k.useState([]),[r,o]=k.useState(!1),[c,d]=k.useState(""),[m,y]=k.useState(vc[0].hex),v=async()=>{const A=await Ze.getItems("quick_notes");a(A.filter(V=>!V.isArchived).sort((V,Q)=>Q.createdAt-V.createdAt))};k.useEffect(()=>{v()},[]);const E=async()=>{c.trim()&&(await Ze.addItem("quick_notes",{content:c,color:m,isArchived:!1,createdAt:Date.now()}),d(""),o(!1),v())},T=async A=>{await Ze.updateItem("quick_notes",A,{isArchived:!0}),v()};return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:s.notes.title}),p.jsxs("button",{onClick:()=>o(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg flex items-center shadow-lg hover:bg-indigo-700 transition",children:[p.jsx(ki,{size:20,className:"mr-2"})," ",s.notes.newNote]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[r&&p.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border-2 border-indigo-100 flex flex-col h-64",children:[p.jsx("textarea",{autoFocus:!0,className:"flex-1 w-full resize-none outline-none text-slate-700 bg-transparent placeholder:text-slate-300",placeholder:s.notes.placeholder,value:c,onChange:A=>d(A.target.value)}),p.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-slate-100",children:[p.jsx("div",{className:"flex space-x-2",children:vc.map(A=>p.jsx("button",{onClick:()=>y(A.hex),className:`w-5 h-5 rounded-full ${A.bg} border ${A.border} ${m===A.hex?"ring-2 ring-indigo-400":""}`},A.hex))}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>o(!1),className:"p-2 text-slate-400 hover:text-slate-600",children:p.jsx(is,{size:18})}),p.jsx("button",{onClick:E,className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:s.notes.save})]})]})]}),t.map(A=>{const V=vc.find(Q=>Q.hex===A.color)||vc[0];return p.jsxs("div",{className:`${V.bg} border ${V.border} p-5 rounded-xl shadow-sm hover:shadow-md transition-shadow flex flex-col min-h-[160px] relative group`,children:[p.jsx("p",{className:"text-slate-800 whitespace-pre-wrap flex-1 font-medium",children:A.content}),p.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx("button",{onClick:()=>A.id&&T(A.id),className:"p-1.5 bg-white/50 hover:bg-white rounded text-slate-500 hover:text-red-500",title:"Archivar",children:p.jsx(Cc,{size:14})})}),p.jsx("div",{className:"mt-4 pt-3 border-t border-black/5 text-xs text-slate-500 flex justify-between",children:p.jsx("span",{children:new Date(A.createdAt).toLocaleDateString()})})]},A.id)})]})]})},K4=()=>{const{t:s}=ai(),[t,a]=k.useState([]),[r,o]=k.useState(""),[c,d]=k.useState(null),[m,y]=k.useState(!1),v=async()=>{const V=await Ze.getItems("resources");a(V)};k.useEffect(()=>{v()},[]);const E=(V,Q)=>{navigator.clipboard.writeText(V),d(Q),setTimeout(()=>d(null),2e3)},T=async V=>{V.preventDefault();const Q=V.target,q=new FormData(Q);await Ze.addItem("resources",{title:q.get("title"),url:q.get("url"),category:q.get("category"),tags:q.get("tags").split(",").map(G=>G.trim()),isFavorite:!1}),y(!1),v()},A=t.filter(V=>V.title.toLowerCase().includes(r.toLowerCase())||V.tags.some(Q=>Q.toLowerCase().includes(r.toLowerCase())));return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:s.resources.title}),p.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[p.jsxs("div",{className:"relative flex-1 md:w-64",children:[p.jsx(h_,{className:"absolute left-3 top-3 text-slate-400",size:16}),p.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:s.resources.searchPlaceholder,value:r,onChange:V=>o(V.target.value)})]}),p.jsx("button",{onClick:()=>y(!m),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 font-medium",children:s.resources.add})]})]}),m&&p.jsxs("form",{onSubmit:T,className:"bg-white p-4 rounded-lg border border-indigo-100 shadow-sm grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[p.jsx("div",{className:"md:col-span-1",children:p.jsx("input",{required:!0,name:"title",placeholder:s.resources.forms.title,className:"w-full p-2 border rounded text-sm"})}),p.jsx("div",{className:"md:col-span-1",children:p.jsx("input",{required:!0,name:"url",placeholder:s.resources.forms.url,className:"w-full p-2 border rounded text-sm"})}),p.jsx("div",{className:"md:col-span-1",children:p.jsx("input",{name:"tags",placeholder:s.resources.forms.tags,className:"w-full p-2 border rounded text-sm"})}),p.jsx("div",{className:"md:col-span-1",children:p.jsx("button",{type:"submit",className:"w-full bg-slate-800 text-white py-2 rounded text-sm hover:bg-slate-700",children:s.resources.forms.save})})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-semibold text-slate-600 text-sm",children:s.resources.table.resource}),p.jsx("th",{className:"p-4 font-semibold text-slate-600 text-sm hidden md:table-cell",children:s.resources.table.tags}),p.jsx("th",{className:"p-4 font-semibold text-slate-600 text-sm w-20",children:s.resources.table.action})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100",children:A.map(V=>p.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[p.jsxs("td",{className:"p-4",children:[p.jsx("div",{className:"font-medium text-slate-800",children:V.title}),p.jsxs("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-500 hover:underline truncate block max-w-xs flex items-center mt-1",children:[V.url," ",p.jsx(G2,{size:10,className:"ml-1"})]})]}),p.jsx("td",{className:"p-4 hidden md:table-cell",children:p.jsx("div",{className:"flex gap-1 flex-wrap",children:V.tags.map((Q,q)=>p.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600",children:[p.jsx(_T,{size:10,className:"mr-1 opacity-50"})," ",Q]},q))})}),p.jsx("td",{className:"p-4",children:p.jsx("button",{onClick:()=>V.url&&E(V.url,V.id||""),className:"p-2 text-slate-400 hover:bg-slate-100 rounded transition",title:"Copiar Enlace",children:c===V.id?p.jsx(om,{size:18,className:"text-green-500"}):p.jsx(P2,{size:18})})})]},V.id))})]}),A.length===0&&p.jsx("div",{className:"p-8 text-center text-slate-400",children:s.resources.noResources})]})]})},Nd="teacher_mate_firebase_config",X4=()=>{const{t:s}=ai(),[t,a]=k.useState(G4()),[r,o]=k.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""});k.useEffect(()=>{const y=localStorage.getItem(Nd);y&&o(JSON.parse(y))},[]);const c=y=>{o({...r,[y.target.name]:y.target.value})},d=()=>{localStorage.setItem(Nd,JSON.stringify(r)),window.location.reload()},m=()=>{localStorage.removeItem(Nd),window.location.reload()};return p.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:s.settings.title}),p.jsx("p",{className:"text-slate-500",children:s.settings.subtitle})]}),p.jsxs("div",{className:`p-4 rounded-xl border flex items-center space-x-4 
        ${t==="connected"?"bg-green-50 border-green-200 text-green-700":"bg-amber-50 border-amber-200 text-amber-700"}`,children:[p.jsx("div",{className:`p-2 rounded-full ${t==="connected"?"bg-green-100":"bg-amber-100"}`,children:t==="connected"?p.jsx(L2,{size:24}):p.jsx(q2,{size:24})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs uppercase font-bold tracking-wider opacity-70",children:s.settings.status.label}),p.jsx("p",{className:"font-semibold",children:t==="connected"?s.settings.status.connected:s.settings.status.mock})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:s.settings.form.apiKey}),p.jsx("input",{name:"apiKey",value:r.apiKey,onChange:c,className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:s.settings.form.projectId}),p.jsx("input",{name:"projectId",value:r.projectId,onChange:c,className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:s.settings.form.authDomain}),p.jsx("input",{name:"authDomain",value:r.authDomain,onChange:c,className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Storage Bucket"}),p.jsx("input",{name:"storageBucket",value:r.storageBucket,onChange:c,className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Messaging Sender ID"}),p.jsx("input",{name:"messagingSenderId",value:r.messagingSenderId,onChange:c,className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:"App ID"}),p.jsx("input",{name:"appId",value:r.appId,onChange:c,className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm"})]})]}),p.jsxs("div",{className:"pt-4 border-t border-slate-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[p.jsx("p",{className:"text-xs text-slate-400 italic",children:s.settings.warning}),p.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[t==="connected"&&p.jsxs("button",{onClick:m,className:"flex-1 md:flex-none px-4 py-2 border border-red-200 text-red-600 rounded-lg hover:bg-red-50 flex items-center justify-center",children:[p.jsx(Cc,{size:18,className:"mr-2"})," ",s.settings.form.clear]}),p.jsxs("button",{onClick:d,className:"flex-1 md:flex-none px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium flex items-center justify-center shadow-lg shadow-indigo-200",children:[p.jsx(hT,{size:18,className:"mr-2"})," ",s.settings.form.save]})]})]})]})]})},$4=()=>{const{t:s,language:t}=ai(),[a,r]=k.useState(new Date),[o,c]=k.useState([]),[d,m]=k.useState([]),[y,v]=k.useState([]),[E,T]=k.useState(null),[A,V]=k.useState(!1),[Q,q]=k.useState(!1),[G,ne]=k.useState(!1),[le,ae]=k.useState({isOpen:!1,eventId:null}),[ve,we]=k.useState(null),[Se,C]=k.useState(""),[w,N]=k.useState(""),j=async()=>{const[se,ce,We]=await Promise.all([Ze.getItems("events"),Ze.getItems("interventions"),Ze.getItems("quick_notes")]);c(se),m(ce),v(We.filter(K=>!K.isArchived))};k.useEffect(()=>{j()},[]);const I=(se,ce)=>new Date(se,ce+1,0).getDate(),z=(se,ce)=>{let We=new Date(se,ce,1).getDay();return We===0?6:We-1},R=se=>{r(new Date(a.getFullYear(),a.getMonth()+se,1))},Je=se=>{const ce=new Date(se),We=ce.getHours().toString().padStart(2,"0"),K=ce.getMinutes().toString().padStart(2,"0");return`${We}:${K}`},dt=(se,ce)=>{se.dataTransfer.setData("note",JSON.stringify(ce))},X=(se,ce)=>{if(ve){se.preventDefault();return}se.stopPropagation(),se.dataTransfer.setData("eventId",ce),se.dataTransfer.effectAllowed="move",q(!0)},ie=()=>{q(!1),ne(!1)},_e=async(se,ce)=>{se.preventDefault();const We=se.dataTransfer.getData("note");if(!We)return;const K=JSON.parse(We);K.id&&v(ye=>ye.filter(He=>He.id!==K.id));const me=new Date(a.getFullYear(),a.getMonth(),ce);me.setHours(9,0,0,0),await Ze.addItem("events",{title:K.content,date:me.getTime(),type:"general",linkedNoteId:K.id}),K.id&&await Ze.updateItem("quick_notes",K.id,{isArchived:!0}),j()},Oe=se=>{se.preventDefault(),ne(!0)},Fe=()=>{ne(!1)},M=se=>{se.preventDefault(),ne(!1),q(!1);const ce=se.dataTransfer.getData("eventId");ce&&ue(ce)},Z=se=>{se.preventDefault()},oe=async se=>{if(se.preventDefault(),!E)return;const ce=se.target,We=new FormData(ce),K=We.get("time"),[me,ye]=K.split(":").map(Number),He=new Date(E);He.setHours(me||0,ye||0),await Ze.addItem("events",{title:We.get("title"),type:We.get("type"),date:He.getTime()}),j(),ce.reset()},ue=se=>{ae({isOpen:!0,eventId:se})},Te=async()=>{const{eventId:se}=le;if(se){c(ce=>ce.filter(We=>We.id!==se)),ae({isOpen:!1,eventId:null});try{await Ze.deleteItem("events",se),await j()}catch(ce){console.error("Delete failed",ce),j()}}},Ne=()=>{ae({isOpen:!1,eventId:null})},ke=se=>{we(se.id||null);const ce=new Date(se.date),We=ce.getFullYear()+"-"+(ce.getMonth()+1).toString().padStart(2,"0")+"-"+ce.getDate().toString().padStart(2,"0"),K=ce.getHours().toString().padStart(2,"0")+":"+ce.getMinutes().toString().padStart(2,"0");C(We),N(K)},Et=async se=>{if(!Se)return;const[ce,We,K]=Se.split("-").map(Number),[me,ye]=w?w.split(":").map(Number):[0,0],He=new Date(ce,We-1,K,me,ye).getTime();c(gt=>gt.map(ge=>ge.id===se?{...ge,date:He}:ge)),we(null),await Ze.updateItem("events",se,{date:He}),j()},rt=()=>{const se=a.getFullYear(),ce=a.getMonth(),We=I(se,ce),K=z(se,ce),me=[];for(let ye=0;ye<K;ye++)me.push(p.jsx("div",{className:"h-24 md:h-32 bg-slate-50/50 border-r border-b border-slate-100"},`empty-${ye}`));for(let ye=1;ye<=We;ye++){const He=new Date(se,ce,ye).setHours(0,0,0,0),gt=new Date(se,ce,ye).setHours(23,59,59,999);let ge=o.filter(Qe=>Qe.date>=He&&Qe.date<=gt);ge.sort((Qe,hn)=>Qe.date-hn.date);const ht=d.filter(Qe=>new Date(Qe.date).setHours(0,0,0,0)===He),ua=new Date().toDateString()===new Date(se,ce,ye).toDateString(),Gi=ge.length+ht.length,Fi=Gi===0?"bg-white":Gi<3?"bg-indigo-50/30":"bg-indigo-50";me.push(p.jsxs("div",{onDrop:Qe=>_e(Qe,ye),onDragOver:Z,onClick:()=>{T(new Date(se,ce,ye)),V(!0)},className:`h-24 md:h-32 border-r border-b border-slate-100 p-2 relative transition hover:bg-slate-50 cursor-pointer ${Fi}`,children:[p.jsx("span",{className:`text-sm font-semibold w-7 h-7 flex items-center justify-center rounded-full ${ua?"bg-indigo-600 text-white":"text-slate-700"}`,children:ye}),p.jsxs("div",{className:"mt-2 space-y-1 overflow-y-auto max-h-[calc(100%-2rem)]",children:[ht.length>0&&p.jsx("div",{className:"flex flex-wrap gap-1 mb-1",children:ht.map((Qe,hn)=>p.jsx("div",{title:Qe.type,className:`w-2 h-2 rounded-full ${Qe.type==="Conducta"?"bg-red-400":"bg-green-400"}`},hn))}),ge.slice(0,3).map(Qe=>p.jsxs("div",{draggable:!!Qe.id,onDragStart:hn=>Qe.id&&X(hn,Qe.id),onDragEnd:ie,className:"text-xs p-1 bg-white border border-slate-200 rounded shadow-sm truncate flex items-center cursor-grab active:cursor-grabbing hover:border-indigo-300 transition-colors",children:[p.jsx("span",{className:"text-[10px] text-slate-400 font-mono mr-1",children:Je(Qe.date)}),p.jsx("span",{className:"truncate",children:Qe.title})]},Qe.id)),ge.length>3&&p.jsxs("div",{className:"text-xs text-slate-400 text-center",children:["+",ge.length-3]})]})]},ye))}return me},jn=se=>t==="eu"?["Al","Ar","Az","Og","Or","Lr","Ig"][se]:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"][se];return p.jsxs("div",{className:"flex flex-col lg:flex-row h-full gap-6 relative",children:[p.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col",children:[p.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center space-x-4",children:p.jsx("h2",{className:"text-xl font-bold text-slate-800 capitalize",children:a.toLocaleString(t==="eu"?"eu":"es",{month:"long",year:"numeric"})})}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{onClick:()=>R(-1),className:"p-2 hover:bg-slate-100 rounded-full",children:p.jsx(I2,{size:20})}),p.jsx("button",{onClick:()=>r(new Date),className:"text-sm px-3 py-1 bg-slate-100 rounded-md font-medium text-slate-600",children:t==="eu"?"Gaur":"Hoy"}),p.jsx("button",{onClick:()=>R(1),className:"p-2 hover:bg-slate-100 rounded-full",children:p.jsx(C2,{size:20})})]})]}),p.jsx("div",{className:"grid grid-cols-7 border-b border-slate-100 bg-slate-50",children:[0,1,2,3,4,5,6].map(se=>p.jsx("div",{className:"py-2 text-center text-xs font-semibold text-slate-500 uppercase",children:jn(se)},se))}),p.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr",children:rt()})]}),p.jsx("div",{className:"w-full lg:w-80 flex flex-col gap-6",children:p.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-xl p-4",children:[p.jsxs("h3",{className:"font-bold text-indigo-900 mb-2 text-sm flex items-center",children:[p.jsx(cm,{size:16,className:"mr-2"}),s.calendar.unscheduledNotes]}),p.jsx("p",{className:"text-xs text-indigo-700 mb-4 opacity-80",children:s.calendar.dragInstruction}),p.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:y.map(se=>p.jsx("div",{draggable:!0,onDragStart:ce=>dt(ce,se),className:"bg-white p-3 rounded-lg border border-indigo-200 shadow-sm cursor-grab active:cursor-grabbing hover:shadow-md transition group",style:{borderLeftColor:se.color,borderLeftWidth:"4px"},children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("p",{className:"text-sm text-slate-700 line-clamp-3",children:se.content}),p.jsx(X2,{size:16,className:"text-slate-300 group-hover:text-indigo-400"})]})},se.id))})]})}),p.jsx("div",{onDragOver:Oe,onDragLeave:Fe,onDrop:M,className:`fixed bottom-8 right-8 z-[60] transition-all duration-300 ease-in-out transform flex items-center justify-center pointer-events-auto
          ${Q?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}
        `,children:p.jsx("div",{className:`
          w-16 h-16 rounded-full shadow-xl flex items-center justify-center transition-all duration-200 border-4
          ${G?"bg-red-600 border-red-400 scale-110":"bg-red-500 border-white"}
        `,children:p.jsx(Cc,{className:"text-white",size:32})})}),le.isOpen&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center p-4 animate-in fade-in duration-200",children:p.jsx("div",{className:"bg-white rounded-xl max-w-sm w-full p-6 shadow-2xl scale-100 transform transition-all",children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:p.jsx(xT,{size:24,className:"text-red-600"})}),p.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:t==="eu"?"Ekitaldia ezabatu?":"Eliminar evento?"}),p.jsx("p",{className:"text-sm text-slate-500 mb-6",children:t==="eu"?"Ekintza hau ezin da desegin. Ekitaldia behin betiko ezabatuko da.":"Esta accin no se puede deshacer. El evento se eliminar permanentemente."}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{onClick:Ne,className:"flex-1 py-2 px-4 bg-slate-100 text-slate-700 rounded-lg font-medium hover:bg-slate-200 transition",children:s.calendar.actions.cancel}),p.jsx("button",{onClick:Te,className:"flex-1 py-2 px-4 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition",children:s.calendar.actions.delete})]})]})})}),A&&E&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl relative",children:[p.jsx("button",{onClick:()=>V(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:p.jsx(is,{size:20})}),p.jsx("h3",{className:"text-lg font-bold mb-1",children:s.calendar.todayEvents}),p.jsx("p",{className:"text-sm text-slate-500 mb-6 capitalize",children:E.toLocaleDateString(t==="eu"?"eu":"es",{weekday:"long",day:"numeric",month:"long"})}),p.jsx("div",{className:"space-y-3 mb-6",children:[...o.filter(se=>new Date(se.date).setHours(0,0,0,0)===E.getTime()).sort((se,ce)=>se.date-ce.date),...d.filter(se=>new Date(se.date).setHours(0,0,0,0)===E.getTime())].length===0?p.jsx("p",{className:"text-slate-400 text-sm italic",children:s.calendar.noEvents}):p.jsxs(p.Fragment,{children:[d.filter(se=>new Date(se.date).setHours(0,0,0,0)===E.getTime()).map(se=>p.jsxs("div",{className:"flex items-center p-3 mb-2 bg-amber-50 border border-amber-100 rounded-lg text-sm opacity-90",children:[p.jsx(c_,{size:16,className:"text-amber-500 mr-3 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("span",{className:"font-semibold text-amber-900",children:se.studentName}),p.jsx("span",{className:"text-amber-700 mx-1",children:"-"}),p.jsx("span",{className:"text-amber-700",children:se.type})]})]},se.id)),o.filter(se=>new Date(se.date).setHours(0,0,0,0)===E.getTime()).sort((se,ce)=>se.date-ce.date).map(se=>p.jsx("div",{draggable:!!se.id&&!ve,onDragStart:ce=>se.id&&X(ce,se.id),onDragEnd:ie,className:`group flex items-center justify-between p-3 mb-2 bg-white border border-slate-200 rounded-lg shadow-sm hover:shadow-md transition-all
                          ${ve?"border-indigo-200 ring-1 ring-indigo-200":"cursor-grab active:cursor-grabbing"}
                        `,children:ve===se.id?p.jsxs("div",{className:"flex items-center w-full gap-2 p-1",children:[p.jsxs("div",{className:"flex-1 flex gap-2",children:[p.jsx("input",{type:"date",value:Se,onChange:ce=>C(ce.target.value),className:"w-2/3 p-2 border rounded bg-slate-50 text-xs"}),p.jsx("input",{type:"time",value:w,onChange:ce=>N(ce.target.value),className:"w-1/3 p-2 border rounded bg-slate-50 text-xs"})]}),p.jsx("button",{type:"button",onClick:()=>se.id&&Et(se.id),className:"p-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200",title:s.calendar.actions.save,children:p.jsx(om,{size:16})}),p.jsx("button",{type:"button",onClick:()=>we(null),className:"p-2 bg-slate-100 text-slate-700 rounded-md hover:bg-slate-200",title:s.calendar.actions.cancel,children:p.jsx(ST,{size:16})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center flex-1 min-w-0 mr-3",children:[p.jsx("span",{className:"text-xs font-mono font-medium text-slate-500 bg-slate-100 px-2 py-1 rounded-md mr-3 flex-shrink-0",children:Je(se.date)}),p.jsx("div",{className:`w-3 h-3 rounded-full mr-3 flex-shrink-0 ${se.type==="exam"?"bg-red-500":"bg-blue-500"}`}),p.jsx("span",{className:"text-slate-700 font-medium truncate text-base",children:se.title})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{type:"button",onMouseDown:ce=>ce.stopPropagation(),onClick:ce=>{ce.stopPropagation(),ke(se)},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:s.calendar.actions.move,children:p.jsx(Dd,{size:18})}),p.jsx("button",{type:"button",onMouseDown:ce=>ce.stopPropagation(),onClick:ce=>{ce.stopPropagation(),se.id&&ue(se.id)},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:s.calendar.actions.delete,children:p.jsx(Cc,{size:18})})]})]})},se.id))]})}),p.jsxs("form",{onSubmit:oe,className:"border-t border-slate-100 pt-4 mt-6",children:[p.jsx("h4",{className:"font-semibold text-sm mb-3 text-slate-700",children:s.calendar.newEvent}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{required:!0,name:"title",placeholder:s.resources.forms.title,className:"w-full p-2 border rounded text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{name:"type",className:"flex-1 p-2 border rounded text-sm bg-white focus:ring-2 focus:ring-indigo-500 outline-none",children:[p.jsx("option",{value:"general",children:s.calendar.types.general}),p.jsx("option",{value:"exam",children:s.calendar.types.exam}),p.jsx("option",{value:"meeting",children:s.calendar.types.meeting})]}),p.jsxs("div",{className:"flex items-center border rounded px-2 bg-white focus-within:ring-2 focus-within:ring-indigo-500",children:[p.jsx(k2,{size:14,className:"text-slate-400 mr-2"}),p.jsx("input",{type:"time",name:"time",defaultValue:"09:00",className:"p-1 text-sm outline-none"})]})]}),p.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded text-sm font-medium hover:bg-indigo-700 flex items-center justify-center transition-colors",children:[p.jsx(ki,{size:16,className:"mr-2"})," ",s.calendar.add]})]})]})]})})]})},Z4=()=>{const{t:s}=ai(),[t,a]=k.useState([]),[r,o]=k.useState([]),[c,d]=k.useState(null),[m,y]=k.useState(!1),[v,E]=k.useState(!1),T=async()=>{const[q,G]=await Promise.all([Ze.getItems("classes"),Ze.getItems("students")]);a(q),o(G)};k.useEffect(()=>{T()},[]);const A=async q=>{q.preventDefault();const G=q.target,ne=new FormData(G);await Ze.addItem("classes",{name:ne.get("name"),subject:ne.get("subject"),createdAt:Date.now()}),y(!1),T()},V=async q=>{if(q.preventDefault(),!c)return;const G=q.target,ne=new FormData(G);await Ze.addItem("students",{firstName:ne.get("firstName"),lastName:ne.get("lastName"),groups:[c.id],contactInfo:ne.get("contactInfo"),specialNeeds:ne.get("specialNeeds").split(",").map(le=>le.trim()).filter(Boolean),createdAt:Date.now()}),E(!1),T()},Q=c?r.filter(q=>q.groups.includes(c.id)):[];return p.jsxs("div",{className:"flex h-[calc(100vh-8rem)]",children:[p.jsxs("div",{className:`w-full md:w-1/3 bg-white rounded-xl border border-slate-200 shadow-sm flex flex-col ${c?"hidden md:flex":"flex"}`,children:[p.jsx("div",{className:"p-4 border-b border-slate-100 space-y-3",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h2",{className:"font-bold text-slate-800",children:s.classes.title}),p.jsx("button",{onClick:()=>y(!0),className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100",children:p.jsx(ki,{size:20})})]})}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[t.length===0&&p.jsxs("div",{className:"text-center text-slate-400 py-10",children:[p.jsx(Ec,{size:48,className:"mx-auto mb-2 opacity-50"}),p.jsx("p",{children:s.classes.noClasses})]}),t.map(q=>p.jsx("div",{onClick:()=>d(q),className:`p-4 border rounded-xl cursor-pointer hover:shadow-md transition-all 
                ${(c==null?void 0:c.id)===q.id?"bg-indigo-50 border-indigo-500 ring-1 ring-indigo-500":"bg-white border-slate-200 hover:border-indigo-200"}
              `,children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:q.name}),p.jsxs("p",{className:"text-sm text-slate-500 flex items-center mt-1",children:[p.jsx(Ec,{size:14,className:"mr-1"})," ",q.subject]})]}),p.jsxs("div",{className:"bg-slate-100 px-2 py-1 rounded-md text-xs font-medium text-slate-600 flex items-center",children:[p.jsx(hm,{size:12,className:"mr-1"}),r.filter(G=>G.groups.includes(q.id)).length]})]})},q.id))]})]}),p.jsx("div",{className:`flex-1 md:ml-6 bg-white rounded-xl border border-slate-200 shadow-sm flex flex-col ${c?"flex":"hidden md:flex"}`,children:c?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50/50",children:[p.jsxs("div",{children:[p.jsxs("button",{onClick:()=>d(null),className:"md:hidden text-slate-500 mb-2 text-sm flex items-center",children:[" ",s.students.back]}),p.jsx("h2",{className:"text-2xl font-bold text-indigo-900",children:c.name}),p.jsx("p",{className:"text-slate-500 font-medium",children:c.subject})]}),p.jsxs("button",{onClick:()=>E(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 flex items-center shadow-lg shadow-indigo-200",children:[p.jsx(wT,{size:16,className:"mr-2"})," ",s.classes.addStudentToClass]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[p.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-4 flex items-center",children:[p.jsx(um,{size:16,className:"mr-2"})," ",s.classes.studentsInClass," (",Q.length,")"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[Q.length===0&&p.jsx("p",{className:"text-slate-400 italic text-sm col-span-2",children:s.students.noRecords}),Q.map(q=>p.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg flex items-center bg-white",children:[p.jsxs("div",{className:"w-10 h-10 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold mr-3",children:[q.firstName.charAt(0),q.lastName.charAt(0)]}),p.jsxs("div",{children:[p.jsxs("p",{className:"font-semibold text-slate-800",children:[q.firstName," ",q.lastName]}),p.jsx("p",{className:"text-xs text-slate-500",children:q.contactInfo})]})]},q.id))]})]})]}):p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[p.jsx(Ec,{size:64,className:"mb-4 text-slate-200"}),p.jsx("p",{children:s.classes.noClasses})]})}),m&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl relative",children:[p.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 text-slate-400",children:p.jsx(is,{})}),p.jsx("h3",{className:"text-lg font-bold mb-4",children:s.classes.addClass}),p.jsxs("form",{onSubmit:A,className:"space-y-4",children:[p.jsx("input",{required:!0,name:"name",placeholder:s.classes.forms.name,className:"w-full p-2 border rounded"}),p.jsx("input",{required:!0,name:"subject",placeholder:s.classes.forms.subject,className:"w-full p-2 border rounded"}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded font-medium",children:s.classes.forms.save})]})]})}),v&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl relative",children:[p.jsx("button",{onClick:()=>E(!1),className:"absolute top-4 right-4 text-slate-400",children:p.jsx(is,{})}),p.jsx("h3",{className:"text-lg font-bold mb-4",children:s.classes.addStudentToClass}),p.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:[s.classes.forms.name,": ",p.jsx("span",{className:"font-bold",children:c==null?void 0:c.name})]}),p.jsxs("form",{onSubmit:V,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx("input",{required:!0,name:"firstName",placeholder:s.students.forms.firstName,className:"p-2 border rounded w-full"}),p.jsx("input",{required:!0,name:"lastName",placeholder:s.students.forms.lastName,className:"p-2 border rounded w-full"})]}),p.jsx("input",{name:"contactInfo",placeholder:s.students.forms.contact,className:"p-2 border rounded w-full"}),p.jsx("input",{name:"specialNeeds",placeholder:s.students.forms.tags,className:"p-2 border rounded w-full"}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded font-medium",children:s.students.forms.saveStudent})]})]})})]})},J4=()=>p.jsx(f2,{children:p.jsx(n2,{children:p.jsx(Mx,{children:p.jsxs(as,{path:"/",element:p.jsx(IT,{}),children:[p.jsx(as,{index:!0,element:p.jsx(F4,{})}),p.jsx(as,{path:"calendar",element:p.jsx($4,{})}),p.jsx(as,{path:"classes",element:p.jsx(Z4,{})}),p.jsx(as,{path:"students",element:p.jsx(Q4,{})}),p.jsx(as,{path:"notes",element:p.jsx(Y4,{})}),p.jsx(as,{path:"resources",element:p.jsx(K4,{})}),p.jsx(as,{path:"settings",element:p.jsx(X4,{})})]})})})}),X1=document.getElementById("root");if(!X1)throw new Error("Failed to find the root element");const W4=zE.createRoot(X1);W4.render(p.jsx(CE.StrictMode,{children:p.jsx(J4,{})}));
